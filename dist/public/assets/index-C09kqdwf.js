function G1(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(o,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function uy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var id={exports:{}},Zo={},ad={exports:{}},Pe={};var Cg;function Q1(){if(Cg)return Pe;Cg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,b={};function _(P,B,he){this.props=P,this.context=B,this.refs=b,this.updater=he||S}_.prototype.isReactComponent={},_.prototype.setState=function(P,B){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,B,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function E(){}E.prototype=_.prototype;function N(P,B,he){this.props=P,this.context=B,this.refs=b,this.updater=he||S}var R=N.prototype=new E;R.constructor=N,C(R,_.prototype),R.isPureReactComponent=!0;var O=Array.isArray,M=Object.prototype.hasOwnProperty,F={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function W(P,B,he){var me,Ce={},je=null,Y=null;if(B!=null)for(me in B.ref!==void 0&&(Y=B.ref),B.key!==void 0&&(je=""+B.key),B)M.call(B,me)&&!$.hasOwnProperty(me)&&(Ce[me]=B[me]);var fe=arguments.length-2;if(fe===1)Ce.children=he;else if(1<fe){for(var Ne=Array(fe),Re=0;Re<fe;Re++)Ne[Re]=arguments[Re+2];Ce.children=Ne}if(P&&P.defaultProps)for(me in fe=P.defaultProps,fe)Ce[me]===void 0&&(Ce[me]=fe[me]);return{$$typeof:e,type:P,key:je,ref:Y,props:Ce,_owner:F.current}}function G(P,B){return{$$typeof:e,type:P.type,key:B,ref:P.ref,props:P.props,_owner:P._owner}}function Z(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function de(P){var B={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return B[he]})}var ee=/\/+/g;function pe(P,B){return typeof P=="object"&&P!==null&&P.key!=null?de(""+P.key):B.toString(36)}function J(P,B,he,me,Ce){var je=typeof P;(je==="undefined"||je==="boolean")&&(P=null);var Y=!1;if(P===null)Y=!0;else switch(je){case"string":case"number":Y=!0;break;case"object":switch(P.$$typeof){case e:case t:Y=!0}}if(Y)return Y=P,Ce=Ce(Y),P=me===""?"."+pe(Y,0):me,O(Ce)?(he="",P!=null&&(he=P.replace(ee,"$&/")+"/"),J(Ce,B,he,"",function(Re){return Re})):Ce!=null&&(Z(Ce)&&(Ce=G(Ce,he+(!Ce.key||Y&&Y.key===Ce.key?"":(""+Ce.key).replace(ee,"$&/")+"/")+P)),B.push(Ce)),1;if(Y=0,me=me===""?".":me+":",O(P))for(var fe=0;fe<P.length;fe++){je=P[fe];var Ne=me+pe(je,fe);Y+=J(je,B,he,Ne,Ce)}else if(Ne=w(P),typeof Ne=="function")for(P=Ne.call(P),fe=0;!(je=P.next()).done;)je=je.value,Ne=me+pe(je,fe++),Y+=J(je,B,he,Ne,Ce);else if(je==="object")throw B=String(P),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Y}function xe(P,B,he){if(P==null)return P;var me=[],Ce=0;return J(P,me,"","",function(je){return B.call(he,je,Ce++)}),me}function te(P){if(P._status===-1){var B=P._result;B=B(),B.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=B)}if(P._status===1)return P._result.default;throw P._result}var ie={current:null},U={transition:null},z={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:U,ReactCurrentOwner:F};function q(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:xe,forEach:function(P,B,he){xe(P,function(){B.apply(this,arguments)},he)},count:function(P){var B=0;return xe(P,function(){B++}),B},toArray:function(P){return xe(P,function(B){return B})||[]},only:function(P){if(!Z(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Pe.Component=_,Pe.Fragment=n,Pe.Profiler=i,Pe.PureComponent=N,Pe.StrictMode=o,Pe.Suspense=h,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Pe.act=q,Pe.cloneElement=function(P,B,he){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var me=C({},P.props),Ce=P.key,je=P.ref,Y=P._owner;if(B!=null){if(B.ref!==void 0&&(je=B.ref,Y=F.current),B.key!==void 0&&(Ce=""+B.key),P.type&&P.type.defaultProps)var fe=P.type.defaultProps;for(Ne in B)M.call(B,Ne)&&!$.hasOwnProperty(Ne)&&(me[Ne]=B[Ne]===void 0&&fe!==void 0?fe[Ne]:B[Ne])}var Ne=arguments.length-2;if(Ne===1)me.children=he;else if(1<Ne){fe=Array(Ne);for(var Re=0;Re<Ne;Re++)fe[Re]=arguments[Re+2];me.children=fe}return{$$typeof:e,type:P.type,key:Ce,ref:je,props:me,_owner:Y}},Pe.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},Pe.createElement=W,Pe.createFactory=function(P){var B=W.bind(null,P);return B.type=P,B},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(P){return{$$typeof:f,render:P}},Pe.isValidElement=Z,Pe.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:te}},Pe.memo=function(P,B){return{$$typeof:m,type:P,compare:B===void 0?null:B}},Pe.startTransition=function(P){var B=U.transition;U.transition={};try{P()}finally{U.transition=B}},Pe.unstable_act=q,Pe.useCallback=function(P,B){return ie.current.useCallback(P,B)},Pe.useContext=function(P){return ie.current.useContext(P)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(P){return ie.current.useDeferredValue(P)},Pe.useEffect=function(P,B){return ie.current.useEffect(P,B)},Pe.useId=function(){return ie.current.useId()},Pe.useImperativeHandle=function(P,B,he){return ie.current.useImperativeHandle(P,B,he)},Pe.useInsertionEffect=function(P,B){return ie.current.useInsertionEffect(P,B)},Pe.useLayoutEffect=function(P,B){return ie.current.useLayoutEffect(P,B)},Pe.useMemo=function(P,B){return ie.current.useMemo(P,B)},Pe.useReducer=function(P,B,he){return ie.current.useReducer(P,B,he)},Pe.useRef=function(P){return ie.current.useRef(P)},Pe.useState=function(P){return ie.current.useState(P)},Pe.useSyncExternalStore=function(P,B,he){return ie.current.useSyncExternalStore(P,B,he)},Pe.useTransition=function(){return ie.current.useTransition()},Pe.version="18.3.1",Pe}var Eg;function Ll(){return Eg||(Eg=1,ad.exports=Q1()),ad.exports}var Ng;function Y1(){if(Ng)return Zo;Ng=1;var e=Ll(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var g,x={},w=null,S=null;m!==void 0&&(w=""+m),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)o.call(h,g)&&!l.hasOwnProperty(g)&&(x[g]=h[g]);if(f&&f.defaultProps)for(g in h=f.defaultProps,h)x[g]===void 0&&(x[g]=h[g]);return{$$typeof:t,type:f,key:w,ref:S,props:x,_owner:i.current}}return Zo.Fragment=n,Zo.jsx=u,Zo.jsxs=u,Zo}var kg;function J1(){return kg||(kg=1,id.exports=Y1()),id.exports}var a=J1(),v=Ll();const ze=uy(v),dy=G1({__proto__:null,default:ze},[v]);var Ya={},ld={exports:{}},Pt={},cd={exports:{}},ud={};var Rg;function X1(){return Rg||(Rg=1,(function(e){function t(U,z){var q=U.length;U.push(z);e:for(;0<q;){var P=q-1>>>1,B=U[P];if(0<i(B,z))U[P]=z,U[q]=B,q=P;else break e}}function n(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var z=U[0],q=U.pop();if(q!==z){U[0]=q;e:for(var P=0,B=U.length,he=B>>>1;P<he;){var me=2*(P+1)-1,Ce=U[me],je=me+1,Y=U[je];if(0>i(Ce,q))je<B&&0>i(Y,Ce)?(U[P]=Y,U[je]=q,P=je):(U[P]=Ce,U[me]=q,P=me);else if(je<B&&0>i(Y,q))U[P]=Y,U[je]=q,P=je;else break e}}return z}function i(U,z){var q=U.sortIndex-z.sortIndex;return q!==0?q:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],g=1,x=null,w=3,S=!1,C=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(U){for(var z=n(m);z!==null;){if(z.callback===null)o(m);else if(z.startTime<=U)o(m),z.sortIndex=z.expirationTime,t(h,z);else break;z=n(m)}}function O(U){if(b=!1,R(U),!C)if(n(h)!==null)C=!0,te(M);else{var z=n(m);z!==null&&ie(O,z.startTime-U)}}function M(U,z){C=!1,b&&(b=!1,E(W),W=-1),S=!0;var q=w;try{for(R(z),x=n(h);x!==null&&(!(x.expirationTime>z)||U&&!de());){var P=x.callback;if(typeof P=="function"){x.callback=null,w=x.priorityLevel;var B=P(x.expirationTime<=z);z=e.unstable_now(),typeof B=="function"?x.callback=B:x===n(h)&&o(h),R(z)}else o(h);x=n(h)}if(x!==null)var he=!0;else{var me=n(m);me!==null&&ie(O,me.startTime-z),he=!1}return he}finally{x=null,w=q,S=!1}}var F=!1,$=null,W=-1,G=5,Z=-1;function de(){return!(e.unstable_now()-Z<G)}function ee(){if($!==null){var U=e.unstable_now();Z=U;var z=!0;try{z=$(!0,U)}finally{z?pe():(F=!1,$=null)}}else F=!1}var pe;if(typeof N=="function")pe=function(){N(ee)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,xe=J.port2;J.port1.onmessage=ee,pe=function(){xe.postMessage(null)}}else pe=function(){_(ee,0)};function te(U){$=U,F||(F=!0,pe())}function ie(U,z){W=_(function(){U(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){C||S||(C=!0,te(M))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(U){switch(w){case 1:case 2:case 3:var z=3;break;default:z=w}var q=w;w=z;try{return U()}finally{w=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=w;w=U;try{return z()}finally{w=q}},e.unstable_scheduleCallback=function(U,z,q){var P=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?P+q:P):q=P,U){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=q+B,U={id:g++,callback:z,priorityLevel:U,startTime:q,expirationTime:B,sortIndex:-1},q>P?(U.sortIndex=q,t(m,U),n(h)===null&&U===n(m)&&(b?(E(W),W=-1):b=!0,ie(O,q-P))):(U.sortIndex=B,t(h,U),C||S||(C=!0,te(M))),U},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(U){var z=w;return function(){var q=w;w=z;try{return U.apply(this,arguments)}finally{w=q}}}})(ud)),ud}var Tg;function Z1(){return Tg||(Tg=1,cd.exports=X1()),cd.exports}var Pg;function ej(){if(Pg)return Pt;Pg=1;var e=Ll(),t=Z1();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(i[r]=s,r=0;r<s.length;r++)o.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function w(r){return h.call(x,r)?!0:h.call(g,r)?!1:m.test(r)?x[r]=!0:(g[r]=!0,!1)}function S(r,s,c,d){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,c,d){if(s===null||typeof s>"u"||S(r,s,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,c,d,p,y,j){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=j}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];_[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(E,N);_[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(E,N);_[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(E,N);_[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,s,c,d){var p=_.hasOwnProperty(s)?_[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,c,p,d)&&(c=null),d||p===null?w(s)&&(c===null?r.removeAttribute(s):r.setAttribute(s,""+c)):p.mustUseProperty?r[p.propertyName]=c===null?p.type===3?!1:"":c:(s=p.attributeName,d=p.attributeNamespace,c===null?r.removeAttribute(s):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,d?r.setAttributeNS(d,s,c):r.setAttribute(s,c))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),de=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),U=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,P;function B(r){if(P===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||""}return`
`+P+r}var he=!1;function me(r,s){if(!r||he)return"";he=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(L){var d=L}Reflect.construct(r,[],s)}else{try{s.call()}catch(L){d=L}r.call(s.prototype)}else{try{throw Error()}catch(L){d=L}r()}}catch(L){if(L&&d&&typeof L.stack=="string"){for(var p=L.stack.split(`
`),y=d.stack.split(`
`),j=p.length-1,k=y.length-1;1<=j&&0<=k&&p[j]!==y[k];)k--;for(;1<=j&&0<=k;j--,k--)if(p[j]!==y[k]){if(j!==1||k!==1)do if(j--,k--,0>k||p[j]!==y[k]){var T=`
`+p[j].replace(" at new "," at ");return r.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",r.displayName)),T}while(1<=j&&0<=k);break}}}finally{he=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?B(r):""}function Ce(r){switch(r.tag){case 5:return B(r.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return r=me(r.type,!1),r;case 11:return r=me(r.type.render,!1),r;case 1:return r=me(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $:return"Fragment";case F:return"Portal";case G:return"Profiler";case W:return"StrictMode";case pe:return"Suspense";case J:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case de:return(r.displayName||"Context")+".Consumer";case Z:return(r._context.displayName||"Context")+".Provider";case ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case xe:return s=r.displayName||null,s!==null?s:je(r.type)||"Memo";case te:s=r._payload,r=r._init;try{return je(r(s))}catch{}}return null}function Y(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(s);case 8:return s===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ne(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Re(r){var s=Ne(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(j){d=""+j,y.call(this,j)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(j){d=""+j},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $e(r){r._valueTracker||(r._valueTracker=Re(r))}function Qe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return r&&(d=Ne(r)?r.checked?"true":"false":r.value),r=d,r!==c?(s.setValue(r),!0):!1}function dt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function rn(r,s){var c=s.checked;return q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ns(r,s){var c=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;c=fe(s.value!=null?s.value:c),r._wrapperState={initialChecked:d,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function rs(r,s){s=s.checked,s!=null&&R(r,"checked",s,!1)}function Cr(r,s){rs(r,s);var c=fe(s.value),d=s.type;if(c!=null)d==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?mc(r,s.type,c):s.hasOwnProperty("defaultValue")&&mc(r,s.type,fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ih(r,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,c||s===r.value||(r.value=s),r.defaultValue=s}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function mc(r,s,c){(s!=="number"||dt(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var po=Array.isArray;function ss(r,s,c,d){if(r=r.options,s){s={};for(var p=0;p<c.length;p++)s["$"+c[p]]=!0;for(c=0;c<r.length;c++)p=s.hasOwnProperty("$"+r[c].value),r[c].selected!==p&&(r[c].selected=p),p&&d&&(r[c].defaultSelected=!0)}else{for(c=""+fe(c),s=null,p=0;p<r.length;p++){if(r[p].value===c){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function gc(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Dh(r,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(n(92));if(po(c)){if(1<c.length)throw Error(n(93));c=c[0]}s=c}s==null&&(s=""),c=s}r._wrapperState={initialValue:fe(c)}}function Mh(r,s){var c=fe(s.value),d=fe(s.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),s.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),d!=null&&(r.defaultValue=""+d)}function Lh(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function $h(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vc(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?$h(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Bi,Fh=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,c,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Bi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function mo(r,s){if(s){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=s;return}}r.textContent=s}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XS=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(r){XS.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),go[s]=go[r]})});function Uh(r,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||go.hasOwnProperty(r)&&go[r]?(""+s).trim():s+"px"}function zh(r,s){r=r.style;for(var c in s)if(s.hasOwnProperty(c)){var d=c.indexOf("--")===0,p=Uh(c,s[c],d);c==="float"&&(c="cssFloat"),d?r.setProperty(c,p):r[c]=p}}var ZS=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(r,s){if(s){if(ZS[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function xc(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=null;function bc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Sc=null,os=null,is=null;function Bh(r){if(r=$o(r)){if(typeof Sc!="function")throw Error(n(280));var s=r.stateNode;s&&(s=da(s),Sc(r.stateNode,r.type,s))}}function Vh(r){os?is?is.push(r):is=[r]:os=r}function Hh(){if(os){var r=os,s=is;if(is=os=null,Bh(r),s)for(r=0;r<s.length;r++)Bh(s[r])}}function Wh(r,s){return r(s)}function Kh(){}var _c=!1;function qh(r,s,c){if(_c)return r(s,c);_c=!0;try{return Wh(r,s,c)}finally{_c=!1,(os!==null||is!==null)&&(Kh(),Hh())}}function vo(r,s){var c=r.stateNode;if(c===null)return null;var d=da(c);if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var jc=!1;if(f)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){jc=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{jc=!1}function e_(r,s,c,d,p,y,j,k,T){var L=Array.prototype.slice.call(arguments,3);try{s.apply(c,L)}catch(H){this.onError(H)}}var xo=!1,Vi=null,Hi=!1,Cc=null,t_={onError:function(r){xo=!0,Vi=r}};function n_(r,s,c,d,p,y,j,k,T){xo=!1,Vi=null,e_.apply(t_,arguments)}function r_(r,s,c,d,p,y,j,k,T){if(n_.apply(this,arguments),xo){if(xo){var L=Vi;xo=!1,Vi=null}else throw Error(n(198));Hi||(Hi=!0,Cc=L)}}function Er(r){var s=r,c=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(c=s.return),r=s.return;while(r)}return s.tag===3?c:null}function Gh(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Qh(r){if(Er(r)!==r)throw Error(n(188))}function s_(r){var s=r.alternate;if(!s){if(s=Er(r),s===null)throw Error(n(188));return s!==r?null:r}for(var c=r,d=s;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return Qh(p),r;if(y===d)return Qh(p),s;y=y.sibling}throw Error(n(188))}if(c.return!==d.return)c=p,d=y;else{for(var j=!1,k=p.child;k;){if(k===c){j=!0,c=p,d=y;break}if(k===d){j=!0,d=p,c=y;break}k=k.sibling}if(!j){for(k=y.child;k;){if(k===c){j=!0,c=y,d=p;break}if(k===d){j=!0,d=y,c=p;break}k=k.sibling}if(!j)throw Error(n(189))}}if(c.alternate!==d)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:s}function Yh(r){return r=s_(r),r!==null?Jh(r):null}function Jh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Jh(r);if(s!==null)return s;r=r.sibling}return null}var Xh=t.unstable_scheduleCallback,Zh=t.unstable_cancelCallback,o_=t.unstable_shouldYield,i_=t.unstable_requestPaint,et=t.unstable_now,a_=t.unstable_getCurrentPriorityLevel,Ec=t.unstable_ImmediatePriority,ep=t.unstable_UserBlockingPriority,Wi=t.unstable_NormalPriority,l_=t.unstable_LowPriority,tp=t.unstable_IdlePriority,Ki=null,bn=null;function c_(r){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ki,r,void 0,(r.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:f_,u_=Math.log,d_=Math.LN2;function f_(r){return r>>>=0,r===0?32:31-(u_(r)/d_|0)|0}var qi=64,Gi=4194304;function wo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qi(r,s){var c=r.pendingLanes;if(c===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,j=c&268435455;if(j!==0){var k=j&~p;k!==0?d=wo(k):(y&=j,y!==0&&(d=wo(y)))}else j=c&~p,j!==0?d=wo(j):y!==0&&(d=wo(y));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((d&4)!==0&&(d|=c&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)c=31-sn(s),p=1<<c,d|=r[c],s&=~p;return d}function h_(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p_(r,s){for(var c=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var j=31-sn(y),k=1<<j,T=p[j];T===-1?((k&c)===0||(k&d)!==0)&&(p[j]=h_(k,s)):T<=s&&(r.expiredLanes|=k),y&=~k}}function Nc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function np(){var r=qi;return qi<<=1,(qi&4194240)===0&&(qi=64),r}function kc(r){for(var s=[],c=0;31>c;c++)s.push(r);return s}function bo(r,s,c){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-sn(s),r[s]=c}function m_(r,s){var c=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<c;){var p=31-sn(c),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,c&=~y}}function Rc(r,s){var c=r.entangledLanes|=s;for(r=r.entanglements;c;){var d=31-sn(c),p=1<<d;p&s|r[d]&s&&(r[d]|=s),c&=~p}}var Fe=0;function rp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var sp,Tc,op,ip,ap,Pc=!1,Yi=[],Yn=null,Jn=null,Xn=null,So=new Map,_o=new Map,Zn=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lp(r,s){switch(r){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":So.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(s.pointerId)}}function jo(r,s,c,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=$o(s),s!==null&&Tc(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function v_(r,s,c,d,p){switch(s){case"focusin":return Yn=jo(Yn,r,s,c,d,p),!0;case"dragenter":return Jn=jo(Jn,r,s,c,d,p),!0;case"mouseover":return Xn=jo(Xn,r,s,c,d,p),!0;case"pointerover":var y=p.pointerId;return So.set(y,jo(So.get(y)||null,r,s,c,d,p)),!0;case"gotpointercapture":return y=p.pointerId,_o.set(y,jo(_o.get(y)||null,r,s,c,d,p)),!0}return!1}function cp(r){var s=Nr(r.target);if(s!==null){var c=Er(s);if(c!==null){if(s=c.tag,s===13){if(s=Gh(c),s!==null){r.blockedOn=s,ap(r.priority,function(){op(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ji(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var c=Oc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);wc=d,c.target.dispatchEvent(d),wc=null}else return s=$o(c),s!==null&&Tc(s),r.blockedOn=c,!1;s.shift()}return!0}function up(r,s,c){Ji(r)&&c.delete(s)}function y_(){Pc=!1,Yn!==null&&Ji(Yn)&&(Yn=null),Jn!==null&&Ji(Jn)&&(Jn=null),Xn!==null&&Ji(Xn)&&(Xn=null),So.forEach(up),_o.forEach(up)}function Co(r,s){r.blockedOn===s&&(r.blockedOn=null,Pc||(Pc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,y_)))}function Eo(r){function s(p){return Co(p,r)}if(0<Yi.length){Co(Yi[0],r);for(var c=1;c<Yi.length;c++){var d=Yi[c];d.blockedOn===r&&(d.blockedOn=null)}}for(Yn!==null&&Co(Yn,r),Jn!==null&&Co(Jn,r),Xn!==null&&Co(Xn,r),So.forEach(s),_o.forEach(s),c=0;c<Zn.length;c++)d=Zn[c],d.blockedOn===r&&(d.blockedOn=null);for(;0<Zn.length&&(c=Zn[0],c.blockedOn===null);)cp(c),c.blockedOn===null&&Zn.shift()}var as=O.ReactCurrentBatchConfig,Xi=!0;function x_(r,s,c,d){var p=Fe,y=as.transition;as.transition=null;try{Fe=1,Ac(r,s,c,d)}finally{Fe=p,as.transition=y}}function w_(r,s,c,d){var p=Fe,y=as.transition;as.transition=null;try{Fe=4,Ac(r,s,c,d)}finally{Fe=p,as.transition=y}}function Ac(r,s,c,d){if(Xi){var p=Oc(r,s,c,d);if(p===null)Yc(r,s,d,Zi,c),lp(r,d);else if(v_(p,r,s,c,d))d.stopPropagation();else if(lp(r,d),s&4&&-1<g_.indexOf(r)){for(;p!==null;){var y=$o(p);if(y!==null&&sp(y),y=Oc(r,s,c,d),y===null&&Yc(r,s,d,Zi,c),y===p)break;p=y}p!==null&&d.stopPropagation()}else Yc(r,s,d,null,c)}}var Zi=null;function Oc(r,s,c,d){if(Zi=null,r=bc(d),r=Nr(r),r!==null)if(s=Er(r),s===null)r=null;else if(c=s.tag,c===13){if(r=Gh(s),r!==null)return r;r=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Zi=r,null}function dp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a_()){case Ec:return 1;case ep:return 4;case Wi:case l_:return 16;case tp:return 536870912;default:return 16}default:return 16}}var er=null,Ic=null,ea=null;function fp(){if(ea)return ea;var r,s=Ic,c=s.length,d,p="value"in er?er.value:er.textContent,y=p.length;for(r=0;r<c&&s[r]===p[r];r++);var j=c-r;for(d=1;d<=j&&s[c-d]===p[y-d];d++);return ea=p.slice(r,1<d?1-d:void 0)}function ta(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function na(){return!0}function hp(){return!1}function Ot(r){function s(c,d,p,y,j){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(c=r[k],this[k]=c?c(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?na:hp,this.isPropagationStopped=hp,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),s}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=Ot(ls),No=q({},ls,{view:0,detail:0}),b_=Ot(No),Mc,Lc,ko,ra=q({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ko&&(ko&&r.type==="mousemove"?(Mc=r.screenX-ko.screenX,Lc=r.screenY-ko.screenY):Lc=Mc=0,ko=r),Mc)},movementY:function(r){return"movementY"in r?r.movementY:Lc}}),pp=Ot(ra),S_=q({},ra,{dataTransfer:0}),__=Ot(S_),j_=q({},No,{relatedTarget:0}),$c=Ot(j_),C_=q({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),E_=Ot(C_),N_=q({},ls,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),k_=Ot(N_),R_=q({},ls,{data:0}),mp=Ot(R_),T_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O_(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=A_[r])?!!s[r]:!1}function Fc(){return O_}var I_=q({},No,{key:function(r){if(r.key){var s=T_[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ta(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?P_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(r){return r.type==="keypress"?ta(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ta(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),D_=Ot(I_),M_=q({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gp=Ot(M_),L_=q({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),$_=Ot(L_),F_=q({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),U_=Ot(F_),z_=q({},ra,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),B_=Ot(z_),V_=[9,13,27,32],Uc=f&&"CompositionEvent"in window,Ro=null;f&&"documentMode"in document&&(Ro=document.documentMode);var H_=f&&"TextEvent"in window&&!Ro,vp=f&&(!Uc||Ro&&8<Ro&&11>=Ro),yp=" ",xp=!1;function wp(r,s){switch(r){case"keyup":return V_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var cs=!1;function W_(r,s){switch(r){case"compositionend":return bp(s);case"keypress":return s.which!==32?null:(xp=!0,yp);case"textInput":return r=s.data,r===yp&&xp?null:r;default:return null}}function K_(r,s){if(cs)return r==="compositionend"||!Uc&&wp(r,s)?(r=fp(),ea=Ic=er=null,cs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vp&&s.locale!=="ko"?null:s.data;default:return null}}var q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!q_[r.type]:s==="textarea"}function _p(r,s,c,d){Vh(d),s=la(s,"onChange"),0<s.length&&(c=new Dc("onChange","change",null,c,d),r.push({event:c,listeners:s}))}var To=null,Po=null;function G_(r){zp(r,0)}function sa(r){var s=ps(r);if(Qe(s))return r}function Q_(r,s){if(r==="change")return s}var jp=!1;if(f){var zc;if(f){var Bc="oninput"in document;if(!Bc){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Bc=typeof Cp.oninput=="function"}zc=Bc}else zc=!1;jp=zc&&(!document.documentMode||9<document.documentMode)}function Ep(){To&&(To.detachEvent("onpropertychange",Np),Po=To=null)}function Np(r){if(r.propertyName==="value"&&sa(Po)){var s=[];_p(s,Po,r,bc(r)),qh(G_,s)}}function Y_(r,s,c){r==="focusin"?(Ep(),To=s,Po=c,To.attachEvent("onpropertychange",Np)):r==="focusout"&&Ep()}function J_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sa(Po)}function X_(r,s){if(r==="click")return sa(s)}function Z_(r,s){if(r==="input"||r==="change")return sa(s)}function e1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var on=typeof Object.is=="function"?Object.is:e1;function Ao(r,s){if(on(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var c=Object.keys(r),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!h.call(s,p)||!on(r[p],s[p]))return!1}return!0}function kp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Rp(r,s){var c=kp(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=s&&d>=s)return{node:c,offset:s-r};r=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=kp(c)}}function Tp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Tp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Pp(){for(var r=window,s=dt();s instanceof r.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)r=s.contentWindow;else break;s=dt(r.document)}return s}function Vc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function t1(r){var s=Pp(),c=r.focusedElem,d=r.selectionRange;if(s!==c&&c&&c.ownerDocument&&Tp(c.ownerDocument.documentElement,c)){if(d!==null&&Vc(c)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(r,c.value.length);else if(r=(s=c.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=c.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Rp(c,y);var j=Rp(c,d);p&&j&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==j.node||r.focusOffset!==j.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(j.node,j.offset)):(s.setEnd(j.node,j.offset),r.addRange(s)))}}for(s=[],r=c;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)r=s[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var n1=f&&"documentMode"in document&&11>=document.documentMode,us=null,Hc=null,Oo=null,Wc=!1;function Ap(r,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Wc||us==null||us!==dt(d)||(d=us,"selectionStart"in d&&Vc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oo&&Ao(Oo,d)||(Oo=d,d=la(Hc,"onSelect"),0<d.length&&(s=new Dc("onSelect","select",null,s,c),r.push({event:s,listeners:d}),s.target=us)))}function oa(r,s){var c={};return c[r.toLowerCase()]=s.toLowerCase(),c["Webkit"+r]="webkit"+s,c["Moz"+r]="moz"+s,c}var ds={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionend:oa("Transition","TransitionEnd")},Kc={},Op={};f&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function ia(r){if(Kc[r])return Kc[r];if(!ds[r])return r;var s=ds[r],c;for(c in s)if(s.hasOwnProperty(c)&&c in Op)return Kc[r]=s[c];return r}var Ip=ia("animationend"),Dp=ia("animationiteration"),Mp=ia("animationstart"),Lp=ia("transitionend"),$p=new Map,Fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(r,s){$p.set(r,s),l(s,[r])}for(var qc=0;qc<Fp.length;qc++){var Gc=Fp[qc],r1=Gc.toLowerCase(),s1=Gc[0].toUpperCase()+Gc.slice(1);tr(r1,"on"+s1)}tr(Ip,"onAnimationEnd"),tr(Dp,"onAnimationIteration"),tr(Mp,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(Lp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Up(r,s,c){var d=r.type||"unknown-event";r.currentTarget=c,r_(d,s,void 0,r),r.currentTarget=null}function zp(r,s){s=(s&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var j=d.length-1;0<=j;j--){var k=d[j],T=k.instance,L=k.currentTarget;if(k=k.listener,T!==y&&p.isPropagationStopped())break e;Up(p,k,L),y=T}else for(j=0;j<d.length;j++){if(k=d[j],T=k.instance,L=k.currentTarget,k=k.listener,T!==y&&p.isPropagationStopped())break e;Up(p,k,L),y=T}}}if(Hi)throw r=Cc,Hi=!1,Cc=null,r}function He(r,s){var c=s[nu];c===void 0&&(c=s[nu]=new Set);var d=r+"__bubble";c.has(d)||(Bp(s,r,2,!1),c.add(d))}function Qc(r,s,c){var d=0;s&&(d|=4),Bp(c,r,d,s)}var aa="_reactListening"+Math.random().toString(36).slice(2);function Do(r){if(!r[aa]){r[aa]=!0,o.forEach(function(c){c!=="selectionchange"&&(o1.has(c)||Qc(c,!1,r),Qc(c,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[aa]||(s[aa]=!0,Qc("selectionchange",!1,s))}}function Bp(r,s,c,d){switch(dp(s)){case 1:var p=x_;break;case 4:p=w_;break;default:p=Ac}c=p.bind(null,s,c,r),p=void 0,!jc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,c,{capture:!0,passive:p}):r.addEventListener(s,c,!0):p!==void 0?r.addEventListener(s,c,{passive:p}):r.addEventListener(s,c,!1)}function Yc(r,s,c,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var j=d.tag;if(j===3||j===4){var k=d.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(j===4)for(j=d.return;j!==null;){var T=j.tag;if((T===3||T===4)&&(T=j.stateNode.containerInfo,T===p||T.nodeType===8&&T.parentNode===p))return;j=j.return}for(;k!==null;){if(j=Nr(k),j===null)return;if(T=j.tag,T===5||T===6){d=y=j;continue e}k=k.parentNode}}d=d.return}qh(function(){var L=y,H=bc(c),K=[];e:{var V=$p.get(r);if(V!==void 0){var ne=Dc,oe=r;switch(r){case"keypress":if(ta(c)===0)break e;case"keydown":case"keyup":ne=D_;break;case"focusin":oe="focus",ne=$c;break;case"focusout":oe="blur",ne=$c;break;case"beforeblur":case"afterblur":ne=$c;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=$_;break;case Ip:case Dp:case Mp:ne=E_;break;case Lp:ne=U_;break;case"scroll":ne=b_;break;case"wheel":ne=B_;break;case"copy":case"cut":case"paste":ne=k_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=gp}var ae=(s&4)!==0,tt=!ae&&r==="scroll",I=ae?V!==null?V+"Capture":null:V;ae=[];for(var A=L,D;A!==null;){D=A;var Q=D.stateNode;if(D.tag===5&&Q!==null&&(D=Q,I!==null&&(Q=vo(A,I),Q!=null&&ae.push(Mo(A,Q,D)))),tt)break;A=A.return}0<ae.length&&(V=new ne(V,oe,null,c,H),K.push({event:V,listeners:ae}))}}if((s&7)===0){e:{if(V=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",V&&c!==wc&&(oe=c.relatedTarget||c.fromElement)&&(Nr(oe)||oe[In]))break e;if((ne||V)&&(V=H.window===H?H:(V=H.ownerDocument)?V.defaultView||V.parentWindow:window,ne?(oe=c.relatedTarget||c.toElement,ne=L,oe=oe?Nr(oe):null,oe!==null&&(tt=Er(oe),oe!==tt||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ne=null,oe=L),ne!==oe)){if(ae=pp,Q="onMouseLeave",I="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(ae=gp,Q="onPointerLeave",I="onPointerEnter",A="pointer"),tt=ne==null?V:ps(ne),D=oe==null?V:ps(oe),V=new ae(Q,A+"leave",ne,c,H),V.target=tt,V.relatedTarget=D,Q=null,Nr(H)===L&&(ae=new ae(I,A+"enter",oe,c,H),ae.target=D,ae.relatedTarget=tt,Q=ae),tt=Q,ne&&oe)t:{for(ae=ne,I=oe,A=0,D=ae;D;D=fs(D))A++;for(D=0,Q=I;Q;Q=fs(Q))D++;for(;0<A-D;)ae=fs(ae),A--;for(;0<D-A;)I=fs(I),D--;for(;A--;){if(ae===I||I!==null&&ae===I.alternate)break t;ae=fs(ae),I=fs(I)}ae=null}else ae=null;ne!==null&&Vp(K,V,ne,ae,!1),oe!==null&&tt!==null&&Vp(K,tt,oe,ae,!0)}}e:{if(V=L?ps(L):window,ne=V.nodeName&&V.nodeName.toLowerCase(),ne==="select"||ne==="input"&&V.type==="file")var ce=Q_;else if(Sp(V))if(jp)ce=Z_;else{ce=J_;var ve=Y_}else(ne=V.nodeName)&&ne.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(ce=X_);if(ce&&(ce=ce(r,L))){_p(K,ce,c,H);break e}ve&&ve(r,V,L),r==="focusout"&&(ve=V._wrapperState)&&ve.controlled&&V.type==="number"&&mc(V,"number",V.value)}switch(ve=L?ps(L):window,r){case"focusin":(Sp(ve)||ve.contentEditable==="true")&&(us=ve,Hc=L,Oo=null);break;case"focusout":Oo=Hc=us=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,Ap(K,c,H);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":Ap(K,c,H)}var ye;if(Uc)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else cs?wp(r,c)&&(Se="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Se="onCompositionStart");Se&&(vp&&c.locale!=="ko"&&(cs||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&cs&&(ye=fp()):(er=H,Ic="value"in er?er.value:er.textContent,cs=!0)),ve=la(L,Se),0<ve.length&&(Se=new mp(Se,r,null,c,H),K.push({event:Se,listeners:ve}),ye?Se.data=ye:(ye=bp(c),ye!==null&&(Se.data=ye)))),(ye=H_?W_(r,c):K_(r,c))&&(L=la(L,"onBeforeInput"),0<L.length&&(H=new mp("onBeforeInput","beforeinput",null,c,H),K.push({event:H,listeners:L}),H.data=ye))}zp(K,s)})}function Mo(r,s,c){return{instance:r,listener:s,currentTarget:c}}function la(r,s){for(var c=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=vo(r,c),y!=null&&d.unshift(Mo(r,y,p)),y=vo(r,s),y!=null&&d.push(Mo(r,y,p))),r=r.return}return d}function fs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Vp(r,s,c,d,p){for(var y=s._reactName,j=[];c!==null&&c!==d;){var k=c,T=k.alternate,L=k.stateNode;if(T!==null&&T===d)break;k.tag===5&&L!==null&&(k=L,p?(T=vo(c,y),T!=null&&j.unshift(Mo(c,T,k))):p||(T=vo(c,y),T!=null&&j.push(Mo(c,T,k)))),c=c.return}j.length!==0&&r.push({event:s,listeners:j})}var i1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Hp(r){return(typeof r=="string"?r:""+r).replace(i1,`
`).replace(a1,"")}function ca(r,s,c){if(s=Hp(s),Hp(r)!==s&&c)throw Error(n(425))}function ua(){}var Jc=null,Xc=null;function Zc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(r){return Wp.resolve(null).then(r).catch(u1)}:eu;function u1(r){setTimeout(function(){throw r})}function tu(r,s){var c=s,d=0;do{var p=c.nextSibling;if(r.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(d===0){r.removeChild(p),Eo(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=p}while(c);Eo(s)}function nr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Kp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return r;s--}else c==="/$"&&s++}r=r.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Sn="__reactFiber$"+hs,Lo="__reactProps$"+hs,In="__reactContainer$"+hs,nu="__reactEvents$"+hs,d1="__reactListeners$"+hs,f1="__reactHandles$"+hs;function Nr(r){var s=r[Sn];if(s)return s;for(var c=r.parentNode;c;){if(s=c[In]||c[Sn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(r=Kp(r);r!==null;){if(c=r[Sn])return c;r=Kp(r)}return s}r=c,c=r.parentNode}return null}function $o(r){return r=r[Sn]||r[In],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ps(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function da(r){return r[Lo]||null}var ru=[],ms=-1;function rr(r){return{current:r}}function We(r){0>ms||(r.current=ru[ms],ru[ms]=null,ms--)}function Be(r,s){ms++,ru[ms]=r.current,r.current=s}var sr={},vt=rr(sr),Et=rr(!1),kr=sr;function gs(r,s){var c=r.type.contextTypes;if(!c)return sr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in c)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Nt(r){return r=r.childContextTypes,r!=null}function fa(){We(Et),We(vt)}function qp(r,s,c){if(vt.current!==sr)throw Error(n(168));Be(vt,s),Be(Et,c)}function Gp(r,s,c){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(n(108,Y(r)||"Unknown",p));return q({},c,d)}function ha(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||sr,kr=vt.current,Be(vt,r),Be(Et,Et.current),!0}function Qp(r,s,c){var d=r.stateNode;if(!d)throw Error(n(169));c?(r=Gp(r,s,kr),d.__reactInternalMemoizedMergedChildContext=r,We(Et),We(vt),Be(vt,r)):We(Et),Be(Et,c)}var Dn=null,pa=!1,su=!1;function Yp(r){Dn===null?Dn=[r]:Dn.push(r)}function h1(r){pa=!0,Yp(r)}function or(){if(!su&&Dn!==null){su=!0;var r=0,s=Fe;try{var c=Dn;for(Fe=1;r<c.length;r++){var d=c[r];do d=d(!0);while(d!==null)}Dn=null,pa=!1}catch(p){throw Dn!==null&&(Dn=Dn.slice(r+1)),Xh(Ec,or),p}finally{Fe=s,su=!1}}return null}var vs=[],ys=0,ma=null,ga=0,Vt=[],Ht=0,Rr=null,Mn=1,Ln="";function Tr(r,s){vs[ys++]=ga,vs[ys++]=ma,ma=r,ga=s}function Jp(r,s,c){Vt[Ht++]=Mn,Vt[Ht++]=Ln,Vt[Ht++]=Rr,Rr=r;var d=Mn;r=Ln;var p=32-sn(d)-1;d&=~(1<<p),c+=1;var y=32-sn(s)+p;if(30<y){var j=p-p%5;y=(d&(1<<j)-1).toString(32),d>>=j,p-=j,Mn=1<<32-sn(s)+p|c<<p|d,Ln=y+r}else Mn=1<<y|c<<p|d,Ln=r}function ou(r){r.return!==null&&(Tr(r,1),Jp(r,1,0))}function iu(r){for(;r===ma;)ma=vs[--ys],vs[ys]=null,ga=vs[--ys],vs[ys]=null;for(;r===Rr;)Rr=Vt[--Ht],Vt[Ht]=null,Ln=Vt[--Ht],Vt[Ht]=null,Mn=Vt[--Ht],Vt[Ht]=null}var It=null,Dt=null,qe=!1,an=null;function Xp(r,s){var c=Gt(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=r,s=r.deletions,s===null?(r.deletions=[c],r.flags|=16):s.push(c)}function Zp(r,s){switch(r.tag){case 5:var c=r.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,It=r,Dt=nr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,It=r,Dt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=Rr!==null?{id:Mn,overflow:Ln}:null,r.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Gt(18,null,null,0),c.stateNode=s,c.return=r,r.child=c,It=r,Dt=null,!0):!1;default:return!1}}function au(r){return(r.mode&1)!==0&&(r.flags&128)===0}function lu(r){if(qe){var s=Dt;if(s){var c=s;if(!Zp(r,s)){if(au(r))throw Error(n(418));s=nr(c.nextSibling);var d=It;s&&Zp(r,s)?Xp(d,c):(r.flags=r.flags&-4097|2,qe=!1,It=r)}}else{if(au(r))throw Error(n(418));r.flags=r.flags&-4097|2,qe=!1,It=r}}}function em(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;It=r}function va(r){if(r!==It)return!1;if(!qe)return em(r),qe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Zc(r.type,r.memoizedProps)),s&&(s=Dt)){if(au(r))throw tm(),Error(n(418));for(;s;)Xp(r,s),s=nr(s.nextSibling)}if(em(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(s===0){Dt=nr(r.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}r=r.nextSibling}Dt=null}}else Dt=It?nr(r.stateNode.nextSibling):null;return!0}function tm(){for(var r=Dt;r;)r=nr(r.nextSibling)}function xs(){Dt=It=null,qe=!1}function cu(r){an===null?an=[r]:an.push(r)}var p1=O.ReactCurrentBatchConfig;function Fo(r,s,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var d=c.stateNode}if(!d)throw Error(n(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(j){var k=p.refs;j===null?delete k[y]:k[y]=j},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function ya(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function nm(r){var s=r._init;return s(r._payload)}function rm(r){function s(I,A){if(r){var D=I.deletions;D===null?(I.deletions=[A],I.flags|=16):D.push(A)}}function c(I,A){if(!r)return null;for(;A!==null;)s(I,A),A=A.sibling;return null}function d(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function p(I,A){return I=hr(I,A),I.index=0,I.sibling=null,I}function y(I,A,D){return I.index=D,r?(D=I.alternate,D!==null?(D=D.index,D<A?(I.flags|=2,A):D):(I.flags|=2,A)):(I.flags|=1048576,A)}function j(I){return r&&I.alternate===null&&(I.flags|=2),I}function k(I,A,D,Q){return A===null||A.tag!==6?(A=ed(D,I.mode,Q),A.return=I,A):(A=p(A,D),A.return=I,A)}function T(I,A,D,Q){var ce=D.type;return ce===$?H(I,A,D.props.children,Q,D.key):A!==null&&(A.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===te&&nm(ce)===A.type)?(Q=p(A,D.props),Q.ref=Fo(I,A,D),Q.return=I,Q):(Q=Ba(D.type,D.key,D.props,null,I.mode,Q),Q.ref=Fo(I,A,D),Q.return=I,Q)}function L(I,A,D,Q){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=td(D,I.mode,Q),A.return=I,A):(A=p(A,D.children||[]),A.return=I,A)}function H(I,A,D,Q,ce){return A===null||A.tag!==7?(A=$r(D,I.mode,Q,ce),A.return=I,A):(A=p(A,D),A.return=I,A)}function K(I,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return A=ed(""+A,I.mode,D),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return D=Ba(A.type,A.key,A.props,null,I.mode,D),D.ref=Fo(I,null,A),D.return=I,D;case F:return A=td(A,I.mode,D),A.return=I,A;case te:var Q=A._init;return K(I,Q(A._payload),D)}if(po(A)||z(A))return A=$r(A,I.mode,D,null),A.return=I,A;ya(I,A)}return null}function V(I,A,D,Q){var ce=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ce!==null?null:k(I,A,""+D,Q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case M:return D.key===ce?T(I,A,D,Q):null;case F:return D.key===ce?L(I,A,D,Q):null;case te:return ce=D._init,V(I,A,ce(D._payload),Q)}if(po(D)||z(D))return ce!==null?null:H(I,A,D,Q,null);ya(I,D)}return null}function ne(I,A,D,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return I=I.get(D)||null,k(A,I,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return I=I.get(Q.key===null?D:Q.key)||null,T(A,I,Q,ce);case F:return I=I.get(Q.key===null?D:Q.key)||null,L(A,I,Q,ce);case te:var ve=Q._init;return ne(I,A,D,ve(Q._payload),ce)}if(po(Q)||z(Q))return I=I.get(D)||null,H(A,I,Q,ce,null);ya(A,Q)}return null}function oe(I,A,D,Q){for(var ce=null,ve=null,ye=A,Se=A=0,ut=null;ye!==null&&Se<D.length;Se++){ye.index>Se?(ut=ye,ye=null):ut=ye.sibling;var Ie=V(I,ye,D[Se],Q);if(Ie===null){ye===null&&(ye=ut);break}r&&ye&&Ie.alternate===null&&s(I,ye),A=y(Ie,A,Se),ve===null?ce=Ie:ve.sibling=Ie,ve=Ie,ye=ut}if(Se===D.length)return c(I,ye),qe&&Tr(I,Se),ce;if(ye===null){for(;Se<D.length;Se++)ye=K(I,D[Se],Q),ye!==null&&(A=y(ye,A,Se),ve===null?ce=ye:ve.sibling=ye,ve=ye);return qe&&Tr(I,Se),ce}for(ye=d(I,ye);Se<D.length;Se++)ut=ne(ye,I,Se,D[Se],Q),ut!==null&&(r&&ut.alternate!==null&&ye.delete(ut.key===null?Se:ut.key),A=y(ut,A,Se),ve===null?ce=ut:ve.sibling=ut,ve=ut);return r&&ye.forEach(function(pr){return s(I,pr)}),qe&&Tr(I,Se),ce}function ae(I,A,D,Q){var ce=z(D);if(typeof ce!="function")throw Error(n(150));if(D=ce.call(D),D==null)throw Error(n(151));for(var ve=ce=null,ye=A,Se=A=0,ut=null,Ie=D.next();ye!==null&&!Ie.done;Se++,Ie=D.next()){ye.index>Se?(ut=ye,ye=null):ut=ye.sibling;var pr=V(I,ye,Ie.value,Q);if(pr===null){ye===null&&(ye=ut);break}r&&ye&&pr.alternate===null&&s(I,ye),A=y(pr,A,Se),ve===null?ce=pr:ve.sibling=pr,ve=pr,ye=ut}if(Ie.done)return c(I,ye),qe&&Tr(I,Se),ce;if(ye===null){for(;!Ie.done;Se++,Ie=D.next())Ie=K(I,Ie.value,Q),Ie!==null&&(A=y(Ie,A,Se),ve===null?ce=Ie:ve.sibling=Ie,ve=Ie);return qe&&Tr(I,Se),ce}for(ye=d(I,ye);!Ie.done;Se++,Ie=D.next())Ie=ne(ye,I,Se,Ie.value,Q),Ie!==null&&(r&&Ie.alternate!==null&&ye.delete(Ie.key===null?Se:Ie.key),A=y(Ie,A,Se),ve===null?ce=Ie:ve.sibling=Ie,ve=Ie);return r&&ye.forEach(function(q1){return s(I,q1)}),qe&&Tr(I,Se),ce}function tt(I,A,D,Q){if(typeof D=="object"&&D!==null&&D.type===$&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case M:e:{for(var ce=D.key,ve=A;ve!==null;){if(ve.key===ce){if(ce=D.type,ce===$){if(ve.tag===7){c(I,ve.sibling),A=p(ve,D.props.children),A.return=I,I=A;break e}}else if(ve.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===te&&nm(ce)===ve.type){c(I,ve.sibling),A=p(ve,D.props),A.ref=Fo(I,ve,D),A.return=I,I=A;break e}c(I,ve);break}else s(I,ve);ve=ve.sibling}D.type===$?(A=$r(D.props.children,I.mode,Q,D.key),A.return=I,I=A):(Q=Ba(D.type,D.key,D.props,null,I.mode,Q),Q.ref=Fo(I,A,D),Q.return=I,I=Q)}return j(I);case F:e:{for(ve=D.key;A!==null;){if(A.key===ve)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){c(I,A.sibling),A=p(A,D.children||[]),A.return=I,I=A;break e}else{c(I,A);break}else s(I,A);A=A.sibling}A=td(D,I.mode,Q),A.return=I,I=A}return j(I);case te:return ve=D._init,tt(I,A,ve(D._payload),Q)}if(po(D))return oe(I,A,D,Q);if(z(D))return ae(I,A,D,Q);ya(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,A!==null&&A.tag===6?(c(I,A.sibling),A=p(A,D),A.return=I,I=A):(c(I,A),A=ed(D,I.mode,Q),A.return=I,I=A),j(I)):c(I,A)}return tt}var ws=rm(!0),sm=rm(!1),xa=rr(null),wa=null,bs=null,uu=null;function du(){uu=bs=wa=null}function fu(r){var s=xa.current;We(xa),r._currentValue=s}function hu(r,s,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===c)break;r=r.return}}function Ss(r,s){wa=r,uu=bs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(kt=!0),r.firstContext=null)}function Wt(r){var s=r._currentValue;if(uu!==r)if(r={context:r,memoizedValue:s,next:null},bs===null){if(wa===null)throw Error(n(308));bs=r,wa.dependencies={lanes:0,firstContext:r}}else bs=bs.next=r;return s}var Pr=null;function pu(r){Pr===null?Pr=[r]:Pr.push(r)}function om(r,s,c,d){var p=s.interleaved;return p===null?(c.next=c,pu(s)):(c.next=p.next,p.next=c),s.interleaved=c,$n(r,d)}function $n(r,s){r.lanes|=s;var c=r.alternate;for(c!==null&&(c.lanes|=s),c=r,r=r.return;r!==null;)r.childLanes|=s,c=r.alternate,c!==null&&(c.childLanes|=s),c=r,r=r.return;return c.tag===3?c.stateNode:null}var ir=!1;function mu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function im(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ar(r,s,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,$n(r,c)}return p=d.interleaved,p===null?(s.next=s,pu(d)):(s.next=p.next,p.next=s),d.interleaved=s,$n(r,c)}function ba(r,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,c|=d,s.lanes=c,Rc(r,c)}}function am(r,s){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var j={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?p=y=j:y=y.next=j,c=c.next}while(c!==null);y===null?p=y=s:y=y.next=s}else p=y=s;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=s:r.next=s,c.lastBaseUpdate=s}function Sa(r,s,c,d){var p=r.updateQueue;ir=!1;var y=p.firstBaseUpdate,j=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var T=k,L=T.next;T.next=null,j===null?y=L:j.next=L,j=T;var H=r.alternate;H!==null&&(H=H.updateQueue,k=H.lastBaseUpdate,k!==j&&(k===null?H.firstBaseUpdate=L:k.next=L,H.lastBaseUpdate=T))}if(y!==null){var K=p.baseState;j=0,H=L=T=null,k=y;do{var V=k.lane,ne=k.eventTime;if((d&V)===V){H!==null&&(H=H.next={eventTime:ne,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var oe=r,ae=k;switch(V=s,ne=c,ae.tag){case 1:if(oe=ae.payload,typeof oe=="function"){K=oe.call(ne,K,V);break e}K=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ae.payload,V=typeof oe=="function"?oe.call(ne,K,V):oe,V==null)break e;K=q({},K,V);break e;case 2:ir=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,V=p.effects,V===null?p.effects=[k]:V.push(k))}else ne={eventTime:ne,lane:V,tag:k.tag,payload:k.payload,callback:k.callback,next:null},H===null?(L=H=ne,T=K):H=H.next=ne,j|=V;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;V=k,k=V.next,V.next=null,p.lastBaseUpdate=V,p.shared.pending=null}}while(!0);if(H===null&&(T=K),p.baseState=T,p.firstBaseUpdate=L,p.lastBaseUpdate=H,s=p.shared.interleaved,s!==null){p=s;do j|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ir|=j,r.lanes=j,r.memoizedState=K}}function lm(r,s,c){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=c,typeof p!="function")throw Error(n(191,p));p.call(d)}}}var Uo={},_n=rr(Uo),zo=rr(Uo),Bo=rr(Uo);function Ar(r){if(r===Uo)throw Error(n(174));return r}function gu(r,s){switch(Be(Bo,s),Be(zo,r),Be(_n,Uo),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vc(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=vc(s,r)}We(_n),Be(_n,s)}function _s(){We(_n),We(zo),We(Bo)}function cm(r){Ar(Bo.current);var s=Ar(_n.current),c=vc(s,r.type);s!==c&&(Be(zo,r),Be(_n,c))}function vu(r){zo.current===r&&(We(_n),We(zo))}var Ye=rr(0);function _a(r){for(var s=r;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yu=[];function xu(){for(var r=0;r<yu.length;r++)yu[r]._workInProgressVersionPrimary=null;yu.length=0}var ja=O.ReactCurrentDispatcher,wu=O.ReactCurrentBatchConfig,Or=0,Je=null,ot=null,lt=null,Ca=!1,Vo=!1,Ho=0,m1=0;function yt(){throw Error(n(321))}function bu(r,s){if(s===null)return!1;for(var c=0;c<s.length&&c<r.length;c++)if(!on(r[c],s[c]))return!1;return!0}function Su(r,s,c,d,p,y){if(Or=y,Je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ja.current=r===null||r.memoizedState===null?x1:w1,r=c(d,p),Vo){y=0;do{if(Vo=!1,Ho=0,25<=y)throw Error(n(301));y+=1,lt=ot=null,s.updateQueue=null,ja.current=b1,r=c(d,p)}while(Vo)}if(ja.current=ka,s=ot!==null&&ot.next!==null,Or=0,lt=ot=Je=null,Ca=!1,s)throw Error(n(300));return r}function _u(){var r=Ho!==0;return Ho=0,r}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Je.memoizedState=lt=r:lt=lt.next=r,lt}function Kt(){if(ot===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var s=lt===null?Je.memoizedState:lt.next;if(s!==null)lt=s,ot=r;else{if(r===null)throw Error(n(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},lt===null?Je.memoizedState=lt=r:lt=lt.next=r}return lt}function Wo(r,s){return typeof s=="function"?s(r):s}function ju(r){var s=Kt(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var d=ot,p=d.baseQueue,y=c.pending;if(y!==null){if(p!==null){var j=p.next;p.next=y.next,y.next=j}d.baseQueue=p=y,c.pending=null}if(p!==null){y=p.next,d=d.baseState;var k=j=null,T=null,L=y;do{var H=L.lane;if((Or&H)===H)T!==null&&(T=T.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),d=L.hasEagerState?L.eagerState:r(d,L.action);else{var K={lane:H,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};T===null?(k=T=K,j=d):T=T.next=K,Je.lanes|=H,Ir|=H}L=L.next}while(L!==null&&L!==y);T===null?j=d:T.next=k,on(d,s.memoizedState)||(kt=!0),s.memoizedState=d,s.baseState=j,s.baseQueue=T,c.lastRenderedState=d}if(r=c.interleaved,r!==null){p=r;do y=p.lane,Je.lanes|=y,Ir|=y,p=p.next;while(p!==r)}else p===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Cu(r){var s=Kt(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var d=c.dispatch,p=c.pending,y=s.memoizedState;if(p!==null){c.pending=null;var j=p=p.next;do y=r(y,j.action),j=j.next;while(j!==p);on(y,s.memoizedState)||(kt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,d]}function um(){}function dm(r,s){var c=Je,d=Kt(),p=s(),y=!on(d.memoizedState,p);if(y&&(d.memoizedState=p,kt=!0),d=d.queue,Eu(pm.bind(null,c,d,r),[r]),d.getSnapshot!==s||y||lt!==null&&lt.memoizedState.tag&1){if(c.flags|=2048,Ko(9,hm.bind(null,c,d,p,s),void 0,null),ct===null)throw Error(n(349));(Or&30)!==0||fm(c,s,p)}return p}function fm(r,s,c){r.flags|=16384,r={getSnapshot:s,value:c},s=Je.updateQueue,s===null?(s={lastEffect:null,stores:null},Je.updateQueue=s,s.stores=[r]):(c=s.stores,c===null?s.stores=[r]:c.push(r))}function hm(r,s,c,d){s.value=c,s.getSnapshot=d,mm(s)&&gm(r)}function pm(r,s,c){return c(function(){mm(s)&&gm(r)})}function mm(r){var s=r.getSnapshot;r=r.value;try{var c=s();return!on(r,c)}catch{return!0}}function gm(r){var s=$n(r,1);s!==null&&dn(s,r,1,-1)}function vm(r){var s=jn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:r},s.queue=r,r=r.dispatch=y1.bind(null,Je,r),[s.memoizedState,r]}function Ko(r,s,c,d){return r={tag:r,create:s,destroy:c,deps:d,next:null},s=Je.updateQueue,s===null?(s={lastEffect:null,stores:null},Je.updateQueue=s,s.lastEffect=r.next=r):(c=s.lastEffect,c===null?s.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,s.lastEffect=r)),r}function ym(){return Kt().memoizedState}function Ea(r,s,c,d){var p=jn();Je.flags|=r,p.memoizedState=Ko(1|s,c,void 0,d===void 0?null:d)}function Na(r,s,c,d){var p=Kt();d=d===void 0?null:d;var y=void 0;if(ot!==null){var j=ot.memoizedState;if(y=j.destroy,d!==null&&bu(d,j.deps)){p.memoizedState=Ko(s,c,y,d);return}}Je.flags|=r,p.memoizedState=Ko(1|s,c,y,d)}function xm(r,s){return Ea(8390656,8,r,s)}function Eu(r,s){return Na(2048,8,r,s)}function wm(r,s){return Na(4,2,r,s)}function bm(r,s){return Na(4,4,r,s)}function Sm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function _m(r,s,c){return c=c!=null?c.concat([r]):null,Na(4,4,Sm.bind(null,s,r),c)}function Nu(){}function jm(r,s){var c=Kt();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&bu(s,d[1])?d[0]:(c.memoizedState=[r,s],r)}function Cm(r,s){var c=Kt();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&bu(s,d[1])?d[0]:(r=r(),c.memoizedState=[r,s],r)}function Em(r,s,c){return(Or&21)===0?(r.baseState&&(r.baseState=!1,kt=!0),r.memoizedState=c):(on(c,s)||(c=np(),Je.lanes|=c,Ir|=c,r.baseState=!0),s)}function g1(r,s){var c=Fe;Fe=c!==0&&4>c?c:4,r(!0);var d=wu.transition;wu.transition={};try{r(!1),s()}finally{Fe=c,wu.transition=d}}function Nm(){return Kt().memoizedState}function v1(r,s,c){var d=dr(r);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},km(r))Rm(s,c);else if(c=om(r,s,c,d),c!==null){var p=_t();dn(c,r,d,p),Tm(c,s,d)}}function y1(r,s,c){var d=dr(r),p={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(km(r))Rm(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var j=s.lastRenderedState,k=y(j,c);if(p.hasEagerState=!0,p.eagerState=k,on(k,j)){var T=s.interleaved;T===null?(p.next=p,pu(s)):(p.next=T.next,T.next=p),s.interleaved=p;return}}catch{}c=om(r,s,p,d),c!==null&&(p=_t(),dn(c,r,d,p),Tm(c,s,d))}}function km(r){var s=r.alternate;return r===Je||s!==null&&s===Je}function Rm(r,s){Vo=Ca=!0;var c=r.pending;c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s}function Tm(r,s,c){if((c&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,c|=d,s.lanes=c,Rc(r,c)}}var ka={readContext:Wt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},x1={readContext:Wt,useCallback:function(r,s){return jn().memoizedState=[r,s===void 0?null:s],r},useContext:Wt,useEffect:xm,useImperativeHandle:function(r,s,c){return c=c!=null?c.concat([r]):null,Ea(4194308,4,Sm.bind(null,s,r),c)},useLayoutEffect:function(r,s){return Ea(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ea(4,2,r,s)},useMemo:function(r,s){var c=jn();return s=s===void 0?null:s,r=r(),c.memoizedState=[r,s],r},useReducer:function(r,s,c){var d=jn();return s=c!==void 0?c(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=v1.bind(null,Je,r),[d.memoizedState,r]},useRef:function(r){var s=jn();return r={current:r},s.memoizedState=r},useState:vm,useDebugValue:Nu,useDeferredValue:function(r){return jn().memoizedState=r},useTransition:function(){var r=vm(!1),s=r[0];return r=g1.bind(null,r[1]),jn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,c){var d=Je,p=jn();if(qe){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),ct===null)throw Error(n(349));(Or&30)!==0||fm(d,s,c)}p.memoizedState=c;var y={value:c,getSnapshot:s};return p.queue=y,xm(pm.bind(null,d,y,r),[r]),d.flags|=2048,Ko(9,hm.bind(null,d,y,c,s),void 0,null),c},useId:function(){var r=jn(),s=ct.identifierPrefix;if(qe){var c=Ln,d=Mn;c=(d&~(1<<32-sn(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=Ho++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=m1++,s=":"+s+"r"+c.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},w1={readContext:Wt,useCallback:jm,useContext:Wt,useEffect:Eu,useImperativeHandle:_m,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:Cm,useReducer:ju,useRef:ym,useState:function(){return ju(Wo)},useDebugValue:Nu,useDeferredValue:function(r){var s=Kt();return Em(s,ot.memoizedState,r)},useTransition:function(){var r=ju(Wo)[0],s=Kt().memoizedState;return[r,s]},useMutableSource:um,useSyncExternalStore:dm,useId:Nm,unstable_isNewReconciler:!1},b1={readContext:Wt,useCallback:jm,useContext:Wt,useEffect:Eu,useImperativeHandle:_m,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:Cm,useReducer:Cu,useRef:ym,useState:function(){return Cu(Wo)},useDebugValue:Nu,useDeferredValue:function(r){var s=Kt();return ot===null?s.memoizedState=r:Em(s,ot.memoizedState,r)},useTransition:function(){var r=Cu(Wo)[0],s=Kt().memoizedState;return[r,s]},useMutableSource:um,useSyncExternalStore:dm,useId:Nm,unstable_isNewReconciler:!1};function ln(r,s){if(r&&r.defaultProps){s=q({},s),r=r.defaultProps;for(var c in r)s[c]===void 0&&(s[c]=r[c]);return s}return s}function ku(r,s,c,d){s=r.memoizedState,c=c(d,s),c=c==null?s:q({},s,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Ra={isMounted:function(r){return(r=r._reactInternals)?Er(r)===r:!1},enqueueSetState:function(r,s,c){r=r._reactInternals;var d=_t(),p=dr(r),y=Fn(d,p);y.payload=s,c!=null&&(y.callback=c),s=ar(r,y,p),s!==null&&(dn(s,r,p,d),ba(s,r,p))},enqueueReplaceState:function(r,s,c){r=r._reactInternals;var d=_t(),p=dr(r),y=Fn(d,p);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=ar(r,y,p),s!==null&&(dn(s,r,p,d),ba(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var c=_t(),d=dr(r),p=Fn(c,d);p.tag=2,s!=null&&(p.callback=s),s=ar(r,p,d),s!==null&&(dn(s,r,d,c),ba(s,r,d))}};function Pm(r,s,c,d,p,y,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,j):s.prototype&&s.prototype.isPureReactComponent?!Ao(c,d)||!Ao(p,y):!0}function Am(r,s,c){var d=!1,p=sr,y=s.contextType;return typeof y=="object"&&y!==null?y=Wt(y):(p=Nt(s)?kr:vt.current,d=s.contextTypes,y=(d=d!=null)?gs(r,p):sr),s=new s(c,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ra,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Om(r,s,c,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==r&&Ra.enqueueReplaceState(s,s.state,null)}function Ru(r,s,c,d){var p=r.stateNode;p.props=c,p.state=r.memoizedState,p.refs={},mu(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Wt(y):(y=Nt(s)?kr:vt.current,p.context=gs(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(ku(r,s,y,c),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Ra.enqueueReplaceState(p,p.state,null),Sa(r,c,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function js(r,s){try{var c="",d=s;do c+=Ce(d),d=d.return;while(d);var p=c}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Tu(r,s,c){return{value:r,source:null,stack:c??null,digest:s??null}}function Pu(r,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var S1=typeof WeakMap=="function"?WeakMap:Map;function Im(r,s,c){c=Fn(-1,c),c.tag=3,c.payload={element:null};var d=s.value;return c.callback=function(){Ma||(Ma=!0,Ku=d),Pu(r,s)},c}function Dm(r,s,c){c=Fn(-1,c),c.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;c.payload=function(){return d(p)},c.callback=function(){Pu(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Pu(r,s),typeof d!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})}),c}function Mm(r,s,c){var d=r.pingCache;if(d===null){d=r.pingCache=new S1;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(c)||(p.add(c),r=M1.bind(null,r,s,c),s.then(r,r))}function Lm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function $m(r,s,c,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=Fn(-1,1),s.tag=2,ar(c,s,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var _1=O.ReactCurrentOwner,kt=!1;function St(r,s,c,d){s.child=r===null?sm(s,null,c,d):ws(s,r.child,c,d)}function Fm(r,s,c,d,p){c=c.render;var y=s.ref;return Ss(s,p),d=Su(r,s,c,d,y,p),c=_u(),r!==null&&!kt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Un(r,s,p)):(qe&&c&&ou(s),s.flags|=1,St(r,s,d,p),s.child)}function Um(r,s,c,d,p){if(r===null){var y=c.type;return typeof y=="function"&&!Zu(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=y,zm(r,s,y,d,p)):(r=Ba(c.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var j=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ao,c(j,d)&&r.ref===s.ref)return Un(r,s,p)}return s.flags|=1,r=hr(y,d),r.ref=s.ref,r.return=s,s.child=r}function zm(r,s,c,d,p){if(r!==null){var y=r.memoizedProps;if(Ao(y,d)&&r.ref===s.ref)if(kt=!1,s.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(kt=!0);else return s.lanes=r.lanes,Un(r,s,p)}return Au(r,s,c,d,p)}function Bm(r,s,c){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Es,Mt),Mt|=c;else{if((c&1073741824)===0)return r=y!==null?y.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Be(Es,Mt),Mt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:c,Be(Es,Mt),Mt|=d}else y!==null?(d=y.baseLanes|c,s.memoizedState=null):d=c,Be(Es,Mt),Mt|=d;return St(r,s,p,c),s.child}function Vm(r,s){var c=s.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Au(r,s,c,d,p){var y=Nt(c)?kr:vt.current;return y=gs(s,y),Ss(s,p),c=Su(r,s,c,d,y,p),d=_u(),r!==null&&!kt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Un(r,s,p)):(qe&&d&&ou(s),s.flags|=1,St(r,s,c,p),s.child)}function Hm(r,s,c,d,p){if(Nt(c)){var y=!0;ha(s)}else y=!1;if(Ss(s,p),s.stateNode===null)Pa(r,s),Am(s,c,d),Ru(s,c,d,p),d=!0;else if(r===null){var j=s.stateNode,k=s.memoizedProps;j.props=k;var T=j.context,L=c.contextType;typeof L=="object"&&L!==null?L=Wt(L):(L=Nt(c)?kr:vt.current,L=gs(s,L));var H=c.getDerivedStateFromProps,K=typeof H=="function"||typeof j.getSnapshotBeforeUpdate=="function";K||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(k!==d||T!==L)&&Om(s,j,d,L),ir=!1;var V=s.memoizedState;j.state=V,Sa(s,d,j,p),T=s.memoizedState,k!==d||V!==T||Et.current||ir?(typeof H=="function"&&(ku(s,c,H,d),T=s.memoizedState),(k=ir||Pm(s,c,k,d,V,T,L))?(K||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=T),j.props=d,j.state=T,j.context=L,d=k):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{j=s.stateNode,im(r,s),k=s.memoizedProps,L=s.type===s.elementType?k:ln(s.type,k),j.props=L,K=s.pendingProps,V=j.context,T=c.contextType,typeof T=="object"&&T!==null?T=Wt(T):(T=Nt(c)?kr:vt.current,T=gs(s,T));var ne=c.getDerivedStateFromProps;(H=typeof ne=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(k!==K||V!==T)&&Om(s,j,d,T),ir=!1,V=s.memoizedState,j.state=V,Sa(s,d,j,p);var oe=s.memoizedState;k!==K||V!==oe||Et.current||ir?(typeof ne=="function"&&(ku(s,c,ne,d),oe=s.memoizedState),(L=ir||Pm(s,c,L,d,V,oe,T)||!1)?(H||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(d,oe,T),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(d,oe,T)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||k===r.memoizedProps&&V===r.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&V===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=oe),j.props=d,j.state=oe,j.context=T,d=L):(typeof j.componentDidUpdate!="function"||k===r.memoizedProps&&V===r.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&V===r.memoizedState||(s.flags|=1024),d=!1)}return Ou(r,s,c,d,y,p)}function Ou(r,s,c,d,p,y){Vm(r,s);var j=(s.flags&128)!==0;if(!d&&!j)return p&&Qp(s,c,!1),Un(r,s,y);d=s.stateNode,_1.current=s;var k=j&&typeof c.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&j?(s.child=ws(s,r.child,null,y),s.child=ws(s,null,k,y)):St(r,s,k,y),s.memoizedState=d.state,p&&Qp(s,c,!0),s.child}function Wm(r){var s=r.stateNode;s.pendingContext?qp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&qp(r,s.context,!1),gu(r,s.containerInfo)}function Km(r,s,c,d,p){return xs(),cu(p),s.flags|=256,St(r,s,c,d),s.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Du(r){return{baseLanes:r,cachePool:null,transitions:null}}function qm(r,s,c){var d=s.pendingProps,p=Ye.current,y=!1,j=(s.flags&128)!==0,k;if((k=j)||(k=r!==null&&r.memoizedState===null?!1:(p&2)!==0),k?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Be(Ye,p&1),r===null)return lu(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(j=d.children,r=d.fallback,y?(d=s.mode,y=s.child,j={mode:"hidden",children:j},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=j):y=Va(j,d,0,null),r=$r(r,d,c,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Du(c),s.memoizedState=Iu,r):Mu(s,j));if(p=r.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return j1(r,s,j,d,k,p,c);if(y){y=d.fallback,j=s.mode,p=r.child,k=p.sibling;var T={mode:"hidden",children:d.children};return(j&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=T,s.deletions=null):(d=hr(p,T),d.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=hr(k,y):(y=$r(y,j,c,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,j=r.child.memoizedState,j=j===null?Du(c):{baseLanes:j.baseLanes|c,cachePool:null,transitions:j.transitions},y.memoizedState=j,y.childLanes=r.childLanes&~c,s.memoizedState=Iu,d}return y=r.child,r=y.sibling,d=hr(y,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=c),d.return=s,d.sibling=null,r!==null&&(c=s.deletions,c===null?(s.deletions=[r],s.flags|=16):c.push(r)),s.child=d,s.memoizedState=null,d}function Mu(r,s){return s=Va({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ta(r,s,c,d){return d!==null&&cu(d),ws(s,r.child,null,c),r=Mu(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function j1(r,s,c,d,p,y,j){if(c)return s.flags&256?(s.flags&=-257,d=Tu(Error(n(422))),Ta(r,s,j,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=Va({mode:"visible",children:d.children},p,0,null),y=$r(y,p,j,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,(s.mode&1)!==0&&ws(s,r.child,null,j),s.child.memoizedState=Du(j),s.memoizedState=Iu,y);if((s.mode&1)===0)return Ta(r,s,j,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var k=d.dgst;return d=k,y=Error(n(419)),d=Tu(y,d,void 0),Ta(r,s,j,d)}if(k=(j&r.childLanes)!==0,kt||k){if(d=ct,d!==null){switch(j&-j){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|j))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,$n(r,p),dn(d,r,p,-1))}return Xu(),d=Tu(Error(n(421))),Ta(r,s,j,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=L1.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Dt=nr(p.nextSibling),It=s,qe=!0,an=null,r!==null&&(Vt[Ht++]=Mn,Vt[Ht++]=Ln,Vt[Ht++]=Rr,Mn=r.id,Ln=r.overflow,Rr=s),s=Mu(s,d.children),s.flags|=4096,s)}function Gm(r,s,c){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),hu(r.return,s,c)}function Lu(r,s,c,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=p)}function Qm(r,s,c){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(St(r,s,d.children,c),d=Ye.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gm(r,c,s);else if(r.tag===19)Gm(r,c,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Be(Ye,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(c=s.child,p=null;c!==null;)r=c.alternate,r!==null&&_a(r)===null&&(p=c),c=c.sibling;c=p,c===null?(p=s.child,s.child=null):(p=c.sibling,c.sibling=null),Lu(s,!1,p,c,y);break;case"backwards":for(c=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&_a(r)===null){s.child=p;break}r=p.sibling,p.sibling=c,c=p,p=r}Lu(s,!0,c,null,y);break;case"together":Lu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pa(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Un(r,s,c){if(r!==null&&(s.dependencies=r.dependencies),Ir|=s.lanes,(c&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,c=hr(r,r.pendingProps),s.child=c,c.return=s;r.sibling!==null;)r=r.sibling,c=c.sibling=hr(r,r.pendingProps),c.return=s;c.sibling=null}return s.child}function C1(r,s,c){switch(s.tag){case 3:Wm(s),xs();break;case 5:cm(s);break;case 1:Nt(s.type)&&ha(s);break;case 4:gu(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Be(xa,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Be(Ye,Ye.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?qm(r,s,c):(Be(Ye,Ye.current&1),r=Un(r,s,c),r!==null?r.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(d=(c&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Qm(r,s,c);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Be(Ye,Ye.current),d)break;return null;case 22:case 23:return s.lanes=0,Bm(r,s,c)}return Un(r,s,c)}var Ym,$u,Jm,Xm;Ym=function(r,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},$u=function(){},Jm=function(r,s,c,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Ar(_n.current);var y=null;switch(c){case"input":p=rn(r,p),d=rn(r,d),y=[];break;case"select":p=q({},p,{value:void 0}),d=q({},d,{value:void 0}),y=[];break;case"textarea":p=gc(r,p),d=gc(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ua)}yc(c,d);var j;c=null;for(L in p)if(!d.hasOwnProperty(L)&&p.hasOwnProperty(L)&&p[L]!=null)if(L==="style"){var k=p[L];for(j in k)k.hasOwnProperty(j)&&(c||(c={}),c[j]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?y||(y=[]):(y=y||[]).push(L,null));for(L in d){var T=d[L];if(k=p?.[L],d.hasOwnProperty(L)&&T!==k&&(T!=null||k!=null))if(L==="style")if(k){for(j in k)!k.hasOwnProperty(j)||T&&T.hasOwnProperty(j)||(c||(c={}),c[j]="");for(j in T)T.hasOwnProperty(j)&&k[j]!==T[j]&&(c||(c={}),c[j]=T[j])}else c||(y||(y=[]),y.push(L,c)),c=T;else L==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,k=k?k.__html:void 0,T!=null&&k!==T&&(y=y||[]).push(L,T)):L==="children"?typeof T!="string"&&typeof T!="number"||(y=y||[]).push(L,""+T):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(i.hasOwnProperty(L)?(T!=null&&L==="onScroll"&&He("scroll",r),y||k===T||(y=[])):(y=y||[]).push(L,T))}c&&(y=y||[]).push("style",c);var L=y;(s.updateQueue=L)&&(s.flags|=4)}},Xm=function(r,s,c,d){c!==d&&(s.flags|=4)};function qo(r,s){if(!qe)switch(r.tailMode){case"hidden":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function xt(r){var s=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(s)for(var p=r.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=c,s}function E1(r,s,c){var d=s.pendingProps;switch(iu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return Nt(s.type)&&fa(),xt(s),null;case 3:return d=s.stateNode,_s(),We(Et),We(vt),xu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(va(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,an!==null&&(Qu(an),an=null))),$u(r,s),xt(s),null;case 5:vu(s);var p=Ar(Bo.current);if(c=s.type,r!==null&&s.stateNode!=null)Jm(r,s,c,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return xt(s),null}if(r=Ar(_n.current),va(s)){d=s.stateNode,c=s.type;var y=s.memoizedProps;switch(d[Sn]=s,d[Lo]=y,r=(s.mode&1)!==0,c){case"dialog":He("cancel",d),He("close",d);break;case"iframe":case"object":case"embed":He("load",d);break;case"video":case"audio":for(p=0;p<Io.length;p++)He(Io[p],d);break;case"source":He("error",d);break;case"img":case"image":case"link":He("error",d),He("load",d);break;case"details":He("toggle",d);break;case"input":ns(d,y),He("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},He("invalid",d);break;case"textarea":Dh(d,y),He("invalid",d)}yc(c,y),p=null;for(var j in y)if(y.hasOwnProperty(j)){var k=y[j];j==="children"?typeof k=="string"?d.textContent!==k&&(y.suppressHydrationWarning!==!0&&ca(d.textContent,k,r),p=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&ca(d.textContent,k,r),p=["children",""+k]):i.hasOwnProperty(j)&&k!=null&&j==="onScroll"&&He("scroll",d)}switch(c){case"input":$e(d),Ih(d,y,!0);break;case"textarea":$e(d),Lh(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=ua)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{j=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=$h(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=j.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=j.createElement(c,{is:d.is}):(r=j.createElement(c),c==="select"&&(j=r,d.multiple?j.multiple=!0:d.size&&(j.size=d.size))):r=j.createElementNS(r,c),r[Sn]=s,r[Lo]=d,Ym(r,s,!1,!1),s.stateNode=r;e:{switch(j=xc(c,d),c){case"dialog":He("cancel",r),He("close",r),p=d;break;case"iframe":case"object":case"embed":He("load",r),p=d;break;case"video":case"audio":for(p=0;p<Io.length;p++)He(Io[p],r);p=d;break;case"source":He("error",r),p=d;break;case"img":case"image":case"link":He("error",r),He("load",r),p=d;break;case"details":He("toggle",r),p=d;break;case"input":ns(r,d),p=rn(r,d),He("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=q({},d,{value:void 0}),He("invalid",r);break;case"textarea":Dh(r,d),p=gc(r,d),He("invalid",r);break;default:p=d}yc(c,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var T=k[y];y==="style"?zh(r,T):y==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Fh(r,T)):y==="children"?typeof T=="string"?(c!=="textarea"||T!=="")&&mo(r,T):typeof T=="number"&&mo(r,""+T):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?T!=null&&y==="onScroll"&&He("scroll",r):T!=null&&R(r,y,T,j))}switch(c){case"input":$e(r),Ih(r,d,!1);break;case"textarea":$e(r),Lh(r);break;case"option":d.value!=null&&r.setAttribute("value",""+fe(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?ss(r,!!d.multiple,y,!1):d.defaultValue!=null&&ss(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ua)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return xt(s),null;case 6:if(r&&s.stateNode!=null)Xm(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(c=Ar(Bo.current),Ar(_n.current),va(s)){if(d=s.stateNode,c=s.memoizedProps,d[Sn]=s,(y=d.nodeValue!==c)&&(r=It,r!==null))switch(r.tag){case 3:ca(d.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ca(d.nodeValue,c,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Sn]=s,s.stateNode=d}return xt(s),null;case 13:if(We(Ye),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(qe&&Dt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)tm(),xs(),s.flags|=98560,y=!1;else if(y=va(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Sn]=s}else xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),y=!1}else an!==null&&(Qu(an),an=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Ye.current&1)!==0?it===0&&(it=3):Xu())),s.updateQueue!==null&&(s.flags|=4),xt(s),null);case 4:return _s(),$u(r,s),r===null&&Do(s.stateNode.containerInfo),xt(s),null;case 10:return fu(s.type._context),xt(s),null;case 17:return Nt(s.type)&&fa(),xt(s),null;case 19:if(We(Ye),y=s.memoizedState,y===null)return xt(s),null;if(d=(s.flags&128)!==0,j=y.rendering,j===null)if(d)qo(y,!1);else{if(it!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(j=_a(r),j!==null){for(s.flags|=128,qo(y,!1),d=j.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=c,c=s.child;c!==null;)y=c,r=d,y.flags&=14680066,j=y.alternate,j===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=j.childLanes,y.lanes=j.lanes,y.child=j.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=j.memoizedProps,y.memoizedState=j.memoizedState,y.updateQueue=j.updateQueue,y.type=j.type,r=j.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Be(Ye,Ye.current&1|2),s.child}r=r.sibling}y.tail!==null&&et()>Ns&&(s.flags|=128,d=!0,qo(y,!1),s.lanes=4194304)}else{if(!d)if(r=_a(j),r!==null){if(s.flags|=128,d=!0,c=r.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),qo(y,!0),y.tail===null&&y.tailMode==="hidden"&&!j.alternate&&!qe)return xt(s),null}else 2*et()-y.renderingStartTime>Ns&&c!==1073741824&&(s.flags|=128,d=!0,qo(y,!1),s.lanes=4194304);y.isBackwards?(j.sibling=s.child,s.child=j):(c=y.last,c!==null?c.sibling=j:s.child=j,y.last=j)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=et(),s.sibling=null,c=Ye.current,Be(Ye,d?c&1|2:c&1),s):(xt(s),null);case 22:case 23:return Ju(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Mt&1073741824)!==0&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function N1(r,s){switch(iu(s),s.tag){case 1:return Nt(s.type)&&fa(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return _s(),We(Et),We(vt),xu(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return vu(s),null;case 13:if(We(Ye),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));xs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return We(Ye),null;case 4:return _s(),null;case 10:return fu(s.type._context),null;case 22:case 23:return Ju(),null;case 24:return null;default:return null}}var Aa=!1,wt=!1,k1=typeof WeakSet=="function"?WeakSet:Set,se=null;function Cs(r,s){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){Xe(r,s,d)}else c.current=null}function Fu(r,s,c){try{c()}catch(d){Xe(r,s,d)}}var Zm=!1;function R1(r,s){if(Jc=Xi,r=Pp(),Vc(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var j=0,k=-1,T=-1,L=0,H=0,K=r,V=null;t:for(;;){for(var ne;K!==c||p!==0&&K.nodeType!==3||(k=j+p),K!==y||d!==0&&K.nodeType!==3||(T=j+d),K.nodeType===3&&(j+=K.nodeValue.length),(ne=K.firstChild)!==null;)V=K,K=ne;for(;;){if(K===r)break t;if(V===c&&++L===p&&(k=j),V===y&&++H===d&&(T=j),(ne=K.nextSibling)!==null)break;K=V,V=K.parentNode}K=ne}c=k===-1||T===-1?null:{start:k,end:T}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xc={focusedElem:r,selectionRange:c},Xi=!1,se=s;se!==null;)if(s=se,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,se=r;else for(;se!==null;){s=se;try{var oe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ae=oe.memoizedProps,tt=oe.memoizedState,I=s.stateNode,A=I.getSnapshotBeforeUpdate(s.elementType===s.type?ae:ln(s.type,ae),tt);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var D=s.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Q){Xe(s,s.return,Q)}if(r=s.sibling,r!==null){r.return=s.return,se=r;break}se=s.return}return oe=Zm,Zm=!1,oe}function Go(r,s,c){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Fu(s,c,y)}p=p.next}while(p!==d)}}function Oa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&r)===r){var d=c.create;c.destroy=d()}c=c.next}while(c!==s)}}function Uu(r){var s=r.ref;if(s!==null){var c=r.stateNode;r.tag,r=c,typeof s=="function"?s(r):s.current=r}}function eg(r){var s=r.alternate;s!==null&&(r.alternate=null,eg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Sn],delete s[Lo],delete s[nu],delete s[d1],delete s[f1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function tg(r){return r.tag===5||r.tag===3||r.tag===4}function ng(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||tg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zu(r,s,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(r,s):c.insertBefore(r,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(r,c)):(s=c,s.appendChild(r)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ua));else if(d!==4&&(r=r.child,r!==null))for(zu(r,s,c),r=r.sibling;r!==null;)zu(r,s,c),r=r.sibling}function Bu(r,s,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?c.insertBefore(r,s):c.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Bu(r,s,c),r=r.sibling;r!==null;)Bu(r,s,c),r=r.sibling}var ft=null,cn=!1;function lr(r,s,c){for(c=c.child;c!==null;)rg(r,s,c),c=c.sibling}function rg(r,s,c){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ki,c)}catch{}switch(c.tag){case 5:wt||Cs(c,s);case 6:var d=ft,p=cn;ft=null,lr(r,s,c),ft=d,cn=p,ft!==null&&(cn?(r=ft,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):ft.removeChild(c.stateNode));break;case 18:ft!==null&&(cn?(r=ft,c=c.stateNode,r.nodeType===8?tu(r.parentNode,c):r.nodeType===1&&tu(r,c),Eo(r)):tu(ft,c.stateNode));break;case 4:d=ft,p=cn,ft=c.stateNode.containerInfo,cn=!0,lr(r,s,c),ft=d,cn=p;break;case 0:case 11:case 14:case 15:if(!wt&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,j=y.destroy;y=y.tag,j!==void 0&&((y&2)!==0||(y&4)!==0)&&Fu(c,s,j),p=p.next}while(p!==d)}lr(r,s,c);break;case 1:if(!wt&&(Cs(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(k){Xe(c,s,k)}lr(r,s,c);break;case 21:lr(r,s,c);break;case 22:c.mode&1?(wt=(d=wt)||c.memoizedState!==null,lr(r,s,c),wt=d):lr(r,s,c);break;default:lr(r,s,c)}}function sg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new k1),s.forEach(function(d){var p=$1.bind(null,r,d);c.has(d)||(c.add(d),d.then(p,p))})}}function un(r,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];try{var y=r,j=s,k=j;e:for(;k!==null;){switch(k.tag){case 5:ft=k.stateNode,cn=!1;break e;case 3:ft=k.stateNode.containerInfo,cn=!0;break e;case 4:ft=k.stateNode.containerInfo,cn=!0;break e}k=k.return}if(ft===null)throw Error(n(160));rg(y,j,p),ft=null,cn=!1;var T=p.alternate;T!==null&&(T.return=null),p.return=null}catch(L){Xe(p,s,L)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)og(s,r),s=s.sibling}function og(r,s){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(un(s,r),Cn(r),d&4){try{Go(3,r,r.return),Oa(3,r)}catch(ae){Xe(r,r.return,ae)}try{Go(5,r,r.return)}catch(ae){Xe(r,r.return,ae)}}break;case 1:un(s,r),Cn(r),d&512&&c!==null&&Cs(c,c.return);break;case 5:if(un(s,r),Cn(r),d&512&&c!==null&&Cs(c,c.return),r.flags&32){var p=r.stateNode;try{mo(p,"")}catch(ae){Xe(r,r.return,ae)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,j=c!==null?c.memoizedProps:y,k=r.type,T=r.updateQueue;if(r.updateQueue=null,T!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&rs(p,y),xc(k,j);var L=xc(k,y);for(j=0;j<T.length;j+=2){var H=T[j],K=T[j+1];H==="style"?zh(p,K):H==="dangerouslySetInnerHTML"?Fh(p,K):H==="children"?mo(p,K):R(p,H,K,L)}switch(k){case"input":Cr(p,y);break;case"textarea":Mh(p,y);break;case"select":var V=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ne=y.value;ne!=null?ss(p,!!y.multiple,ne,!1):V!==!!y.multiple&&(y.defaultValue!=null?ss(p,!!y.multiple,y.defaultValue,!0):ss(p,!!y.multiple,y.multiple?[]:"",!1))}p[Lo]=y}catch(ae){Xe(r,r.return,ae)}}break;case 6:if(un(s,r),Cn(r),d&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ae){Xe(r,r.return,ae)}}break;case 3:if(un(s,r),Cn(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Eo(s.containerInfo)}catch(ae){Xe(r,r.return,ae)}break;case 4:un(s,r),Cn(r);break;case 13:un(s,r),Cn(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Wu=et())),d&4&&sg(r);break;case 22:if(H=c!==null&&c.memoizedState!==null,r.mode&1?(wt=(L=wt)||H,un(s,r),wt=L):un(s,r),Cn(r),d&8192){if(L=r.memoizedState!==null,(r.stateNode.isHidden=L)&&!H&&(r.mode&1)!==0)for(se=r,H=r.child;H!==null;){for(K=se=H;se!==null;){switch(V=se,ne=V.child,V.tag){case 0:case 11:case 14:case 15:Go(4,V,V.return);break;case 1:Cs(V,V.return);var oe=V.stateNode;if(typeof oe.componentWillUnmount=="function"){d=V,c=V.return;try{s=d,oe.props=s.memoizedProps,oe.state=s.memoizedState,oe.componentWillUnmount()}catch(ae){Xe(d,c,ae)}}break;case 5:Cs(V,V.return);break;case 22:if(V.memoizedState!==null){lg(K);continue}}ne!==null?(ne.return=V,se=ne):lg(K)}H=H.sibling}e:for(H=null,K=r;;){if(K.tag===5){if(H===null){H=K;try{p=K.stateNode,L?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=K.stateNode,T=K.memoizedProps.style,j=T!=null&&T.hasOwnProperty("display")?T.display:null,k.style.display=Uh("display",j))}catch(ae){Xe(r,r.return,ae)}}}else if(K.tag===6){if(H===null)try{K.stateNode.nodeValue=L?"":K.memoizedProps}catch(ae){Xe(r,r.return,ae)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===r)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===r)break e;for(;K.sibling===null;){if(K.return===null||K.return===r)break e;H===K&&(H=null),K=K.return}H===K&&(H=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:un(s,r),Cn(r),d&4&&sg(r);break;case 21:break;default:un(s,r),Cn(r)}}function Cn(r){var s=r.flags;if(s&2){try{e:{for(var c=r.return;c!==null;){if(tg(c)){var d=c;break e}c=c.return}throw Error(n(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(mo(p,""),d.flags&=-33);var y=ng(r);Bu(r,y,p);break;case 3:case 4:var j=d.stateNode.containerInfo,k=ng(r);zu(r,k,j);break;default:throw Error(n(161))}}catch(T){Xe(r,r.return,T)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function T1(r,s,c){se=r,ig(r)}function ig(r,s,c){for(var d=(r.mode&1)!==0;se!==null;){var p=se,y=p.child;if(p.tag===22&&d){var j=p.memoizedState!==null||Aa;if(!j){var k=p.alternate,T=k!==null&&k.memoizedState!==null||wt;k=Aa;var L=wt;if(Aa=j,(wt=T)&&!L)for(se=p;se!==null;)j=se,T=j.child,j.tag===22&&j.memoizedState!==null?cg(p):T!==null?(T.return=j,se=T):cg(p);for(;y!==null;)se=y,ig(y),y=y.sibling;se=p,Aa=k,wt=L}ag(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,se=y):ag(r)}}function ag(r){for(;se!==null;){var s=se;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:wt||Oa(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!wt)if(c===null)d.componentDidMount();else{var p=s.elementType===s.type?c.memoizedProps:ln(s.type,c.memoizedProps);d.componentDidUpdate(p,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&lm(s,y,d);break;case 3:var j=s.updateQueue;if(j!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}lm(s,j,c)}break;case 5:var k=s.stateNode;if(c===null&&s.flags&4){c=k;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&c.focus();break;case"img":T.src&&(c.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var L=s.alternate;if(L!==null){var H=L.memoizedState;if(H!==null){var K=H.dehydrated;K!==null&&Eo(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wt||s.flags&512&&Uu(s)}catch(V){Xe(s,s.return,V)}}if(s===r){se=null;break}if(c=s.sibling,c!==null){c.return=s.return,se=c;break}se=s.return}}function lg(r){for(;se!==null;){var s=se;if(s===r){se=null;break}var c=s.sibling;if(c!==null){c.return=s.return,se=c;break}se=s.return}}function cg(r){for(;se!==null;){var s=se;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{Oa(4,s)}catch(T){Xe(s,c,T)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(T){Xe(s,p,T)}}var y=s.return;try{Uu(s)}catch(T){Xe(s,y,T)}break;case 5:var j=s.return;try{Uu(s)}catch(T){Xe(s,j,T)}}}catch(T){Xe(s,s.return,T)}if(s===r){se=null;break}var k=s.sibling;if(k!==null){k.return=s.return,se=k;break}se=s.return}}var P1=Math.ceil,Ia=O.ReactCurrentDispatcher,Vu=O.ReactCurrentOwner,qt=O.ReactCurrentBatchConfig,Oe=0,ct=null,rt=null,ht=0,Mt=0,Es=rr(0),it=0,Qo=null,Ir=0,Da=0,Hu=0,Yo=null,Rt=null,Wu=0,Ns=1/0,zn=null,Ma=!1,Ku=null,cr=null,La=!1,ur=null,$a=0,Jo=0,qu=null,Fa=-1,Ua=0;function _t(){return(Oe&6)!==0?et():Fa!==-1?Fa:Fa=et()}function dr(r){return(r.mode&1)===0?1:(Oe&2)!==0&&ht!==0?ht&-ht:p1.transition!==null?(Ua===0&&(Ua=np()),Ua):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:dp(r.type)),r)}function dn(r,s,c,d){if(50<Jo)throw Jo=0,qu=null,Error(n(185));bo(r,c,d),((Oe&2)===0||r!==ct)&&(r===ct&&((Oe&2)===0&&(Da|=c),it===4&&fr(r,ht)),Tt(r,d),c===1&&Oe===0&&(s.mode&1)===0&&(Ns=et()+500,pa&&or()))}function Tt(r,s){var c=r.callbackNode;p_(r,s);var d=Qi(r,r===ct?ht:0);if(d===0)c!==null&&Zh(c),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(c!=null&&Zh(c),s===1)r.tag===0?h1(dg.bind(null,r)):Yp(dg.bind(null,r)),c1(function(){(Oe&6)===0&&or()}),c=null;else{switch(rp(d)){case 1:c=Ec;break;case 4:c=ep;break;case 16:c=Wi;break;case 536870912:c=tp;break;default:c=Wi}c=xg(c,ug.bind(null,r))}r.callbackPriority=s,r.callbackNode=c}}function ug(r,s){if(Fa=-1,Ua=0,(Oe&6)!==0)throw Error(n(327));var c=r.callbackNode;if(ks()&&r.callbackNode!==c)return null;var d=Qi(r,r===ct?ht:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=za(r,d);else{s=d;var p=Oe;Oe|=2;var y=hg();(ct!==r||ht!==s)&&(zn=null,Ns=et()+500,Mr(r,s));do try{I1();break}catch(k){fg(r,k)}while(!0);du(),Ia.current=y,Oe=p,rt!==null?s=0:(ct=null,ht=0,s=it)}if(s!==0){if(s===2&&(p=Nc(r),p!==0&&(d=p,s=Gu(r,p))),s===1)throw c=Qo,Mr(r,0),fr(r,d),Tt(r,et()),c;if(s===6)fr(r,d);else{if(p=r.current.alternate,(d&30)===0&&!A1(p)&&(s=za(r,d),s===2&&(y=Nc(r),y!==0&&(d=y,s=Gu(r,y))),s===1))throw c=Qo,Mr(r,0),fr(r,d),Tt(r,et()),c;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:Lr(r,Rt,zn);break;case 3:if(fr(r,d),(d&130023424)===d&&(s=Wu+500-et(),10<s)){if(Qi(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){_t(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=eu(Lr.bind(null,r,Rt,zn),s);break}Lr(r,Rt,zn);break;case 4:if(fr(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var j=31-sn(d);y=1<<j,j=s[j],j>p&&(p=j),d&=~y}if(d=p,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*P1(d/1960))-d,10<d){r.timeoutHandle=eu(Lr.bind(null,r,Rt,zn),d);break}Lr(r,Rt,zn);break;case 5:Lr(r,Rt,zn);break;default:throw Error(n(329))}}}return Tt(r,et()),r.callbackNode===c?ug.bind(null,r):null}function Gu(r,s){var c=Yo;return r.current.memoizedState.isDehydrated&&(Mr(r,s).flags|=256),r=za(r,s),r!==2&&(s=Rt,Rt=c,s!==null&&Qu(s)),r}function Qu(r){Rt===null?Rt=r:Rt.push.apply(Rt,r)}function A1(r){for(var s=r;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var p=c[d],y=p.getSnapshot;p=p.value;try{if(!on(y(),p))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fr(r,s){for(s&=~Hu,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var c=31-sn(s),d=1<<c;r[c]=-1,s&=~d}}function dg(r){if((Oe&6)!==0)throw Error(n(327));ks();var s=Qi(r,0);if((s&1)===0)return Tt(r,et()),null;var c=za(r,s);if(r.tag!==0&&c===2){var d=Nc(r);d!==0&&(s=d,c=Gu(r,d))}if(c===1)throw c=Qo,Mr(r,0),fr(r,s),Tt(r,et()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Lr(r,Rt,zn),Tt(r,et()),null}function Yu(r,s){var c=Oe;Oe|=1;try{return r(s)}finally{Oe=c,Oe===0&&(Ns=et()+500,pa&&or())}}function Dr(r){ur!==null&&ur.tag===0&&(Oe&6)===0&&ks();var s=Oe;Oe|=1;var c=qt.transition,d=Fe;try{if(qt.transition=null,Fe=1,r)return r()}finally{Fe=d,qt.transition=c,Oe=s,(Oe&6)===0&&or()}}function Ju(){Mt=Es.current,We(Es)}function Mr(r,s){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,l1(c)),rt!==null)for(c=rt.return;c!==null;){var d=c;switch(iu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&fa();break;case 3:_s(),We(Et),We(vt),xu();break;case 5:vu(d);break;case 4:_s();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:fu(d.type._context);break;case 22:case 23:Ju()}c=c.return}if(ct=r,rt=r=hr(r.current,null),ht=Mt=s,it=0,Qo=null,Hu=Da=Ir=0,Rt=Yo=null,Pr!==null){for(s=0;s<Pr.length;s++)if(c=Pr[s],d=c.interleaved,d!==null){c.interleaved=null;var p=d.next,y=c.pending;if(y!==null){var j=y.next;y.next=p,d.next=j}c.pending=d}Pr=null}return r}function fg(r,s){do{var c=rt;try{if(du(),ja.current=ka,Ca){for(var d=Je.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ca=!1}if(Or=0,lt=ot=Je=null,Vo=!1,Ho=0,Vu.current=null,c===null||c.return===null){it=1,Qo=s,rt=null;break}e:{var y=r,j=c.return,k=c,T=s;if(s=ht,k.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var L=T,H=k,K=H.tag;if((H.mode&1)===0&&(K===0||K===11||K===15)){var V=H.alternate;V?(H.updateQueue=V.updateQueue,H.memoizedState=V.memoizedState,H.lanes=V.lanes):(H.updateQueue=null,H.memoizedState=null)}var ne=Lm(j);if(ne!==null){ne.flags&=-257,$m(ne,j,k,y,s),ne.mode&1&&Mm(y,L,s),s=ne,T=L;var oe=s.updateQueue;if(oe===null){var ae=new Set;ae.add(T),s.updateQueue=ae}else oe.add(T);break e}else{if((s&1)===0){Mm(y,L,s),Xu();break e}T=Error(n(426))}}else if(qe&&k.mode&1){var tt=Lm(j);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),$m(tt,j,k,y,s),cu(js(T,k));break e}}y=T=js(T,k),it!==4&&(it=2),Yo===null?Yo=[y]:Yo.push(y),y=j;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var I=Im(y,T,s);am(y,I);break e;case 1:k=T;var A=y.type,D=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(cr===null||!cr.has(D)))){y.flags|=65536,s&=-s,y.lanes|=s;var Q=Dm(y,k,s);am(y,Q);break e}}y=y.return}while(y!==null)}mg(c)}catch(ce){s=ce,rt===c&&c!==null&&(rt=c=c.return);continue}break}while(!0)}function hg(){var r=Ia.current;return Ia.current=ka,r===null?ka:r}function Xu(){(it===0||it===3||it===2)&&(it=4),ct===null||(Ir&268435455)===0&&(Da&268435455)===0||fr(ct,ht)}function za(r,s){var c=Oe;Oe|=2;var d=hg();(ct!==r||ht!==s)&&(zn=null,Mr(r,s));do try{O1();break}catch(p){fg(r,p)}while(!0);if(du(),Oe=c,Ia.current=d,rt!==null)throw Error(n(261));return ct=null,ht=0,it}function O1(){for(;rt!==null;)pg(rt)}function I1(){for(;rt!==null&&!o_();)pg(rt)}function pg(r){var s=yg(r.alternate,r,Mt);r.memoizedProps=r.pendingProps,s===null?mg(r):rt=s,Vu.current=null}function mg(r){var s=r;do{var c=s.alternate;if(r=s.return,(s.flags&32768)===0){if(c=E1(c,s,Mt),c!==null){rt=c;return}}else{if(c=N1(c,s),c!==null){c.flags&=32767,rt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{it=6,rt=null;return}}if(s=s.sibling,s!==null){rt=s;return}rt=s=r}while(s!==null);it===0&&(it=5)}function Lr(r,s,c){var d=Fe,p=qt.transition;try{qt.transition=null,Fe=1,D1(r,s,c,d)}finally{qt.transition=p,Fe=d}return null}function D1(r,s,c,d){do ks();while(ur!==null);if((Oe&6)!==0)throw Error(n(327));c=r.finishedWork;var p=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=c.lanes|c.childLanes;if(m_(r,y),r===ct&&(rt=ct=null,ht=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||La||(La=!0,xg(Wi,function(){return ks(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=qt.transition,qt.transition=null;var j=Fe;Fe=1;var k=Oe;Oe|=4,Vu.current=null,R1(r,c),og(c,r),t1(Xc),Xi=!!Jc,Xc=Jc=null,r.current=c,T1(c),i_(),Oe=k,Fe=j,qt.transition=y}else r.current=c;if(La&&(La=!1,ur=r,$a=p),y=r.pendingLanes,y===0&&(cr=null),c_(c.stateNode),Tt(r,et()),s!==null)for(d=r.onRecoverableError,c=0;c<s.length;c++)p=s[c],d(p.value,{componentStack:p.stack,digest:p.digest});if(Ma)throw Ma=!1,r=Ku,Ku=null,r;return($a&1)!==0&&r.tag!==0&&ks(),y=r.pendingLanes,(y&1)!==0?r===qu?Jo++:(Jo=0,qu=r):Jo=0,or(),null}function ks(){if(ur!==null){var r=rp($a),s=qt.transition,c=Fe;try{if(qt.transition=null,Fe=16>r?16:r,ur===null)var d=!1;else{if(r=ur,ur=null,$a=0,(Oe&6)!==0)throw Error(n(331));var p=Oe;for(Oe|=4,se=r.current;se!==null;){var y=se,j=y.child;if((se.flags&16)!==0){var k=y.deletions;if(k!==null){for(var T=0;T<k.length;T++){var L=k[T];for(se=L;se!==null;){var H=se;switch(H.tag){case 0:case 11:case 15:Go(8,H,y)}var K=H.child;if(K!==null)K.return=H,se=K;else for(;se!==null;){H=se;var V=H.sibling,ne=H.return;if(eg(H),H===L){se=null;break}if(V!==null){V.return=ne,se=V;break}se=ne}}}var oe=y.alternate;if(oe!==null){var ae=oe.child;if(ae!==null){oe.child=null;do{var tt=ae.sibling;ae.sibling=null,ae=tt}while(ae!==null)}}se=y}}if((y.subtreeFlags&2064)!==0&&j!==null)j.return=y,se=j;else e:for(;se!==null;){if(y=se,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Go(9,y,y.return)}var I=y.sibling;if(I!==null){I.return=y.return,se=I;break e}se=y.return}}var A=r.current;for(se=A;se!==null;){j=se;var D=j.child;if((j.subtreeFlags&2064)!==0&&D!==null)D.return=j,se=D;else e:for(j=A;se!==null;){if(k=se,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Oa(9,k)}}catch(ce){Xe(k,k.return,ce)}if(k===j){se=null;break e}var Q=k.sibling;if(Q!==null){Q.return=k.return,se=Q;break e}se=k.return}}if(Oe=p,or(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ki,r)}catch{}d=!0}return d}finally{Fe=c,qt.transition=s}}return!1}function gg(r,s,c){s=js(c,s),s=Im(r,s,1),r=ar(r,s,1),s=_t(),r!==null&&(bo(r,1,s),Tt(r,s))}function Xe(r,s,c){if(r.tag===3)gg(r,r,c);else for(;s!==null;){if(s.tag===3){gg(s,r,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(cr===null||!cr.has(d))){r=js(c,r),r=Dm(s,r,1),s=ar(s,r,1),r=_t(),s!==null&&(bo(s,1,r),Tt(s,r));break}}s=s.return}}function M1(r,s,c){var d=r.pingCache;d!==null&&d.delete(s),s=_t(),r.pingedLanes|=r.suspendedLanes&c,ct===r&&(ht&c)===c&&(it===4||it===3&&(ht&130023424)===ht&&500>et()-Wu?Mr(r,0):Hu|=c),Tt(r,s)}function vg(r,s){s===0&&((r.mode&1)===0?s=1:(s=Gi,Gi<<=1,(Gi&130023424)===0&&(Gi=4194304)));var c=_t();r=$n(r,s),r!==null&&(bo(r,s,c),Tt(r,c))}function L1(r){var s=r.memoizedState,c=0;s!==null&&(c=s.retryLane),vg(r,c)}function $1(r,s){var c=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),vg(r,c)}var yg;yg=function(r,s,c){if(r!==null)if(r.memoizedProps!==s.pendingProps||Et.current)kt=!0;else{if((r.lanes&c)===0&&(s.flags&128)===0)return kt=!1,C1(r,s,c);kt=(r.flags&131072)!==0}else kt=!1,qe&&(s.flags&1048576)!==0&&Jp(s,ga,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Pa(r,s),r=s.pendingProps;var p=gs(s,vt.current);Ss(s,c),p=Su(null,s,d,r,p,c);var y=_u();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Nt(d)?(y=!0,ha(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,mu(s),p.updater=Ra,s.stateNode=p,p._reactInternals=s,Ru(s,d,r,c),s=Ou(null,s,d,!0,y,c)):(s.tag=0,qe&&y&&ou(s),St(null,s,p,c),s=s.child),s;case 16:d=s.elementType;e:{switch(Pa(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=U1(d),r=ln(d,r),p){case 0:s=Au(null,s,d,r,c);break e;case 1:s=Hm(null,s,d,r,c);break e;case 11:s=Fm(null,s,d,r,c);break e;case 14:s=Um(null,s,d,ln(d.type,r),c);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:ln(d,p),Au(r,s,d,p,c);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:ln(d,p),Hm(r,s,d,p,c);case 3:e:{if(Wm(s),r===null)throw Error(n(387));d=s.pendingProps,y=s.memoizedState,p=y.element,im(r,s),Sa(s,d,null,c);var j=s.memoizedState;if(d=j.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=js(Error(n(423)),s),s=Km(r,s,d,c,p);break e}else if(d!==p){p=js(Error(n(424)),s),s=Km(r,s,d,c,p);break e}else for(Dt=nr(s.stateNode.containerInfo.firstChild),It=s,qe=!0,an=null,c=sm(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(xs(),d===p){s=Un(r,s,c);break e}St(r,s,d,c)}s=s.child}return s;case 5:return cm(s),r===null&&lu(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,j=p.children,Zc(d,p)?j=null:y!==null&&Zc(d,y)&&(s.flags|=32),Vm(r,s),St(r,s,j,c),s.child;case 6:return r===null&&lu(s),null;case 13:return qm(r,s,c);case 4:return gu(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=ws(s,null,d,c):St(r,s,d,c),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:ln(d,p),Fm(r,s,d,p,c);case 7:return St(r,s,s.pendingProps,c),s.child;case 8:return St(r,s,s.pendingProps.children,c),s.child;case 12:return St(r,s,s.pendingProps.children,c),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,j=p.value,Be(xa,d._currentValue),d._currentValue=j,y!==null)if(on(y.value,j)){if(y.children===p.children&&!Et.current){s=Un(r,s,c);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){j=y.child;for(var T=k.firstContext;T!==null;){if(T.context===d){if(y.tag===1){T=Fn(-1,c&-c),T.tag=2;var L=y.updateQueue;if(L!==null){L=L.shared;var H=L.pending;H===null?T.next=T:(T.next=H.next,H.next=T),L.pending=T}}y.lanes|=c,T=y.alternate,T!==null&&(T.lanes|=c),hu(y.return,c,s),k.lanes|=c;break}T=T.next}}else if(y.tag===10)j=y.type===s.type?null:y.child;else if(y.tag===18){if(j=y.return,j===null)throw Error(n(341));j.lanes|=c,k=j.alternate,k!==null&&(k.lanes|=c),hu(j,c,s),j=y.sibling}else j=y.child;if(j!==null)j.return=y;else for(j=y;j!==null;){if(j===s){j=null;break}if(y=j.sibling,y!==null){y.return=j.return,j=y;break}j=j.return}y=j}St(r,s,p.children,c),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Ss(s,c),p=Wt(p),d=d(p),s.flags|=1,St(r,s,d,c),s.child;case 14:return d=s.type,p=ln(d,s.pendingProps),p=ln(d.type,p),Um(r,s,d,p,c);case 15:return zm(r,s,s.type,s.pendingProps,c);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:ln(d,p),Pa(r,s),s.tag=1,Nt(d)?(r=!0,ha(s)):r=!1,Ss(s,c),Am(s,d,p),Ru(s,d,p,c),Ou(null,s,d,!0,r,c);case 19:return Qm(r,s,c);case 22:return Bm(r,s,c)}throw Error(n(156,s.tag))};function xg(r,s){return Xh(r,s)}function F1(r,s,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(r,s,c,d){return new F1(r,s,c,d)}function Zu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function U1(r){if(typeof r=="function")return Zu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ee)return 11;if(r===xe)return 14}return 2}function hr(r,s){var c=r.alternate;return c===null?(c=Gt(r.tag,s,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=s,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,s=r.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Ba(r,s,c,d,p,y){var j=2;if(d=r,typeof r=="function")Zu(r)&&(j=1);else if(typeof r=="string")j=5;else e:switch(r){case $:return $r(c.children,p,y,s);case W:j=8,p|=8;break;case G:return r=Gt(12,c,s,p|2),r.elementType=G,r.lanes=y,r;case pe:return r=Gt(13,c,s,p),r.elementType=pe,r.lanes=y,r;case J:return r=Gt(19,c,s,p),r.elementType=J,r.lanes=y,r;case ie:return Va(c,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Z:j=10;break e;case de:j=9;break e;case ee:j=11;break e;case xe:j=14;break e;case te:j=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Gt(j,c,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function $r(r,s,c,d){return r=Gt(7,r,d,s),r.lanes=c,r}function Va(r,s,c,d){return r=Gt(22,r,d,s),r.elementType=ie,r.lanes=c,r.stateNode={isHidden:!1},r}function ed(r,s,c){return r=Gt(6,r,null,s),r.lanes=c,r}function td(r,s,c){return s=Gt(4,r.children!==null?r.children:[],r.key,s),s.lanes=c,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function z1(r,s,c,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function nd(r,s,c,d,p,y,j,k,T){return r=new z1(r,s,c,k,T),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Gt(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(y),r}function B1(r,s,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:r,containerInfo:s,implementation:c}}function wg(r){if(!r)return sr;r=r._reactInternals;e:{if(Er(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Nt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Nt(c))return Gp(r,c,s)}return s}function bg(r,s,c,d,p,y,j,k,T){return r=nd(c,d,!0,r,p,y,j,k,T),r.context=wg(null),c=r.current,d=_t(),p=dr(c),y=Fn(d,p),y.callback=s??null,ar(c,y,p),r.current.lanes=p,bo(r,p,d),Tt(r,d),r}function Ha(r,s,c,d){var p=s.current,y=_t(),j=dr(p);return c=wg(c),s.context===null?s.context=c:s.pendingContext=c,s=Fn(y,j),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ar(p,s,j),r!==null&&(dn(r,p,j,y),ba(r,p,j)),j}function Wa(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Sg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<s?c:s}}function rd(r,s){Sg(r,s),(r=r.alternate)&&Sg(r,s)}function V1(){return null}var _g=typeof reportError=="function"?reportError:function(r){console.error(r)};function sd(r){this._internalRoot=r}Ka.prototype.render=sd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Ha(r,s,null,null)},Ka.prototype.unmount=sd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Dr(function(){Ha(null,r,null,null)}),s[In]=null}};function Ka(r){this._internalRoot=r}Ka.prototype.unstable_scheduleHydration=function(r){if(r){var s=ip();r={blockedOn:null,target:r,priority:s};for(var c=0;c<Zn.length&&s!==0&&s<Zn[c].priority;c++);Zn.splice(c,0,r),c===0&&cp(r)}};function od(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function qa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function jg(){}function H1(r,s,c,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var L=Wa(j);y.call(L)}}var j=bg(s,d,r,0,null,!1,!1,"",jg);return r._reactRootContainer=j,r[In]=j.current,Do(r.nodeType===8?r.parentNode:r),Dr(),j}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var k=d;d=function(){var L=Wa(T);k.call(L)}}var T=nd(r,0,!1,null,null,!1,!1,"",jg);return r._reactRootContainer=T,r[In]=T.current,Do(r.nodeType===8?r.parentNode:r),Dr(function(){Ha(s,T,c,d)}),T}function Ga(r,s,c,d,p){var y=c._reactRootContainer;if(y){var j=y;if(typeof p=="function"){var k=p;p=function(){var T=Wa(j);k.call(T)}}Ha(s,j,r,p)}else j=H1(c,s,r,p,d);return Wa(j)}sp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var c=wo(s.pendingLanes);c!==0&&(Rc(s,c|1),Tt(s,et()),(Oe&6)===0&&(Ns=et()+500,or()))}break;case 13:Dr(function(){var d=$n(r,1);if(d!==null){var p=_t();dn(d,r,1,p)}}),rd(r,1)}},Tc=function(r){if(r.tag===13){var s=$n(r,134217728);if(s!==null){var c=_t();dn(s,r,134217728,c)}rd(r,134217728)}},op=function(r){if(r.tag===13){var s=dr(r),c=$n(r,s);if(c!==null){var d=_t();dn(c,r,s,d)}rd(r,s)}},ip=function(){return Fe},ap=function(r,s){var c=Fe;try{return Fe=r,s()}finally{Fe=c}},Sc=function(r,s,c){switch(s){case"input":if(Cr(r,c),s=c.name,c.type==="radio"&&s!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==r&&d.form===r.form){var p=da(d);if(!p)throw Error(n(90));Qe(d),Cr(d,p)}}}break;case"textarea":Mh(r,c);break;case"select":s=c.value,s!=null&&ss(r,!!c.multiple,s,!1)}},Wh=Yu,Kh=Dr;var W1={usingClientEntryPoint:!1,Events:[$o,ps,da,Vh,Hh,Yu]},Xo={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K1={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Yh(r),r===null?null:r.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||V1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{Ki=Qa.inject(K1),bn=Qa}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W1,Pt.createPortal=function(r,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(s))throw Error(n(200));return B1(r,s,null,c)},Pt.createRoot=function(r,s){if(!od(r))throw Error(n(299));var c=!1,d="",p=_g;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=nd(r,1,!1,null,null,c,!1,d,p),r[In]=s.current,Do(r.nodeType===8?r.parentNode:r),new sd(s)},Pt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Yh(s),r=r===null?null:r.stateNode,r},Pt.flushSync=function(r){return Dr(r)},Pt.hydrate=function(r,s,c){if(!qa(s))throw Error(n(200));return Ga(null,r,s,!0,c)},Pt.hydrateRoot=function(r,s,c){if(!od(r))throw Error(n(405));var d=c!=null&&c.hydratedSources||null,p=!1,y="",j=_g;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),s=bg(s,null,r,1,c??null,p,!1,y,j),r[In]=s.current,Do(r),d)for(r=0;r<d.length;r++)c=d[r],p=c._getVersion,p=p(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,p]:s.mutableSourceEagerHydrationData.push(c,p);return new Ka(s)},Pt.render=function(r,s,c){if(!qa(s))throw Error(n(200));return Ga(null,r,s,!1,c)},Pt.unmountComponentAtNode=function(r){if(!qa(r))throw Error(n(40));return r._reactRootContainer?(Dr(function(){Ga(null,null,r,!1,function(){r._reactRootContainer=null,r[In]=null})}),!0):!1},Pt.unstable_batchedUpdates=Yu,Pt.unstable_renderSubtreeIntoContainer=function(r,s,c,d){if(!qa(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ga(r,s,c,!1,d)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var Ag;function fy(){if(Ag)return ld.exports;Ag=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ld.exports=ej(),ld.exports}var Og;function tj(){if(Og)return Ya;Og=1;var e=fy();return Ya.createRoot=e.createRoot,Ya.hydrateRoot=e.hydrateRoot,Ya}var nj=tj();const rj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hy=(...e)=>e.filter((t,n,o)=>!!t&&o.indexOf(t)===n).join(" ");var sj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oj=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:u,...f},h)=>v.createElement("svg",{ref:h,...sj,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:hy("lucide",i),...f},[...u.map(([m,g])=>v.createElement(m,g)),...Array.isArray(l)?l:[l]]));const ge=(e,t)=>{const n=v.forwardRef(({className:o,...i},l)=>v.createElement(oj,{ref:l,iconNode:t,className:hy(`lucide-${rj(e)}`,o),...i}));return n.displayName=`${e}`,n};const ij=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const fi=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const aj=ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const _f=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const jf=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Cf=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const lj=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const cj=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Ef=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const py=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const yl=ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const my=ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const uj=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Hn=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const hi=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const dj=ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const fj=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const hj=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const gy=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const pj=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const vy=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const mj=ge("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const gj=ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const vj=ge("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const yj=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const xj=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const wj=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Js=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Zt=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const bj=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Wr=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const Sj=ge("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const _j=ge("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Xs=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const pi=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const jj=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const ki=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Cj=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Ej=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Nj=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Zs=ge("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const en=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Ld=ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const kj=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Rj=ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const $d=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Ri=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const dd=ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const Tj=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Pj=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ws=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const yy=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Ig=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Dg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $l(...e){return t=>{let n=!1;const o=e.map(i=>{const l=Dg(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<o.length;i++){const l=o[i];typeof l=="function"?l():Dg(e[i],null)}}}}function ke(...e){return v.useCallback($l(...e),e)}function Kr(e){const t=Aj(e),n=v.forwardRef((o,i)=>{const{children:l,...u}=o,f=v.Children.toArray(l),h=f.find(Ij);if(h){const m=h.props.children,g=f.map(x=>x===h?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:x);return a.jsx(t,{...u,ref:i,children:v.isValidElement(m)?v.cloneElement(m,void 0,g):null})}return a.jsx(t,{...u,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}var Nf=Kr("Slot");function Aj(e){const t=v.forwardRef((n,o)=>{const{children:i,...l}=n;if(v.isValidElement(i)){const u=Mj(i),f=Dj(l,i.props);return i.type!==v.Fragment&&(f.ref=o?$l(o,u):u),v.cloneElement(i,f)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xy=Symbol("radix.slottable");function Oj(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=xy,t}function Ij(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xy}function Dj(e,t){const n={...t};for(const o in t){const i=e[o],l=t[o];/^on[A-Z]/.test(o)?i&&l?n[o]=(...f)=>{l(...f),i(...f)}:i&&(n[o]=i):o==="style"?n[o]={...i,...l}:o==="className"&&(n[o]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function Mj(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function wy(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=wy(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function by(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=wy(e))&&(o&&(o+=" "),o+=t);return o}const Mg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Lg=by,Jr=(e,t)=>n=>{var o;if(t?.variants==null)return Lg(e,n?.class,n?.className);const{variants:i,defaultVariants:l}=t,u=Object.keys(i).map(m=>{const g=n?.[m],x=l?.[m];if(g===null)return null;const w=Mg(g)||Mg(x);return i[m][w]}),f=n&&Object.entries(n).reduce((m,g)=>{let[x,w]=g;return w===void 0||(m[x]=w),m},{}),h=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((m,g)=>{let{class:x,className:w,...S}=g;return Object.entries(S).every(C=>{let[b,_]=C;return Array.isArray(_)?_.includes({...l,...f}[b]):{...l,...f}[b]===_})?[...m,x,w]:m},[]);return Lg(e,u,h,n?.class,n?.className)},kf="-",Lj=e=>{const t=Fj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:u=>{const f=u.split(kf);return f[0]===""&&f.length!==1&&f.shift(),Sy(f,t)||$j(u)},getConflictingClassGroupIds:(u,f)=>{const h=n[u]||[];return f&&o[u]?[...h,...o[u]]:h}}},Sy=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],o=t.nextPart.get(n),i=o?Sy(e.slice(1),o):void 0;if(i)return i;if(t.validators.length===0)return;const l=e.join(kf);return t.validators.find(({validator:u})=>u(l))?.classGroupId},$g=/^\[(.+)\]$/,$j=e=>{if($g.test(e)){const t=$g.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Fj=e=>{const{theme:t,prefix:n}=e,o={nextPart:new Map,validators:[]};return zj(Object.entries(e.classGroups),n).forEach(([l,u])=>{Fd(u,o,l,t)}),o},Fd=(e,t,n,o)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?t:Fg(t,i);l.classGroupId=n;return}if(typeof i=="function"){if(Uj(i)){Fd(i(o),t,n,o);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([l,u])=>{Fd(u,Fg(t,l),n,o)})})},Fg=(e,t)=>{let n=e;return t.split(kf).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},Uj=e=>e.isThemeGetter,zj=(e,t)=>t?e.map(([n,o])=>{const i=o.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,f])=>[t+u,f])):l);return[n,i]}):e,Bj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,o=new Map;const i=(l,u)=>{n.set(l,u),t++,t>e&&(t=0,o=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=o.get(l))!==void 0)return i(l,u),u},set(l,u){n.has(l)?n.set(l,u):i(l,u)}}},_y="!",Vj=e=>{const{separator:t,experimentalParseClassName:n}=e,o=t.length===1,i=t[0],l=t.length,u=f=>{const h=[];let m=0,g=0,x;for(let _=0;_<f.length;_++){let E=f[_];if(m===0){if(E===i&&(o||f.slice(_,_+l)===t)){h.push(f.slice(g,_)),g=_+l;continue}if(E==="/"){x=_;continue}}E==="["?m++:E==="]"&&m--}const w=h.length===0?f:f.substring(g),S=w.startsWith(_y),C=S?w.substring(1):w,b=x&&x>g?x-g:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:b}};return n?f=>n({className:f,parseClassName:u}):u},Hj=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(o=>{o[0]==="["?(t.push(...n.sort(),o),n=[]):n.push(o)}),t.push(...n.sort()),t},Wj=e=>({cache:Bj(e.cacheSize),parseClassName:Vj(e),...Lj(e)}),Kj=/\s+/,qj=(e,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:i}=t,l=[],u=e.trim().split(Kj);let f="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:g,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:S}=n(m);let C=!!S,b=o(C?w.substring(0,S):w);if(!b){if(!C){f=m+(f.length>0?" "+f:f);continue}if(b=o(w),!b){f=m+(f.length>0?" "+f:f);continue}C=!1}const _=Hj(g).join(":"),E=x?_+_y:_,N=E+b;if(l.includes(N))continue;l.push(N);const R=i(b,C);for(let O=0;O<R.length;++O){const M=R[O];l.push(E+M)}f=m+(f.length>0?" "+f:f)}return f};function Gj(){let e=0,t,n,o="";for(;e<arguments.length;)(t=arguments[e++])&&(n=jy(t))&&(o&&(o+=" "),o+=n);return o}const jy=e=>{if(typeof e=="string")return e;let t,n="";for(let o=0;o<e.length;o++)e[o]&&(t=jy(e[o]))&&(n&&(n+=" "),n+=t);return n};function Qj(e,...t){let n,o,i,l=u;function u(h){const m=t.reduce((g,x)=>x(g),e());return n=Wj(m),o=n.cache.get,i=n.cache.set,l=f,f(h)}function f(h){const m=o(h);if(m)return m;const g=qj(h,n);return i(h,g),g}return function(){return l(Gj.apply(null,arguments))}}const Ke=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Cy=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yj=/^\d+\/\d+$/,Jj=new Set(["px","full","screen"]),Xj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bn=e=>Ks(e)||Jj.has(e)||Yj.test(e),mr=e=>ro(e,"length",uC),Ks=e=>!!e&&!Number.isNaN(Number(e)),fd=e=>ro(e,"number",Ks),ei=e=>!!e&&Number.isInteger(Number(e)),rC=e=>e.endsWith("%")&&Ks(e.slice(0,-1)),Ee=e=>Cy.test(e),gr=e=>Xj.test(e),sC=new Set(["length","size","percentage"]),oC=e=>ro(e,sC,Ey),iC=e=>ro(e,"position",Ey),aC=new Set(["image","url"]),lC=e=>ro(e,aC,fC),cC=e=>ro(e,"",dC),ti=()=>!0,ro=(e,t,n)=>{const o=Cy.exec(e);return o?o[1]?typeof t=="string"?o[1]===t:t.has(o[1]):n(o[2]):!1},uC=e=>Zj.test(e)&&!eC.test(e),Ey=()=>!1,dC=e=>tC.test(e),fC=e=>nC.test(e),hC=()=>{const e=Ke("colors"),t=Ke("spacing"),n=Ke("blur"),o=Ke("brightness"),i=Ke("borderColor"),l=Ke("borderRadius"),u=Ke("borderSpacing"),f=Ke("borderWidth"),h=Ke("contrast"),m=Ke("grayscale"),g=Ke("hueRotate"),x=Ke("invert"),w=Ke("gap"),S=Ke("gradientColorStops"),C=Ke("gradientColorStopPositions"),b=Ke("inset"),_=Ke("margin"),E=Ke("opacity"),N=Ke("padding"),R=Ke("saturate"),O=Ke("scale"),M=Ke("sepia"),F=Ke("skew"),$=Ke("space"),W=Ke("translate"),G=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],de=()=>["auto",Ee,t],ee=()=>[Ee,t],pe=()=>["",Bn,mr],J=()=>["auto",Ks,Ee],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ee],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[Ks,Ee];return{cacheSize:500,separator:":",theme:{colors:[ti],spacing:[Bn,mr],blur:["none","",gr,Ee],brightness:P(),borderColor:[e],borderRadius:["none","","full",gr,Ee],borderSpacing:ee(),borderWidth:pe(),contrast:P(),grayscale:z(),hueRotate:P(),invert:z(),gap:ee(),gradientColorStops:[e],gradientColorStopPositions:[rC,mr],inset:de(),margin:de(),opacity:P(),padding:ee(),saturate:P(),scale:P(),sepia:z(),skew:P(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[gr]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),Ee]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ei,Ee]}],basis:[{basis:de()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ei,Ee]}],"grid-cols":[{"grid-cols":[ti]}],"col-start-end":[{col:["auto",{span:["full",ei,Ee]},Ee]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[ti]}],"row-start-end":[{row:["auto",{span:[ei,Ee]},Ee]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[gr]},gr]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gr,mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fd]}],"font-family":[{font:[ti]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Ks,fd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bn,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bn,mr]}],"underline-offset":[{"underline-offset":["auto",Bn,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),iC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Bn,Ee]}],"outline-w":[{outline:[Bn,mr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Bn,mr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gr,cC]}],"shadow-color":[{shadow:[ti]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",gr,Ee]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[R]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[ei,Ee]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bn,mr,fd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pC=Qj(hC);function re(...e){return pC(by(e))}const mC=Jr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Te=v.forwardRef(({className:e,variant:t,size:n,asChild:o=!1,...i},l)=>{const u=o?Nf:"button";return a.jsx(u,{className:re(mC({variant:t,size:n,className:e})),ref:l,...i})});Te.displayName="Button";const _e=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));_e.displayName="Card";const De=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));De.displayName="CardHeader";const Me=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));Me.displayName="CardTitle";const li=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));li.displayName="CardDescription";const Ae=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));Ae.displayName="CardContent";const Fl=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));Fl.displayName="CardFooter";class gC extends v.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},this.handleGoHome=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.setState({errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:a.jsxs(_e,{className:"w-full max-w-md border-destructive/50",children:[a.jsxs(De,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:a.jsx(Ri,{className:"h-6 w-6 text-destructive"})}),a.jsx(Me,{className:"text-xl",children:"Algo sali mal"})]}),a.jsxs(Ae,{className:"text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Ha ocurrido un error inesperado. Por favor intente recargar la pgina."}),!1]}),a.jsxs(Fl,{className:"flex gap-2 justify-center",children:[a.jsxs(Te,{variant:"outline",onClick:this.handleGoHome,children:[a.jsx(vy,{className:"h-4 w-4 mr-2"}),"Inicio"]}),a.jsxs(Te,{onClick:this.handleReset,children:[a.jsx(jj,{className:"h-4 w-4 mr-2"}),"Recargar"]})]})]})}):this.props.children}}function vC(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,o,i,l,u=[],f="",h=e.split("/");for(h[0]||h.shift();i=h.shift();)n=i[0],n==="*"?(u.push(n),f+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(o=i.indexOf("?",1),l=i.indexOf(".",1),u.push(i.substring(1,~o?o:~l?l:i.length)),f+=~o&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(f+=(~o?"?":"")+"\\"+i.substring(l))):f+="/"+i;return{keys:u,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var hd={exports:{}},pd={};var Ug;function yC(){if(Ug)return pd;Ug=1;var e=Ll();function t(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,i=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function f(x,w){var S=w(),C=o({inst:{value:S,getSnapshot:w}}),b=C[0].inst,_=C[1];return l(function(){b.value=S,b.getSnapshot=w,h(b)&&_({inst:b})},[x,S,w]),i(function(){return h(b)&&_({inst:b}),x(function(){h(b)&&_({inst:b})})},[x]),u(S),S}function h(x){var w=x.getSnapshot;x=x.value;try{var S=w();return!n(x,S)}catch{return!0}}function m(x,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return pd.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,pd}var zg;function xC(){return zg||(zg=1,hd.exports=yC()),hd.exports}var wC=xC();const bC=dy.useInsertionEffect,SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_C=SC?v.useLayoutEffect:v.useEffect,jC=bC||_C,Ny=e=>{const t=v.useRef([e,(...n)=>t[0](...n)]).current;return jC(()=>{t[0]=e}),t[1]},CC="popstate",Rf="pushState",Tf="replaceState",EC="hashchange",Bg=[CC,Rf,Tf,EC],NC=e=>{for(const t of Bg)addEventListener(t,e);return()=>{for(const t of Bg)removeEventListener(t,e)}},ky=(e,t)=>wC.useSyncExternalStore(NC,e,t),kC=()=>location.search,RC=({ssrSearch:e=""}={})=>ky(kC,()=>e),Vg=()=>location.pathname,TC=({ssrPath:e}={})=>ky(Vg,e?()=>e:Vg),PC=(e,{replace:t=!1,state:n=null}={})=>history[t?Tf:Rf](n,"",e),AC=(e={})=>[TC(e),PC],Hg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Hg]>"u"){for(const e of[Rf,Tf]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),o=new Event(e);return o.arguments=arguments,dispatchEvent(o),n}}Object.defineProperty(window,Hg,{value:!0})}const OC=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Ry=(e="")=>e==="/"?"":e,IC=(e,t)=>e[0]==="~"?e.slice(1):Ry(t)+e,DC=(e="",t)=>OC(Wg(Ry(e)),Wg(t)),Wg=e=>{try{return decodeURI(e)}catch{return e}},Ty={hook:AC,searchHook:RC,parser:vC,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Py=v.createContext(Ty),Ti=()=>v.useContext(Py),Ay={},Oy=v.createContext(Ay),MC=()=>v.useContext(Oy),Ul=e=>{const[t,n]=e.hook(e);return[DC(e.base,t),Ny((o,i)=>n(IC(o,e.base),i))]},Iy=()=>Ul(Ti()),Dy=(e,t,n,o)=>{const{pattern:i,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",o),u=i.exec(n)||[],[f,...h]=u;return f!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((x,w)=>[x,h[w]])):u.groups;let g={...h};return m&&Object.assign(g,m),g})(),...o?[f]:[]]:[!1,null]},LC=({children:e,...t})=>{const n=Ti(),o=t.hook?Ty:n;let i=o;const[l,u]=t.ssrPath?.split("?")??[];u&&(t.ssrSearch=u,t.ssrPath=l),t.hrefs=t.hrefs??t.hook?.hrefs;let f=v.useRef({}),h=f.current,m=h;for(let g in o){const x=g==="base"?o[g]+(t[g]||""):t[g]||o[g];h===m&&x!==m[g]&&(f.current=m={...m}),m[g]=x,x!==o[g]&&(i=m)}return v.createElement(Py.Provider,{value:i,children:e})},Kg=({children:e,component:t},n)=>t?v.createElement(t,{params:n}):typeof e=="function"?e(n):e,$C=e=>{let t=v.useRef(Ay),n=t.current;for(const o in e)e[o]!==n[o]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},fn=({path:e,nest:t,match:n,...o})=>{const i=Ti(),[l]=Ul(i),[u,f,h]=n??Dy(i.parser,e,l,t),m=$C({...MC(),...f});if(!u)return null;const g=h?v.createElement(LC,{base:h},Kg(o,m)):Kg(o,m);return v.createElement(Oy.Provider,{value:m,children:g})},xl=v.forwardRef((e,t)=>{const n=Ti(),[o,i]=Ul(n),{to:l="",href:u=l,onClick:f,asChild:h,children:m,className:g,replace:x,state:w,...S}=e,C=Ny(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(f?.(_),_.defaultPrevented||(_.preventDefault(),i(u,e)))}),b=n.hrefs(u[0]==="~"?u.slice(1):n.base+u,n);return h&&v.isValidElement(m)?v.cloneElement(m,{onClick:C,href:b}):v.createElement("a",{...S,onClick:C,href:b,className:g?.call?g(o===u):g,children:m,ref:t})}),My=e=>Array.isArray(e)?e.flatMap(t=>My(t&&t.type===v.Fragment?t.props.children:t)):[e],FC=({children:e,location:t})=>{const n=Ti(),[o]=Ul(n);for(const i of My(e)){let l=0;if(v.isValidElement(i)&&(l=Dy(n.parser,i.props.path,t||o,i.props.nest))[0])return v.cloneElement(i,{match:l})}return null};var Pi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qr=typeof window>"u"||"Deno"in globalThis;function Jt(){}function UC(e,t){return typeof e=="function"?e(t):e}function Ud(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ly(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qs(e,t){return typeof e=="function"?e(t):e}function vn(e,t){return typeof e=="function"?e(t):e}function qg(e,t){const{type:n="all",exact:o,fetchStatus:i,predicate:l,queryKey:u,stale:f}=e;if(u){if(o){if(t.queryHash!==Pf(u,t.options))return!1}else if(!gi(t.queryKey,u))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||i&&i!==t.state.fetchStatus||l&&!l(t))}function Gg(e,t){const{exact:n,status:o,predicate:i,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(mi(t.options.mutationKey)!==mi(l))return!1}else if(!gi(t.options.mutationKey,l))return!1}return!(o&&t.state.status!==o||i&&!i(t))}function Pf(e,t){return(t?.queryKeyHashFn||mi)(e)}function mi(e){return JSON.stringify(e,(t,n)=>Bd(n)?Object.keys(n).sort().reduce((o,i)=>(o[i]=n[i],o),{}):n)}function gi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!gi(e[n],t[n])):!1}function $y(e,t){if(e===t)return e;const n=Qg(e)&&Qg(t);if(n||Bd(e)&&Bd(t)){const o=n?e:Object.keys(e),i=o.length,l=n?t:Object.keys(t),u=l.length,f=n?[]:{};let h=0;for(let m=0;m<u;m++){const g=n?m:l[m];(!n&&o.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(f[g]=void 0,h++):(f[g]=$y(e[g],t[g]),f[g]===e[g]&&e[g]!==void 0&&h++)}return i===u&&h===i?e:f}return t}function zd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Qg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bd(e){if(!Yg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Yg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yg(e){return Object.prototype.toString.call(e)==="[object Object]"}function zC(e){return new Promise(t=>{setTimeout(t,e)})}function Vd(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$y(e,t):t}function BC(e,t,n=0){const o=[...e,t];return n&&o.length>n?o.slice(1):o}function VC(e,t,n=0){const o=[t,...e];return n&&o.length>n?o.slice(0,-1):o}var Af=Symbol();function Fy(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Af?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var HC=class extends Pi{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!qr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Of=new HC,WC=class extends Pi{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!qr&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},wl=new WC;function Hd(){let e,t;const n=new Promise((i,l)=>{e=i,t=l});n.status="pending",n.catch(()=>{});function o(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{o({status:"fulfilled",value:i}),e(i)},n.reject=i=>{o({status:"rejected",reason:i}),t(i)},n}function KC(e){return Math.min(1e3*2**e,3e4)}function Uy(e){return(e??"online")==="online"?wl.isOnline():!0}var zy=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function md(e){return e instanceof zy}function By(e){let t=!1,n=0,o=!1,i;const l=Hd(),u=b=>{o||(w(new zy(b)),e.abort?.())},f=()=>{t=!0},h=()=>{t=!1},m=()=>Of.isFocused()&&(e.networkMode==="always"||wl.isOnline())&&e.canRun(),g=()=>Uy(e.networkMode)&&e.canRun(),x=b=>{o||(o=!0,e.onSuccess?.(b),i?.(),l.resolve(b))},w=b=>{o||(o=!0,e.onError?.(b),i?.(),l.reject(b))},S=()=>new Promise(b=>{i=_=>{(o||m())&&b(_)},e.onPause?.()}).then(()=>{i=void 0,o||e.onContinue?.()}),C=()=>{if(o)return;let b;const _=n===0?e.initialPromise:void 0;try{b=_??e.fn()}catch(E){b=Promise.reject(E)}Promise.resolve(b).then(x).catch(E=>{if(o)return;const N=e.retry??(qr?0:3),R=e.retryDelay??KC,O=typeof R=="function"?R(n,E):R,M=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,E);if(t||!M){w(E);return}n++,e.onFail?.(n,E),zC(O).then(()=>m()?void 0:S()).then(()=>{t?w(E):C()})})};return{promise:l,cancel:u,continue:()=>(i?.(),l),cancelRetry:f,continueRetry:h,canStart:g,start:()=>(g()?C():S().then(C),l)}}function qC(){let e=[],t=0,n=f=>{f()},o=f=>{f()},i=f=>setTimeout(f,0);const l=f=>{t?e.push(f):i(()=>{n(f)})},u=()=>{const f=e;e=[],f.length&&i(()=>{o(()=>{f.forEach(h=>{n(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||u()}return h},batchCalls:f=>(...h)=>{l(()=>{f(...h)})},schedule:l,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{o=f},setScheduler:f=>{i=f}}}var gt=qC(),Vy=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ud(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},GC=class extends Vy{#e;#t;#r;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=QC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=Vd(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Jt).catch(Jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>vn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Af||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Ly(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const f=Fy(this.options,t),h={queryKey:this.queryKey,meta:this.meta};return o(h),this.#o=!1,this.options.persister?this.options.persister(f,h,this):f(h)},l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};o(l),this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta});const u=f=>{md(f)&&f.silent||this.#s({type:"error",error:f}),md(f)||(this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#n=By({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(h){u(h);return}this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,h)=>{this.#s({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Hy(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return md(o)&&o.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),gt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Hy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function QC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,o=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var YC=class extends Pi{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const o=t.queryKey,i=t.queryHash??Pf(o,t);let l=this.get(i);return l||(l=new GC({cache:this,queryKey:o,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>qg(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>qg(e,n)):t}notify(e){gt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){gt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},JC=class extends Vy{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||XC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=By({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,i)=>{this.#n({type:"failed",failureCount:o,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const o=await this.#r.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#n({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#n({type:"error",error:o})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),gt.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function XC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ZC=class extends Pi{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const o=new JC({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(o),o}add(e){const t=Ja(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=Ja(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(o=>o!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Ja(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Ja(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Gg(t,n))}findAll(e={}){return this.getAll().filter(t=>Gg(e,t))}notify(e){gt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return gt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Jt))))}};function Ja(e){return e.options.scope?.id??String(e.mutationId)}function Jg(e){return{onFetch:(t,n)=>{const o=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const x=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=Fy(t.options,t.fetchOptions),S=async(C,b,_)=>{if(g)return Promise.reject();if(b==null&&C.pages.length)return Promise.resolve(C);const E={queryKey:t.queryKey,pageParam:b,direction:_?"backward":"forward",meta:t.options.meta};x(E);const N=await w(E),{maxPages:R}=t.options,O=_?VC:BC;return{pages:O(C.pages,N,R),pageParams:O(C.pageParams,b,R)}};if(i&&l.length){const C=i==="backward",b=C?eE:Xg,_={pages:l,pageParams:u},E=b(o,_);f=await S(_,E,C)}else{const C=e??l.length;do{const b=h===0?u[0]??o.initialPageParam:Xg(o,f);if(h>0&&b==null)break;f=await S(f,b),h++}while(h<C)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function Xg(e,{pages:t,pageParams:n}){const o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,n[o],n):void 0}function eE(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var tE=class{#e;#t;#r;#n;#i;#o;#s;#a;constructor(e={}){this.#e=e.queryCache||new YC,this.#t=e.mutationCache||new ZC,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=Of.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=wl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),o=this.#e.build(this,n);return e.revalidateIfStale&&o.isStaleByTime(qs(n.staleTime,o))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const o=n.data;return[t,o]})}setQueryData(e,t,n){const o=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(o.queryHash)?.state.data,u=UC(t,l);if(u!==void 0)return this.#e.build(this,o).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return gt.batch(()=>this.#e.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;gt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,o={type:"active",...e};return gt.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(o,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},o=gt.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(o).then(Jt).catch(Jt)}invalidateQueries(e={},t={}){return gt.batch(()=>{if(this.#e.findAll(e).forEach(o=>{o.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},o=gt.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(Jt)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(o).then(Jt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(qs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jt).catch(Jt)}fetchInfiniteQuery(e){return e.behavior=Jg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jt).catch(Jt)}ensureInfiniteQueryData(e){return e.behavior=Jg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(mi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(o=>{gi(e,o.queryKey)&&(n={...n,...o.defaultOptions})}),n}setMutationDefaults(e,t){this.#i.set(mi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let n={};return t.forEach(o=>{gi(e,o.mutationKey)&&(n={...n,...o.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Pf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Af&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},nE=class extends Pi{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#s=Hd(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#o;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Zg(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wd(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wd(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,o=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!zd(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&ev(this.#t,o,this.options,n)&&this.#d(),this.updateResult(t),i&&(this.#t!==o||vn(this.options.enabled,this.#t)!==vn(n.enabled,this.#t)||qs(this.options.staleTime,this.#t)!==qs(n.staleTime,this.#t))&&this.#g();const l=this.#v();i&&(this.#t!==o||vn(this.options.enabled,this.#t)!==vn(n.enabled,this.#t)||l!==this.#l)&&this.#y(l)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return sE(this,n)&&(this.#n=n,this.#o=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(o=>{Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),t?.(o),e[o])})}),n}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Jt)),t}#g(){this.#w();const e=qs(this.options.staleTime,this.#t);if(qr||this.#n.isStale||!Ud(e))return;const n=Ly(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#b(),this.#l=e,!(qr||vn(this.options.enabled,this.#t)===!1||!Ud(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Of.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,o=this.options,i=this.#n,l=this.#i,u=this.#o,h=e!==n?e.state:this.#r,{state:m}=e;let g={...m},x=!1,w;if(t._optimisticResults){const $=this.hasListeners(),W=!$&&Zg(e,t),G=$&&ev(e,n,t,o);(W||G)&&(g={...g,...Hy(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:C,status:b}=g;if(t.select&&g.data!==void 0)if(i&&g.data===l?.data&&t.select===this.#m)w=this.#f;else try{this.#m=t.select,w=t.select(g.data),w=Vd(i?.data,w,t),this.#f=w,this.#a=null}catch($){this.#a=$}else w=g.data;if(t.placeholderData!==void 0&&w===void 0&&b==="pending"){let $;if(i?.isPlaceholderData&&t.placeholderData===u?.placeholderData)$=i.data;else if($=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&$!==void 0)try{$=t.select($),this.#a=null}catch(W){this.#a=W}$!==void 0&&(b="success",w=Vd(i?.data,$,t),x=!0)}this.#a&&(S=this.#a,w=this.#f,C=Date.now(),b="error");const _=g.fetchStatus==="fetching",E=b==="pending",N=b==="error",R=E&&_,O=w!==void 0,F={status:b,fetchStatus:g.fetchStatus,isPending:E,isSuccess:b==="success",isError:N,isInitialLoading:R,isLoading:R,data:w,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:N&&!O,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:N&&O,isStale:If(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const $=Z=>{F.status==="error"?Z.reject(F.error):F.data!==void 0&&Z.resolve(F.data)},W=()=>{const Z=this.#s=F.promise=Hd();$(Z)},G=this.#s;switch(G.status){case"pending":e.queryHash===n.queryHash&&$(G);break;case"fulfilled":(F.status==="error"||F.data!==G.value)&&W();break;case"rejected":(F.status!=="error"||F.error!==G.reason)&&W();break}}return F}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#t),zd(n,t))return;this.#n=n;const o={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,u=typeof l=="function"?l():l;if(u==="all"||!u&&!this.#p.size)return!0;const f=new Set(u??this.#p);return this.options.throwOnError&&f.add("error"),Object.keys(this.#n).some(h=>{const m=h;return this.#n[m]!==t[m]&&f.has(m)})};e?.listeners!==!1&&i()&&(o.listeners=!0),this.#_({...o,...e})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#_(e){gt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function rE(e,t){return vn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Zg(e,t){return rE(e,t)||e.state.data!==void 0&&Wd(e,t,t.refetchOnMount)}function Wd(e,t,n){if(vn(t.enabled,e)!==!1){const o=typeof n=="function"?n(e):n;return o==="always"||o!==!1&&If(e,t)}return!1}function ev(e,t,n,o){return(e!==t||vn(o.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&If(e,n)}function If(e,t){return vn(t.enabled,e)!==!1&&e.isStaleByTime(qs(t.staleTime,e))}function sE(e,t){return!zd(e.getCurrentResult(),t)}var Wy=v.createContext(void 0),oE=e=>{const t=v.useContext(Wy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iE=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Wy.Provider,{value:e,children:t})),Ky=v.createContext(!1),aE=()=>v.useContext(Ky);Ky.Provider;function lE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cE=v.createContext(lE()),uE=()=>v.useContext(cE);function dE(e,t){return typeof e=="function"?e(...t):!!e}function tv(){}var fE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},hE=e=>{v.useEffect(()=>{e.clearReset()},[e])},pE=({result:e,errorResetBoundary:t,throwOnError:n,query:o})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&dE(n,[e.error,o]),mE=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},gE=(e,t)=>e.isLoading&&e.isFetching&&!t,vE=(e,t)=>e?.suspense&&t.isPending,nv=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function yE(e,t,n){const o=oE(),i=aE(),l=uE(),u=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=i?"isRestoring":"optimistic",mE(u),fE(u,l),hE(l);const f=!o.getQueryCache().get(u.queryHash),[h]=v.useState(()=>new t(o,u)),m=h.getOptimisticResult(u);if(v.useSyncExternalStore(v.useCallback(g=>{const x=i?tv:h.subscribe(gt.batchCalls(g));return h.updateResult(),x},[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),vE(u,m))throw nv(u,h,l);if(pE({result:m,errorResetBoundary:l,throwOnError:u.throwOnError,query:o.getQueryCache().get(u.queryHash)}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!qr&&gE(m,i)&&(f?nv(u,h,l):o.getQueryCache().get(u.queryHash)?.promise)?.catch(tv).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?m:h.trackResult(m)}function En(e,t){return yE(e,nE)}async function xE(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const wE=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await xE(n),await n.json()},bE=new tE({defaultOptions:{queries:{queryFn:wE({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),SE=1,_E=1e6;let gd=0;function jE(){return gd=(gd+1)%Number.MAX_SAFE_INTEGER,gd.toString()}const vd=new Map,rv=e=>{if(vd.has(e))return;const t=setTimeout(()=>{vd.delete(e),ci({type:"REMOVE_TOAST",toastId:e})},_E);vd.set(e,t)},CE=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,SE)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?rv(n):e.toasts.forEach(o=>{rv(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},fl=[];let hl={toasts:[]};function ci(e){hl=CE(hl,e),fl.forEach(t=>{t(hl)})}function EE({...e}){const t=jE(),n=i=>ci({type:"UPDATE_TOAST",toast:{...i,id:t}}),o=()=>ci({type:"DISMISS_TOAST",toastId:t});return ci({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||o()}}}),{id:t,dismiss:o,update:n}}function NE(){const[e,t]=v.useState(hl);return v.useEffect(()=>(fl.push(t),()=>{const n=fl.indexOf(t);n>-1&&fl.splice(n,1)}),[e]),{...e,toast:EE,dismiss:n=>ci({type:"DISMISS_TOAST",toastId:n})}}var so=fy();const kE=uy(so);function X(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function RE(e,t){const n=v.createContext(t),o=l=>{const{children:u,...f}=l,h=v.useMemo(()=>f,Object.values(f));return a.jsx(n.Provider,{value:h,children:u})};o.displayName=e+"Provider";function i(l){const u=v.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[o,i]}function jt(e,t=[]){let n=[];function o(l,u){const f=v.createContext(u),h=n.length;n=[...n,u];const m=x=>{const{scope:w,children:S,...C}=x,b=w?.[e]?.[h]||f,_=v.useMemo(()=>C,Object.values(C));return a.jsx(b.Provider,{value:_,children:S})};m.displayName=l+"Provider";function g(x,w){const S=w?.[e]?.[h]||f,C=v.useContext(S);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,g]}const i=()=>{const l=n.map(u=>v.createContext(u));return function(f){const h=f?.[e]||l;return v.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return i.scopeName=e,[o,TE(i,...t)]}function TE(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=o.reduce((f,{useScope:h,scopeName:m})=>{const x=h(l)[`__scope${m}`];return{...f,...x}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Ai(e){const t=e+"CollectionProvider",[n,o]=jt(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:_,children:E}=b,N=ze.useRef(null),R=ze.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:R,collectionRef:N,children:E})};u.displayName=t;const f=e+"CollectionSlot",h=Kr(f),m=ze.forwardRef((b,_)=>{const{scope:E,children:N}=b,R=l(f,E),O=ke(_,R.collectionRef);return a.jsx(h,{ref:O,children:N})});m.displayName=f;const g=e+"CollectionItemSlot",x="data-radix-collection-item",w=Kr(g),S=ze.forwardRef((b,_)=>{const{scope:E,children:N,...R}=b,O=ze.useRef(null),M=ke(_,O),F=l(g,E);return ze.useEffect(()=>(F.itemMap.set(O,{ref:O,...R}),()=>{F.itemMap.delete(O)})),a.jsx(w,{[x]:"",ref:M,children:N})});S.displayName=g;function C(b){const _=l(e+"CollectionConsumer",b);return ze.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const R=Array.from(N.querySelectorAll(`[${x}]`));return Array.from(_.itemMap.values()).sort((F,$)=>R.indexOf(F.ref.current)-R.indexOf($.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},C,o]}var PE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],le=PE.reduce((e,t)=>{const n=Kr(`Primitive.${t}`),o=v.forwardRef((i,l)=>{const{asChild:u,...f}=i,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,{...f,ref:l})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function Df(e,t){e&&so.flushSync(()=>e.dispatchEvent(t))}function Ge(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>t.current?.(...n),[])}function AE(e,t=globalThis?.document){const n=Ge(e);v.useEffect(()=>{const o=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var OE="DismissableLayer",Kd="dismissableLayer.update",IE="dismissableLayer.pointerDownOutside",DE="dismissableLayer.focusOutside",sv,qy=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oo=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...h}=e,m=v.useContext(qy),[g,x]=v.useState(null),w=g?.ownerDocument??globalThis?.document,[,S]=v.useState({}),C=ke(t,$=>x($)),b=Array.from(m.layers),[_]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(_),N=g?b.indexOf(g):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,O=N>=E,M=LE($=>{const W=$.target,G=[...m.branches].some(Z=>Z.contains(W));!O||G||(i?.($),u?.($),$.defaultPrevented||f?.())},w),F=$E($=>{const W=$.target;[...m.branches].some(Z=>Z.contains(W))||(l?.($),u?.($),$.defaultPrevented||f?.())},w);return AE($=>{N===m.layers.size-1&&(o?.($),!$.defaultPrevented&&f&&($.preventDefault(),f()))},w),v.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(sv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),ov(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=sv)}},[g,w,n,m]),v.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),ov())},[g,m]),v.useEffect(()=>{const $=()=>S({});return document.addEventListener(Kd,$),()=>document.removeEventListener(Kd,$)},[]),a.jsx(le.div,{...h,ref:C,style:{pointerEvents:R?O?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,F.onFocusCapture),onBlurCapture:X(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,M.onPointerDownCapture)})});oo.displayName=OE;var ME="DismissableLayerBranch",Gy=v.forwardRef((e,t)=>{const n=v.useContext(qy),o=v.useRef(null),i=ke(t,o);return v.useEffect(()=>{const l=o.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),a.jsx(le.div,{...e,ref:i})});Gy.displayName=ME;function LE(e,t=globalThis?.document){const n=Ge(e),o=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const l=f=>{if(f.target&&!o.current){let h=function(){Qy(IE,n,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);o.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function $E(e,t=globalThis?.document){const n=Ge(e),o=v.useRef(!1);return v.useEffect(()=>{const i=l=>{l.target&&!o.current&&Qy(DE,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function ov(){const e=new CustomEvent(Kd);document.dispatchEvent(e)}function Qy(e,t,n,{discrete:o}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),o?Df(i,l):i.dispatchEvent(l)}var FE=oo,UE=Gy,nt=globalThis?.document?v.useLayoutEffect:()=>{},zE="Portal",Oi=v.forwardRef((e,t)=>{const{container:n,...o}=e,[i,l]=v.useState(!1);nt(()=>l(!0),[]);const u=n||i&&globalThis?.document?.body;return u?kE.createPortal(a.jsx(le.div,{...o,ref:t}),u):null});Oi.displayName=zE;function BE(e,t){return v.useReducer((n,o)=>t[n][o]??n,e)}var bt=e=>{const{present:t,children:n}=e,o=VE(t),i=typeof n=="function"?n({present:o.isPresent}):v.Children.only(n),l=ke(o.ref,HE(i));return typeof n=="function"||o.isPresent?v.cloneElement(i,{ref:l}):null};bt.displayName="Presence";function VE(e){const[t,n]=v.useState(),o=v.useRef({}),i=v.useRef(e),l=v.useRef("none"),u=e?"mounted":"unmounted",[f,h]=BE(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=Xa(o.current);l.current=f==="mounted"?m:"none"},[f]),nt(()=>{const m=o.current,g=i.current;if(g!==e){const w=l.current,S=Xa(m);e?h("MOUNT"):S==="none"||m?.display==="none"?h("UNMOUNT"):h(g&&w!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),nt(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,x=S=>{const b=Xa(o.current).includes(S.animationName);if(S.target===t&&b&&(h("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},w=S=>{S.target===t&&(l.current=Xa(o.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:v.useCallback(m=>{m&&(o.current=getComputedStyle(m)),n(m)},[])}}function Xa(e){return e?.animationName||"none"}function HE(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function tn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,i]=WE({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:o,f=Ge(n),h=v.useCallback(m=>{if(l){const x=typeof m=="function"?m(e):m;x!==e&&f(x)}else i(m)},[l,e,i,f]);return[u,h]}function WE({defaultProp:e,onChange:t}){const n=v.useState(e),[o]=n,i=v.useRef(o),l=Ge(t);return v.useEffect(()=>{i.current!==o&&(l(o),i.current=o)},[o,i,l]),n}var KE="VisuallyHidden",Ii=v.forwardRef((e,t)=>a.jsx(le.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ii.displayName=KE;var qE=Ii,Mf="ToastProvider",[Lf,GE,QE]=Ai("Toast"),[Yy]=jt("Toast",[QE]),[YE,zl]=Yy(Mf),Jy=e=>{const{__scopeToast:t,label:n="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:l=50,children:u}=e,[f,h]=v.useState(null),[m,g]=v.useState(0),x=v.useRef(!1),w=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mf}\`. Expected non-empty \`string\`.`),a.jsx(Lf.Provider,{scope:t,children:a.jsx(YE,{scope:t,label:n,duration:o,swipeDirection:i,swipeThreshold:l,toastCount:m,viewport:f,onViewportChange:h,onToastAdd:v.useCallback(()=>g(S=>S+1),[]),onToastRemove:v.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:w,children:u})})};Jy.displayName=Mf;var Xy="ToastViewport",JE=["F8"],qd="toast.viewportPause",Gd="toast.viewportResume",Zy=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:o=JE,label:i="Notifications ({hotkey})",...l}=e,u=zl(Xy,n),f=GE(n),h=v.useRef(null),m=v.useRef(null),g=v.useRef(null),x=v.useRef(null),w=ke(t,x,u.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=u.toastCount>0;v.useEffect(()=>{const _=E=>{o.length!==0&&o.every(R=>E[R]||E.code===R)&&x.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[o]),v.useEffect(()=>{const _=h.current,E=x.current;if(C&&_&&E){const N=()=>{if(!u.isClosePausedRef.current){const F=new CustomEvent(qd);E.dispatchEvent(F),u.isClosePausedRef.current=!0}},R=()=>{if(u.isClosePausedRef.current){const F=new CustomEvent(Gd);E.dispatchEvent(F),u.isClosePausedRef.current=!1}},O=F=>{!_.contains(F.relatedTarget)&&R()},M=()=>{_.contains(document.activeElement)||R()};return _.addEventListener("focusin",N),_.addEventListener("focusout",O),_.addEventListener("pointermove",N),_.addEventListener("pointerleave",M),window.addEventListener("blur",N),window.addEventListener("focus",R),()=>{_.removeEventListener("focusin",N),_.removeEventListener("focusout",O),_.removeEventListener("pointermove",N),_.removeEventListener("pointerleave",M),window.removeEventListener("blur",N),window.removeEventListener("focus",R)}}},[C,u.isClosePausedRef]);const b=v.useCallback(({tabbingDirection:_})=>{const N=f().map(R=>{const O=R.ref.current,M=[O,...uN(O)];return _==="forwards"?M:M.reverse()});return(_==="forwards"?N.reverse():N).flat()},[f]);return v.useEffect(()=>{const _=x.current;if(_){const E=N=>{const R=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!R){const M=document.activeElement,F=N.shiftKey;if(N.target===_&&F){m.current?.focus();return}const G=b({tabbingDirection:F?"backwards":"forwards"}),Z=G.findIndex(de=>de===M);yd(G.slice(Z+1))?N.preventDefault():F?m.current?.focus():g.current?.focus()}};return _.addEventListener("keydown",E),()=>_.removeEventListener("keydown",E)}},[f,b]),a.jsxs(UE,{ref:h,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&a.jsx(Qd,{ref:m,onFocusFromOutsideViewport:()=>{const _=b({tabbingDirection:"forwards"});yd(_)}}),a.jsx(Lf.Slot,{scope:n,children:a.jsx(le.ol,{tabIndex:-1,...l,ref:w})}),C&&a.jsx(Qd,{ref:g,onFocusFromOutsideViewport:()=>{const _=b({tabbingDirection:"backwards"});yd(_)}})]})});Zy.displayName=Xy;var ex="ToastFocusProxy",Qd=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:o,...i}=e,l=zl(ex,n);return a.jsx(Ii,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!l.viewport?.contains(f)&&o()}})});Qd.displayName=ex;var Bl="Toast",XE="toast.swipeStart",ZE="toast.swipeMove",eN="toast.swipeCancel",tN="toast.swipeEnd",tx=v.forwardRef((e,t)=>{const{forceMount:n,open:o,defaultOpen:i,onOpenChange:l,...u}=e,[f=!0,h]=tn({prop:o,defaultProp:i,onChange:l});return a.jsx(bt,{present:n||f,children:a.jsx(sN,{open:f,...u,ref:t,onClose:()=>h(!1),onPause:Ge(e.onPause),onResume:Ge(e.onResume),onSwipeStart:X(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,m=>{const{x:g,y:x}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:X(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,m=>{const{x:g,y:x}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),h(!1)})})})});tx.displayName=Bl;var[nN,rN]=Yy(Bl,{onClose(){}}),sN=v.forwardRef((e,t)=>{const{__scopeToast:n,type:o="foreground",duration:i,open:l,onClose:u,onEscapeKeyDown:f,onPause:h,onResume:m,onSwipeStart:g,onSwipeMove:x,onSwipeCancel:w,onSwipeEnd:S,...C}=e,b=zl(Bl,n),[_,E]=v.useState(null),N=ke(t,J=>E(J)),R=v.useRef(null),O=v.useRef(null),M=i||b.duration,F=v.useRef(0),$=v.useRef(M),W=v.useRef(0),{onToastAdd:G,onToastRemove:Z}=b,de=Ge(()=>{_?.contains(document.activeElement)&&b.viewport?.focus(),u()}),ee=v.useCallback(J=>{!J||J===1/0||(window.clearTimeout(W.current),F.current=new Date().getTime(),W.current=window.setTimeout(de,J))},[de]);v.useEffect(()=>{const J=b.viewport;if(J){const xe=()=>{ee($.current),m?.()},te=()=>{const ie=new Date().getTime()-F.current;$.current=$.current-ie,window.clearTimeout(W.current),h?.()};return J.addEventListener(qd,te),J.addEventListener(Gd,xe),()=>{J.removeEventListener(qd,te),J.removeEventListener(Gd,xe)}}},[b.viewport,M,h,m,ee]),v.useEffect(()=>{l&&!b.isClosePausedRef.current&&ee(M)},[l,M,b.isClosePausedRef,ee]),v.useEffect(()=>(G(),()=>Z()),[G,Z]);const pe=v.useMemo(()=>_?lx(_):null,[_]);return b.viewport?a.jsxs(a.Fragment,{children:[pe&&a.jsx(oN,{__scopeToast:n,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:pe}),a.jsx(nN,{scope:n,onClose:de,children:so.createPortal(a.jsx(Lf.ItemSlot,{scope:n,children:a.jsx(FE,{asChild:!0,onEscapeKeyDown:X(f,()=>{b.isFocusedToastEscapeKeyDownRef.current||de(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":b.swipeDirection,...C,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,J=>{J.key==="Escape"&&(f?.(J.nativeEvent),J.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,de()))}),onPointerDown:X(e.onPointerDown,J=>{J.button===0&&(R.current={x:J.clientX,y:J.clientY})}),onPointerMove:X(e.onPointerMove,J=>{if(!R.current)return;const xe=J.clientX-R.current.x,te=J.clientY-R.current.y,ie=!!O.current,U=["left","right"].includes(b.swipeDirection),z=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,q=U?z(0,xe):0,P=U?0:z(0,te),B=J.pointerType==="touch"?10:2,he={x:q,y:P},me={originalEvent:J,delta:he};ie?(O.current=he,Za(ZE,x,me,{discrete:!1})):iv(he,b.swipeDirection,B)?(O.current=he,Za(XE,g,me,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(xe)>B||Math.abs(te)>B)&&(R.current=null)}),onPointerUp:X(e.onPointerUp,J=>{const xe=O.current,te=J.target;if(te.hasPointerCapture(J.pointerId)&&te.releasePointerCapture(J.pointerId),O.current=null,R.current=null,xe){const ie=J.currentTarget,U={originalEvent:J,delta:xe};iv(xe,b.swipeDirection,b.swipeThreshold)?Za(tN,S,U,{discrete:!0}):Za(eN,w,U,{discrete:!0}),ie.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),oN=e=>{const{__scopeToast:t,children:n,...o}=e,i=zl(Bl,t),[l,u]=v.useState(!1),[f,h]=v.useState(!1);return lN(()=>u(!0)),v.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),f?null:a.jsx(Oi,{asChild:!0,children:a.jsx(Ii,{...o,children:l&&a.jsxs(a.Fragment,{children:[i.label," ",n]})})})},iN="ToastTitle",nx=v.forwardRef((e,t)=>{const{__scopeToast:n,...o}=e;return a.jsx(le.div,{...o,ref:t})});nx.displayName=iN;var aN="ToastDescription",rx=v.forwardRef((e,t)=>{const{__scopeToast:n,...o}=e;return a.jsx(le.div,{...o,ref:t})});rx.displayName=aN;var sx="ToastAction",ox=v.forwardRef((e,t)=>{const{altText:n,...o}=e;return n.trim()?a.jsx(ax,{altText:n,asChild:!0,children:a.jsx($f,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sx}\`. Expected non-empty \`string\`.`),null)});ox.displayName=sx;var ix="ToastClose",$f=v.forwardRef((e,t)=>{const{__scopeToast:n,...o}=e,i=rN(ix,n);return a.jsx(ax,{asChild:!0,children:a.jsx(le.button,{type:"button",...o,ref:t,onClick:X(e.onClick,i.onClose)})})});$f.displayName=ix;var ax=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:o,...i}=e;return a.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:t})});function lx(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),cN(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",l=o.dataset.radixToastAnnounceExclude==="";if(!i)if(l){const u=o.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...lx(o))}}),t}function Za(e,t,n,{discrete:o}){const i=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),o?Df(i,l):i.dispatchEvent(l)}var iv=(e,t,n=0)=>{const o=Math.abs(e.x),i=Math.abs(e.y),l=o>i;return t==="left"||t==="right"?l&&o>n:!l&&i>n};function lN(e=()=>{}){const t=Ge(e);nt(()=>{let n=0,o=0;return n=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(o)}},[t])}function cN(e){return e.nodeType===e.ELEMENT_NODE}function uN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var dN=Jy,cx=Zy,ux=tx,dx=nx,fx=rx,hx=ox,px=$f;const fN=dN,mx=v.forwardRef(({className:e,...t},n)=>a.jsx(cx,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mx.displayName=cx.displayName;const hN=Jr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gx=v.forwardRef(({className:e,variant:t,...n},o)=>a.jsx(ux,{ref:o,className:re(hN({variant:t}),e),...n}));gx.displayName=ux.displayName;const pN=v.forwardRef(({className:e,...t},n)=>a.jsx(hx,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));pN.displayName=hx.displayName;const vx=v.forwardRef(({className:e,...t},n)=>a.jsx(px,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(yy,{className:"h-4 w-4"})}));vx.displayName=px.displayName;const yx=v.forwardRef(({className:e,...t},n)=>a.jsx(dx,{ref:n,className:re("text-sm font-semibold",e),...t}));yx.displayName=dx.displayName;const xx=v.forwardRef(({className:e,...t},n)=>a.jsx(fx,{ref:n,className:re("text-sm opacity-90",e),...t}));xx.displayName=fx.displayName;function mN(){const{toasts:e}=NE();return a.jsxs(fN,{children:[e.map(function({id:t,title:n,description:o,action:i,...l}){return a.jsxs(gx,{...l,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(yx,{children:n}),o&&a.jsx(xx,{children:o})]}),i,a.jsx(vx,{})]},t)}),a.jsx(mx,{})]})}var gN=dy[" useId ".trim().toString()]||(()=>{}),vN=0;function Ut(e){const[t,n]=v.useState(gN());return nt(()=>{n(o=>o??String(vN++))},[e]),t?`radix-${t}`:""}const yN=["top","right","bottom","left"],wr=Math.min,$t=Math.max,bl=Math.round,el=Math.floor,Rn=e=>({x:e,y:e}),xN={left:"right",right:"left",bottom:"top",top:"bottom"},wN={start:"end",end:"start"};function Yd(e,t,n){return $t(e,wr(t,n))}function Wn(e,t){return typeof e=="function"?e(t):e}function Kn(e){return e.split("-")[0]}function io(e){return e.split("-")[1]}function Ff(e){return e==="x"?"y":"x"}function Uf(e){return e==="y"?"height":"width"}function br(e){return["top","bottom"].includes(Kn(e))?"y":"x"}function zf(e){return Ff(br(e))}function bN(e,t,n){n===void 0&&(n=!1);const o=io(e),i=zf(e),l=Uf(i);let u=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Sl(u)),[u,Sl(u)]}function SN(e){const t=Sl(e);return[Jd(e),t,Jd(t)]}function Jd(e){return e.replace(/start|end/g,t=>wN[t])}function _N(e,t,n){const o=["left","right"],i=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?l:u;default:return[]}}function jN(e,t,n,o){const i=io(e);let l=_N(Kn(e),n==="start",o);return i&&(l=l.map(u=>u+"-"+i),t&&(l=l.concat(l.map(Jd)))),l}function Sl(e){return e.replace(/left|right|bottom|top/g,t=>xN[t])}function CN(e){return{top:0,right:0,bottom:0,left:0,...e}}function wx(e){return typeof e!="number"?CN(e):{top:e,right:e,bottom:e,left:e}}function _l(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function av(e,t,n){let{reference:o,floating:i}=e;const l=br(t),u=zf(t),f=Uf(u),h=Kn(t),m=l==="y",g=o.x+o.width/2-i.width/2,x=o.y+o.height/2-i.height/2,w=o[f]/2-i[f]/2;let S;switch(h){case"top":S={x:g,y:o.y-i.height};break;case"bottom":S={x:g,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:x};break;case"left":S={x:o.x-i.width,y:x};break;default:S={x:o.x,y:o.y}}switch(io(t)){case"start":S[u]-=w*(n&&m?-1:1);break;case"end":S[u]+=w*(n&&m?-1:1);break}return S}const EN=async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:u}=n,f=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:x}=av(m,o,h),w=o,S={},C=0;for(let b=0;b<f.length;b++){const{name:_,fn:E}=f[b],{x:N,y:R,data:O,reset:M}=await E({x:g,y:x,initialPlacement:o,placement:w,strategy:i,middlewareData:S,rects:m,platform:u,elements:{reference:e,floating:t}});g=N??g,x=R??x,S={...S,[_]:{...S[_],...O}},M&&C<=50&&(C++,typeof M=="object"&&(M.placement&&(w=M.placement),M.rects&&(m=M.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:g,y:x}=av(m,w,h)),b=-1)}return{x:g,y:x,placement:w,strategy:i,middlewareData:S}};async function vi(e,t){var n;t===void 0&&(t={});const{x:o,y:i,platform:l,rects:u,elements:f,strategy:h}=e,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:w=!1,padding:S=0}=Wn(t,e),C=wx(S),_=f[w?x==="floating"?"reference":"floating":x],E=_l(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(_)))==null||n?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:g,strategy:h})),N=x==="floating"?{x:o,y:i,width:u.floating.width,height:u.floating.height}:u.reference,R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),O=await(l.isElement==null?void 0:l.isElement(R))?await(l.getScale==null?void 0:l.getScale(R))||{x:1,y:1}:{x:1,y:1},M=_l(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:N,offsetParent:R,strategy:h}):N);return{top:(E.top-M.top+C.top)/O.y,bottom:(M.bottom-E.bottom+C.bottom)/O.y,left:(E.left-M.left+C.left)/O.x,right:(M.right-E.right+C.right)/O.x}}const NN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:l,platform:u,elements:f,middlewareData:h}=t,{element:m,padding:g=0}=Wn(e,t)||{};if(m==null)return{};const x=wx(g),w={x:n,y:o},S=zf(i),C=Uf(S),b=await u.getDimensions(m),_=S==="y",E=_?"top":"left",N=_?"bottom":"right",R=_?"clientHeight":"clientWidth",O=l.reference[C]+l.reference[S]-w[S]-l.floating[C],M=w[S]-l.reference[S],F=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let $=F?F[R]:0;(!$||!await(u.isElement==null?void 0:u.isElement(F)))&&($=f.floating[R]||l.floating[C]);const W=O/2-M/2,G=$/2-b[C]/2-1,Z=wr(x[E],G),de=wr(x[N],G),ee=Z,pe=$-b[C]-de,J=$/2-b[C]/2+W,xe=Yd(ee,J,pe),te=!h.arrow&&io(i)!=null&&J!==xe&&l.reference[C]/2-(J<ee?Z:de)-b[C]/2<0,ie=te?J<ee?J-ee:J-pe:0;return{[S]:w[S]+ie,data:{[S]:xe,centerOffset:J-xe-ie,...te&&{alignmentOffset:ie}},reset:te}}}),kN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:l,rects:u,initialPlacement:f,platform:h,elements:m}=t,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:b=!0,..._}=Wn(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const E=Kn(i),N=br(f),R=Kn(f)===f,O=await(h.isRTL==null?void 0:h.isRTL(m.floating)),M=w||(R||!b?[Sl(f)]:SN(f)),F=C!=="none";!w&&F&&M.push(...jN(f,b,C,O));const $=[f,...M],W=await vi(t,_),G=[];let Z=((o=l.flip)==null?void 0:o.overflows)||[];if(g&&G.push(W[E]),x){const J=bN(i,u,O);G.push(W[J[0]],W[J[1]])}if(Z=[...Z,{placement:i,overflows:G}],!G.every(J=>J<=0)){var de,ee;const J=(((de=l.flip)==null?void 0:de.index)||0)+1,xe=$[J];if(xe)return{data:{index:J,overflows:Z},reset:{placement:xe}};let te=(ee=Z.filter(ie=>ie.overflows[0]<=0).sort((ie,U)=>ie.overflows[1]-U.overflows[1])[0])==null?void 0:ee.placement;if(!te)switch(S){case"bestFit":{var pe;const ie=(pe=Z.filter(U=>{if(F){const z=br(U.placement);return z===N||z==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((U,z)=>U[1]-z[1])[0])==null?void 0:pe[0];ie&&(te=ie);break}case"initialPlacement":te=f;break}if(i!==te)return{reset:{placement:te}}}return{}}}};function lv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cv(e){return yN.some(t=>e[t]>=0)}const RN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...i}=Wn(e,t);switch(o){case"referenceHidden":{const l=await vi(t,{...i,elementContext:"reference"}),u=lv(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:cv(u)}}}case"escaped":{const l=await vi(t,{...i,altBoundary:!0}),u=lv(l,n.floating);return{data:{escapedOffsets:u,escaped:cv(u)}}}default:return{}}}}};async function TN(e,t){const{placement:n,platform:o,elements:i}=e,l=await(o.isRTL==null?void 0:o.isRTL(i.floating)),u=Kn(n),f=io(n),h=br(n)==="y",m=["left","top"].includes(u)?-1:1,g=l&&h?-1:1,x=Wn(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:C}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),h?{x:S*g,y:w*m}:{x:w*m,y:S*g}}const PN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:l,placement:u,middlewareData:f}=t,h=await TN(t,e);return u===((n=f.offset)==null?void 0:n.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:u}}}}},AN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:_=>{let{x:E,y:N}=_;return{x:E,y:N}}},...h}=Wn(e,t),m={x:n,y:o},g=await vi(t,h),x=br(Kn(i)),w=Ff(x);let S=m[w],C=m[x];if(l){const _=w==="y"?"top":"left",E=w==="y"?"bottom":"right",N=S+g[_],R=S-g[E];S=Yd(N,S,R)}if(u){const _=x==="y"?"top":"left",E=x==="y"?"bottom":"right",N=C+g[_],R=C-g[E];C=Yd(N,C,R)}const b=f.fn({...t,[w]:S,[x]:C});return{...b,data:{x:b.x-n,y:b.y-o,enabled:{[w]:l,[x]:u}}}}}},ON=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:i,rects:l,middlewareData:u}=t,{offset:f=0,mainAxis:h=!0,crossAxis:m=!0}=Wn(e,t),g={x:n,y:o},x=br(i),w=Ff(x);let S=g[w],C=g[x];const b=Wn(f,t),_=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const R=w==="y"?"height":"width",O=l.reference[w]-l.floating[R]+_.mainAxis,M=l.reference[w]+l.reference[R]-_.mainAxis;S<O?S=O:S>M&&(S=M)}if(m){var E,N;const R=w==="y"?"width":"height",O=["top","left"].includes(Kn(i)),M=l.reference[x]-l.floating[R]+(O&&((E=u.offset)==null?void 0:E[x])||0)+(O?0:_.crossAxis),F=l.reference[x]+l.reference[R]+(O?0:((N=u.offset)==null?void 0:N[x])||0)-(O?_.crossAxis:0);C<M?C=M:C>F&&(C=F)}return{[w]:S,[x]:C}}}},IN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:i,rects:l,platform:u,elements:f}=t,{apply:h=()=>{},...m}=Wn(e,t),g=await vi(t,m),x=Kn(i),w=io(i),S=br(i)==="y",{width:C,height:b}=l.floating;let _,E;x==="top"||x==="bottom"?(_=x,E=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(E=x,_=w==="end"?"top":"bottom");const N=b-g.top-g.bottom,R=C-g.left-g.right,O=wr(b-g[_],N),M=wr(C-g[E],R),F=!t.middlewareData.shift;let $=O,W=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(W=R),(o=t.middlewareData.shift)!=null&&o.enabled.y&&($=N),F&&!w){const Z=$t(g.left,0),de=$t(g.right,0),ee=$t(g.top,0),pe=$t(g.bottom,0);S?W=C-2*(Z!==0||de!==0?Z+de:$t(g.left,g.right)):$=b-2*(ee!==0||pe!==0?ee+pe:$t(g.top,g.bottom))}await h({...t,availableWidth:W,availableHeight:$});const G=await u.getDimensions(f.floating);return C!==G.width||b!==G.height?{reset:{rects:!0}}:{}}}};function Vl(){return typeof window<"u"}function ao(e){return bx(e)?(e.nodeName||"").toLowerCase():"#document"}function zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pn(e){var t;return(t=(bx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bx(e){return Vl()?e instanceof Node||e instanceof zt(e).Node:!1}function yn(e){return Vl()?e instanceof Element||e instanceof zt(e).Element:!1}function Tn(e){return Vl()?e instanceof HTMLElement||e instanceof zt(e).HTMLElement:!1}function uv(e){return!Vl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zt(e).ShadowRoot}function Di(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function DN(e){return["table","td","th"].includes(ao(e))}function Hl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Bf(e){const t=Vf(),n=yn(e)?xn(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function MN(e){let t=Sr(e);for(;Tn(t)&&!eo(t);){if(Bf(t))return t;if(Hl(t))return null;t=Sr(t)}return null}function Vf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function eo(e){return["html","body","#document"].includes(ao(e))}function xn(e){return zt(e).getComputedStyle(e)}function Wl(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sr(e){if(ao(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uv(e)&&e.host||Pn(e);return uv(t)?t.host:t}function Sx(e){const t=Sr(e);return eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tn(t)&&Di(t)?t:Sx(t)}function yi(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Sx(e),l=i===((o=e.ownerDocument)==null?void 0:o.body),u=zt(i);if(l){const f=Xd(u);return t.concat(u,u.visualViewport||[],Di(i)?i:[],f&&n?yi(f):[])}return t.concat(i,yi(i,[],n))}function Xd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _x(e){const t=xn(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=Tn(e),l=i?e.offsetWidth:n,u=i?e.offsetHeight:o,f=bl(n)!==l||bl(o)!==u;return f&&(n=l,o=u),{width:n,height:o,$:f}}function Hf(e){return yn(e)?e:e.contextElement}function Gs(e){const t=Hf(e);if(!Tn(t))return Rn(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:l}=_x(t);let u=(l?bl(n.width):n.width)/o,f=(l?bl(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const LN=Rn(0);function jx(e){const t=zt(e);return!Vf()||!t.visualViewport?LN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $N(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zt(e)?!1:t}function Gr(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),l=Hf(e);let u=Rn(1);t&&(o?yn(o)&&(u=Gs(o)):u=Gs(e));const f=$N(l,n,o)?jx(l):Rn(0);let h=(i.left+f.x)/u.x,m=(i.top+f.y)/u.y,g=i.width/u.x,x=i.height/u.y;if(l){const w=zt(l),S=o&&yn(o)?zt(o):o;let C=w,b=Xd(C);for(;b&&o&&S!==C;){const _=Gs(b),E=b.getBoundingClientRect(),N=xn(b),R=E.left+(b.clientLeft+parseFloat(N.paddingLeft))*_.x,O=E.top+(b.clientTop+parseFloat(N.paddingTop))*_.y;h*=_.x,m*=_.y,g*=_.x,x*=_.y,h+=R,m+=O,C=zt(b),b=Xd(C)}}return _l({width:g,height:x,x:h,y:m})}function Wf(e,t){const n=Wl(e).scrollLeft;return t?t.left+n:Gr(Pn(e)).left+n}function Cx(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=o.left+t.scrollLeft-(n?0:Wf(e,o)),l=o.top+t.scrollTop;return{x:i,y:l}}function FN(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const l=i==="fixed",u=Pn(o),f=t?Hl(t.floating):!1;if(o===u||f&&l)return n;let h={scrollLeft:0,scrollTop:0},m=Rn(1);const g=Rn(0),x=Tn(o);if((x||!x&&!l)&&((ao(o)!=="body"||Di(u))&&(h=Wl(o)),Tn(o))){const S=Gr(o);m=Gs(o),g.x=S.x+o.clientLeft,g.y=S.y+o.clientTop}const w=u&&!x&&!l?Cx(u,h,!0):Rn(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+g.x+w.x,y:n.y*m.y-h.scrollTop*m.y+g.y+w.y}}function UN(e){return Array.from(e.getClientRects())}function zN(e){const t=Pn(e),n=Wl(e),o=e.ownerDocument.body,i=$t(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=$t(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+Wf(e);const f=-n.scrollTop;return xn(o).direction==="rtl"&&(u+=$t(t.clientWidth,o.clientWidth)-i),{width:i,height:l,x:u,y:f}}function BN(e,t){const n=zt(e),o=Pn(e),i=n.visualViewport;let l=o.clientWidth,u=o.clientHeight,f=0,h=0;if(i){l=i.width,u=i.height;const m=Vf();(!m||m&&t==="fixed")&&(f=i.offsetLeft,h=i.offsetTop)}return{width:l,height:u,x:f,y:h}}function VN(e,t){const n=Gr(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,l=Tn(e)?Gs(e):Rn(1),u=e.clientWidth*l.x,f=e.clientHeight*l.y,h=i*l.x,m=o*l.y;return{width:u,height:f,x:h,y:m}}function dv(e,t,n){let o;if(t==="viewport")o=BN(e,n);else if(t==="document")o=zN(Pn(e));else if(yn(t))o=VN(t,n);else{const i=jx(e);o={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return _l(o)}function Ex(e,t){const n=Sr(e);return n===t||!yn(n)||eo(n)?!1:xn(n).position==="fixed"||Ex(n,t)}function HN(e,t){const n=t.get(e);if(n)return n;let o=yi(e,[],!1).filter(f=>yn(f)&&ao(f)!=="body"),i=null;const l=xn(e).position==="fixed";let u=l?Sr(e):e;for(;yn(u)&&!eo(u);){const f=xn(u),h=Bf(u);!h&&f.position==="fixed"&&(i=null),(l?!h&&!i:!h&&f.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Di(u)&&!h&&Ex(e,u))?o=o.filter(g=>g!==u):i=f,u=Sr(u)}return t.set(e,o),o}function WN(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const u=[...n==="clippingAncestors"?Hl(t)?[]:HN(t,this._c):[].concat(n),o],f=u[0],h=u.reduce((m,g)=>{const x=dv(t,g,i);return m.top=$t(x.top,m.top),m.right=wr(x.right,m.right),m.bottom=wr(x.bottom,m.bottom),m.left=$t(x.left,m.left),m},dv(t,f,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function KN(e){const{width:t,height:n}=_x(e);return{width:t,height:n}}function qN(e,t,n){const o=Tn(t),i=Pn(t),l=n==="fixed",u=Gr(e,!0,l,t);let f={scrollLeft:0,scrollTop:0};const h=Rn(0);if(o||!o&&!l)if((ao(t)!=="body"||Di(i))&&(f=Wl(t)),o){const w=Gr(t,!0,l,t);h.x=w.x+t.clientLeft,h.y=w.y+t.clientTop}else i&&(h.x=Wf(i));const m=i&&!o&&!l?Cx(i,f):Rn(0),g=u.left+f.scrollLeft-h.x-m.x,x=u.top+f.scrollTop-h.y-m.y;return{x:g,y:x,width:u.width,height:u.height}}function xd(e){return xn(e).position==="static"}function fv(e,t){if(!Tn(e)||xn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pn(e)===n&&(n=n.ownerDocument.body),n}function Nx(e,t){const n=zt(e);if(Hl(e))return n;if(!Tn(e)){let i=Sr(e);for(;i&&!eo(i);){if(yn(i)&&!xd(i))return i;i=Sr(i)}return n}let o=fv(e,t);for(;o&&DN(o)&&xd(o);)o=fv(o,t);return o&&eo(o)&&xd(o)&&!Bf(o)?n:o||MN(e)||n}const GN=async function(e){const t=this.getOffsetParent||Nx,n=this.getDimensions,o=await n(e.floating);return{reference:qN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function QN(e){return xn(e).direction==="rtl"}const YN={convertOffsetParentRelativeRectToViewportRelativeRect:FN,getDocumentElement:Pn,getClippingRect:WN,getOffsetParent:Nx,getElementRects:GN,getClientRects:UN,getDimensions:KN,getScale:Gs,isElement:yn,isRTL:QN};function kx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function JN(e,t){let n=null,o;const i=Pn(e);function l(){var f;clearTimeout(o),(f=n)==null||f.disconnect(),n=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const m=e.getBoundingClientRect(),{left:g,top:x,width:w,height:S}=m;if(f||t(),!w||!S)return;const C=el(x),b=el(i.clientWidth-(g+w)),_=el(i.clientHeight-(x+S)),E=el(g),R={rootMargin:-C+"px "+-b+"px "+-_+"px "+-E+"px",threshold:$t(0,wr(1,h))||1};let O=!0;function M(F){const $=F[0].intersectionRatio;if($!==h){if(!O)return u();$?u(!1,$):o=setTimeout(()=>{u(!1,1e-7)},1e3)}$===1&&!kx(m,e.getBoundingClientRect())&&u(),O=!1}try{n=new IntersectionObserver(M,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,R)}n.observe(e)}return u(!0),l}function XN(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,m=Hf(e),g=i||l?[...m?yi(m):[],...yi(t)]:[];g.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),l&&E.addEventListener("resize",n)});const x=m&&f?JN(m,n):null;let w=-1,S=null;u&&(S=new ResizeObserver(E=>{let[N]=E;N&&N.target===m&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var R;(R=S)==null||R.observe(t)})),n()}),m&&!h&&S.observe(m),S.observe(t));let C,b=h?Gr(e):null;h&&_();function _(){const E=Gr(e);b&&!kx(b,E)&&n(),b=E,C=requestAnimationFrame(_)}return n(),()=>{var E;g.forEach(N=>{i&&N.removeEventListener("scroll",n),l&&N.removeEventListener("resize",n)}),x?.(),(E=S)==null||E.disconnect(),S=null,h&&cancelAnimationFrame(C)}}const ZN=PN,ek=AN,tk=kN,nk=IN,rk=RN,hv=NN,sk=ON,ok=(e,t,n)=>{const o=new Map,i={platform:YN,...n},l={...i.platform,_c:o};return EN(e,t,{...i,platform:l})};var pl=typeof document<"u"?v.useLayoutEffect:v.useEffect;function jl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!jl(e[o],t[o]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,i[o]))return!1;for(o=n;o--!==0;){const l=i[o];if(!(l==="_owner"&&e.$$typeof)&&!jl(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function Rx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pv(e,t){const n=Rx(e);return Math.round(t*n)/n}function wd(e){const t=v.useRef(e);return pl(()=>{t.current=e}),t}function ik(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:h,open:m}=e,[g,x]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=v.useState(o);jl(w,o)||S(o);const[C,b]=v.useState(null),[_,E]=v.useState(null),N=v.useCallback(U=>{U!==F.current&&(F.current=U,b(U))},[]),R=v.useCallback(U=>{U!==$.current&&($.current=U,E(U))},[]),O=l||C,M=u||_,F=v.useRef(null),$=v.useRef(null),W=v.useRef(g),G=h!=null,Z=wd(h),de=wd(i),ee=wd(m),pe=v.useCallback(()=>{if(!F.current||!$.current)return;const U={placement:t,strategy:n,middleware:w};de.current&&(U.platform=de.current),ok(F.current,$.current,U).then(z=>{const q={...z,isPositioned:ee.current!==!1};J.current&&!jl(W.current,q)&&(W.current=q,so.flushSync(()=>{x(q)}))})},[w,t,n,de,ee]);pl(()=>{m===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,x(U=>({...U,isPositioned:!1})))},[m]);const J=v.useRef(!1);pl(()=>(J.current=!0,()=>{J.current=!1}),[]),pl(()=>{if(O&&(F.current=O),M&&($.current=M),O&&M){if(Z.current)return Z.current(O,M,pe);pe()}},[O,M,pe,Z,G]);const xe=v.useMemo(()=>({reference:F,floating:$,setReference:N,setFloating:R}),[N,R]),te=v.useMemo(()=>({reference:O,floating:M}),[O,M]),ie=v.useMemo(()=>{const U={position:n,left:0,top:0};if(!te.floating)return U;const z=pv(te.floating,g.x),q=pv(te.floating,g.y);return f?{...U,transform:"translate("+z+"px, "+q+"px)",...Rx(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:q}},[n,f,te.floating,g.x,g.y]);return v.useMemo(()=>({...g,update:pe,refs:xe,elements:te,floatingStyles:ie}),[g,pe,xe,te,ie])}const ak=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:i}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?hv({element:o.current,padding:i}).fn(n):{}:o?hv({element:o,padding:i}).fn(n):{}}}},lk=(e,t)=>({...ZN(e),options:[e,t]}),ck=(e,t)=>({...ek(e),options:[e,t]}),uk=(e,t)=>({...sk(e),options:[e,t]}),dk=(e,t)=>({...tk(e),options:[e,t]}),fk=(e,t)=>({...nk(e),options:[e,t]}),hk=(e,t)=>({...rk(e),options:[e,t]}),pk=(e,t)=>({...ak(e),options:[e,t]});var mk="Arrow",Tx=v.forwardRef((e,t)=>{const{children:n,width:o=10,height:i=5,...l}=e;return a.jsx(le.svg,{...l,ref:t,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Tx.displayName=mk;var gk=Tx;function Px(e){const[t,n]=v.useState(void 0);return nt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,f;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,f=m.blockSize}else u=e.offsetWidth,f=e.offsetHeight;n({width:u,height:f})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var Kf="Popper",[Ax,lo]=jt(Kf),[vk,Ox]=Ax(Kf),Ix=e=>{const{__scopePopper:t,children:n}=e,[o,i]=v.useState(null);return a.jsx(vk,{scope:t,anchor:o,onAnchorChange:i,children:n})};Ix.displayName=Kf;var Dx="PopperAnchor",Mx=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...i}=e,l=Ox(Dx,n),u=v.useRef(null),f=ke(t,u);return v.useEffect(()=>{l.onAnchorChange(o?.current||u.current)}),o?null:a.jsx(le.div,{...i,ref:f})});Mx.displayName=Dx;var qf="PopperContent",[yk,xk]=Ax(qf),Lx=v.forwardRef((e,t)=>{const{__scopePopper:n,side:o="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:C,...b}=e,_=Ox(qf,n),[E,N]=v.useState(null),R=ke(t,Y=>N(Y)),[O,M]=v.useState(null),F=Px(O),$=F?.width??0,W=F?.height??0,G=o+(l!=="center"?"-"+l:""),Z=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},de=Array.isArray(m)?m:[m],ee=de.length>0,pe={padding:Z,boundary:de.filter(bk),altBoundary:ee},{refs:J,floatingStyles:xe,placement:te,isPositioned:ie,middlewareData:U}=ik({strategy:"fixed",placement:G,whileElementsMounted:(...Y)=>XN(...Y,{animationFrame:S==="always"}),elements:{reference:_.anchor},middleware:[lk({mainAxis:i+W,alignmentAxis:u}),h&&ck({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?uk():void 0,...pe}),h&&dk({...pe}),fk({...pe,apply:({elements:Y,rects:fe,availableWidth:Ne,availableHeight:Re})=>{const{width:$e,height:Qe}=fe.reference,dt=Y.floating.style;dt.setProperty("--radix-popper-available-width",`${Ne}px`),dt.setProperty("--radix-popper-available-height",`${Re}px`),dt.setProperty("--radix-popper-anchor-width",`${$e}px`),dt.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),O&&pk({element:O,padding:f}),Sk({arrowWidth:$,arrowHeight:W}),w&&hk({strategy:"referenceHidden",...pe})]}),[z,q]=Ux(te),P=Ge(C);nt(()=>{ie&&P?.()},[ie,P]);const B=U.arrow?.x,he=U.arrow?.y,me=U.arrow?.centerOffset!==0,[Ce,je]=v.useState();return nt(()=>{E&&je(window.getComputedStyle(E).zIndex)},[E]),a.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:ie?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(yk,{scope:n,placedSide:z,onArrowChange:M,arrowX:B,arrowY:he,shouldHideArrow:me,children:a.jsx(le.div,{"data-side":z,"data-align":q,...b,ref:R,style:{...b.style,animation:ie?void 0:"none"}})})})});Lx.displayName=qf;var $x="PopperArrow",wk={top:"bottom",right:"left",bottom:"top",left:"right"},Fx=v.forwardRef(function(t,n){const{__scopePopper:o,...i}=t,l=xk($x,o),u=wk[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(gk,{...i,ref:n,style:{...i.style,display:"block"}})})});Fx.displayName=$x;function bk(e){return e!==null}var Sk=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:o,middlewareData:i}=t,u=i.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[m,g]=Ux(n),x={start:"0%",center:"50%",end:"100%"}[g],w=(i.arrow?.x??0)+f/2,S=(i.arrow?.y??0)+h/2;let C="",b="";return m==="bottom"?(C=u?x:`${w}px`,b=`${-h}px`):m==="top"?(C=u?x:`${w}px`,b=`${o.floating.height+h}px`):m==="right"?(C=`${-h}px`,b=u?x:`${S}px`):m==="left"&&(C=`${o.floating.width+h}px`,b=u?x:`${S}px`),{data:{x:C,y:b}}}});function Ux(e){const[t,n="center"]=e.split("-");return[t,n]}var Gf=Ix,Qf=Mx,Yf=Lx,Jf=Fx,[Kl]=jt("Tooltip",[lo]),ql=lo(),zx="TooltipProvider",_k=700,Zd="tooltip.open",[jk,Xf]=Kl(zx),Bx=e=>{const{__scopeTooltip:t,delayDuration:n=_k,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:l}=e,u=v.useRef(!0),f=v.useRef(!1),h=v.useRef(0);return v.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),a.jsx(jk,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,o)},[o]),isPointerInTransitRef:f,onPointerInTransitChange:v.useCallback(m=>{f.current=m},[]),disableHoverableContent:i,children:l})};Bx.displayName=zx;var Gl="Tooltip",[Ck,Ql]=Kl(Gl),Vx=e=>{const{__scopeTooltip:t,children:n,open:o,defaultOpen:i=!1,onOpenChange:l,disableHoverableContent:u,delayDuration:f}=e,h=Xf(Gl,e.__scopeTooltip),m=ql(t),[g,x]=v.useState(null),w=Ut(),S=v.useRef(0),C=u??h.disableHoverableContent,b=f??h.delayDuration,_=v.useRef(!1),[E=!1,N]=tn({prop:o,defaultProp:i,onChange:$=>{$?(h.onOpen(),document.dispatchEvent(new CustomEvent(Zd))):h.onClose(),l?.($)}}),R=v.useMemo(()=>E?_.current?"delayed-open":"instant-open":"closed",[E]),O=v.useCallback(()=>{window.clearTimeout(S.current),S.current=0,_.current=!1,N(!0)},[N]),M=v.useCallback(()=>{window.clearTimeout(S.current),S.current=0,N(!1)},[N]),F=v.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{_.current=!0,N(!0),S.current=0},b)},[b,N]);return v.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),a.jsx(Gf,{...m,children:a.jsx(Ck,{scope:t,contentId:w,open:E,stateAttribute:R,trigger:g,onTriggerChange:x,onTriggerEnter:v.useCallback(()=>{h.isOpenDelayedRef.current?F():O()},[h.isOpenDelayedRef,F,O]),onTriggerLeave:v.useCallback(()=>{C?M():(window.clearTimeout(S.current),S.current=0)},[M,C]),onOpen:O,onClose:M,disableHoverableContent:C,children:n})})};Vx.displayName=Gl;var ef="TooltipTrigger",Hx=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,i=Ql(ef,n),l=Xf(ef,n),u=ql(n),f=v.useRef(null),h=ke(t,f,i.onTriggerChange),m=v.useRef(!1),g=v.useRef(!1),x=v.useCallback(()=>m.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),a.jsx(Qf,{asChild:!0,...u,children:a.jsx(le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:h,onPointerMove:X(e.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:X(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:X(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:X(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:X(e.onBlur,i.onClose),onClick:X(e.onClick,i.onClose)})})});Hx.displayName=ef;var Ek="TooltipPortal",[CD,Nk]=Kl(Ek,{forceMount:void 0}),to="TooltipContent",Wx=v.forwardRef((e,t)=>{const n=Nk(to,e.__scopeTooltip),{forceMount:o=n.forceMount,side:i="top",...l}=e,u=Ql(to,e.__scopeTooltip);return a.jsx(bt,{present:o||u.open,children:u.disableHoverableContent?a.jsx(Kx,{side:i,...l,ref:t}):a.jsx(kk,{side:i,...l,ref:t})})}),kk=v.forwardRef((e,t)=>{const n=Ql(to,e.__scopeTooltip),o=Xf(to,e.__scopeTooltip),i=v.useRef(null),l=ke(t,i),[u,f]=v.useState(null),{trigger:h,onClose:m}=n,g=i.current,{onPointerInTransitChange:x}=o,w=v.useCallback(()=>{f(null),x(!1)},[x]),S=v.useCallback((C,b)=>{const _=C.currentTarget,E={x:C.clientX,y:C.clientY},N=Ok(E,_.getBoundingClientRect()),R=Ik(E,N),O=Dk(b.getBoundingClientRect()),M=Lk([...R,...O]);f(M),x(!0)},[x]);return v.useEffect(()=>()=>w(),[w]),v.useEffect(()=>{if(h&&g){const C=_=>S(_,g),b=_=>S(_,h);return h.addEventListener("pointerleave",C),g.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",C),g.removeEventListener("pointerleave",b)}}},[h,g,S,w]),v.useEffect(()=>{if(u){const C=b=>{const _=b.target,E={x:b.clientX,y:b.clientY},N=h?.contains(_)||g?.contains(_),R=!Mk(E,u);N?w():R&&(w(),m())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[h,g,u,m,w]),a.jsx(Kx,{...e,ref:l})}),[Rk,Tk]=Kl(Gl,{isInside:!1}),Pk=Oj("TooltipContent"),Kx=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:o,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:u,...f}=e,h=Ql(to,n),m=ql(n),{onClose:g}=h;return v.useEffect(()=>(document.addEventListener(Zd,g),()=>document.removeEventListener(Zd,g)),[g]),v.useEffect(()=>{if(h.trigger){const x=w=>{w.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[h.trigger,g]),a.jsx(oo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:x=>x.preventDefault(),onDismiss:g,children:a.jsxs(Yf,{"data-state":h.stateAttribute,...m,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Pk,{children:o}),a.jsx(Rk,{scope:n,isInside:!0,children:a.jsx(qE,{id:h.contentId,role:"tooltip",children:i||o})})]})})});Wx.displayName=to;var qx="TooltipArrow",Ak=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,i=ql(n);return Tk(qx,n).isInside?null:a.jsx(Jf,{...i,...o,ref:t})});Ak.displayName=qx;function Ok(e,t){const n=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,o,i,l)){case l:return"left";case i:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Ik(e,t,n=5){const o=[];switch(t){case"top":o.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":o.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":o.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":o.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return o}function Dk(e){const{top:t,right:n,bottom:o,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:o},{x:i,y:o}]}function Mk(e,t){const{x:n,y:o}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const f=t[l].x,h=t[l].y,m=t[u].x,g=t[u].y;h>o!=g>o&&n<(m-f)*(o-h)/(g-h)+f&&(i=!i)}return i}function Lk(e){const t=e.slice();return t.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),$k(t)}function $k(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const i=e[o];for(;t.length>=2;){const l=t[t.length-1],u=t[t.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let o=e.length-1;o>=0;o--){const i=e[o];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(i.y-u.y)>=(l.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Fk=Bx,Uk=Vx,zk=Hx,Gx=Wx;const Qx=Fk,Bk=Uk,Vk=zk,Yx=v.forwardRef(({className:e,sideOffset:t=4,...n},o)=>a.jsx(Gx,{ref:o,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));Yx.displayName=Gx.displayName;const bd=768;function Hk(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const n=window.matchMedia(`(max-width: ${bd-1}px)`),o=()=>{t(window.innerWidth<bd)};return n.addEventListener("change",o),t(window.innerWidth<bd),()=>n.removeEventListener("change",o)},[]),!!e}const qn=v.forwardRef(({className:e,type:t,...n},o)=>a.jsx("input",{type:t,className:re("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...n}));qn.displayName="Input";var Wk="Separator",mv="horizontal",Kk=["horizontal","vertical"],Jx=v.forwardRef((e,t)=>{const{decorative:n,orientation:o=mv,...i}=e,l=qk(o)?o:mv,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return a.jsx(le.div,{"data-orientation":l,...f,...i,ref:t})});Jx.displayName=Wk;function qk(e){return Kk.includes(e)}var Xx=Jx;const tf=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...o},i)=>a.jsx(Xx,{ref:i,decorative:n,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));tf.displayName=Xx.displayName;var Sd="focusScope.autoFocusOnMount",_d="focusScope.autoFocusOnUnmount",gv={bubbles:!1,cancelable:!0},Gk="FocusScope",Yl=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=e,[f,h]=v.useState(null),m=Ge(i),g=Ge(l),x=v.useRef(null),w=ke(t,b=>h(b)),S=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(o){let b=function(R){if(S.paused||!f)return;const O=R.target;f.contains(O)?x.current=O:vr(x.current,{select:!0})},_=function(R){if(S.paused||!f)return;const O=R.relatedTarget;O!==null&&(f.contains(O)||vr(x.current,{select:!0}))},E=function(R){if(document.activeElement===document.body)for(const M of R)M.removedNodes.length>0&&vr(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",_);const N=new MutationObserver(E);return f&&N.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",_),N.disconnect()}}},[o,f,S.paused]),v.useEffect(()=>{if(f){yv.add(S);const b=document.activeElement;if(!f.contains(b)){const E=new CustomEvent(Sd,gv);f.addEventListener(Sd,m),f.dispatchEvent(E),E.defaultPrevented||(Qk(eR(Zx(f)),{select:!0}),document.activeElement===b&&vr(f))}return()=>{f.removeEventListener(Sd,m),setTimeout(()=>{const E=new CustomEvent(_d,gv);f.addEventListener(_d,g),f.dispatchEvent(E),E.defaultPrevented||vr(b??document.body,{select:!0}),f.removeEventListener(_d,g),yv.remove(S)},0)}}},[f,m,g,S]);const C=v.useCallback(b=>{if(!n&&!o||S.paused)return;const _=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,E=document.activeElement;if(_&&E){const N=b.currentTarget,[R,O]=Yk(N);R&&O?!b.shiftKey&&E===O?(b.preventDefault(),n&&vr(R,{select:!0})):b.shiftKey&&E===R&&(b.preventDefault(),n&&vr(O,{select:!0})):E===N&&b.preventDefault()}},[n,o,S.paused]);return a.jsx(le.div,{tabIndex:-1,...u,ref:w,onKeyDown:C})});Yl.displayName=Gk;function Qk(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(vr(o,{select:t}),document.activeElement!==n)return}function Yk(e){const t=Zx(e),n=vv(t,e),o=vv(t.reverse(),e);return[n,o]}function Zx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vv(e,t){for(const n of e)if(!Jk(n,{upTo:t}))return n}function Jk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xk(e){return e instanceof HTMLInputElement&&"select"in e}function vr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Xk(e)&&t&&e.select()}}var yv=Zk();function Zk(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=xv(e,t),e.unshift(t)},remove(t){e=xv(e,t),e[0]?.resume()}}}function xv(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function eR(e){return e.filter(t=>t.tagName!=="A")}var jd=0;function Zf(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wv()),document.body.insertAdjacentElement("beforeend",e[1]??wv()),jd++,()=>{jd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jd--}},[])}function wv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nn=function(){return Nn=Object.assign||function(t){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Nn.apply(this,arguments)};function co(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}function tR(e,t,n,o){function i(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(g){try{m(o.next(g))}catch(x){u(x)}}function h(g){try{m(o.throw(g))}catch(x){u(x)}}function m(g){g.done?l(g.value):i(g.value).then(f,h)}m((o=o.apply(e,t||[])).next())})}function nR(e,t,n){if(n||arguments.length===2)for(var o=0,i=t.length,l;o<i;o++)(l||!(o in t))&&(l||(l=Array.prototype.slice.call(t,0,o)),l[o]=t[o]);return e.concat(l||Array.prototype.slice.call(t))}var ml="right-scroll-bar-position",gl="width-before-scroll-bar",rR="with-scroll-bars-hidden",sR="--removed-body-scroll-bar-size";function Cd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oR(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var i=n.value;i!==o&&(n.value=o,n.callback(o,i))}}}})[0];return n.callback=t,n.facade}var iR=typeof window<"u"?v.useLayoutEffect:v.useEffect,bv=new WeakMap;function aR(e,t){var n=oR(null,function(o){return e.forEach(function(i){return Cd(i,o)})});return iR(function(){var o=bv.get(n);if(o){var i=new Set(o),l=new Set(e),u=n.current;i.forEach(function(f){l.has(f)||Cd(f,null)}),l.forEach(function(f){i.has(f)||Cd(f,u)})}bv.set(n,e)},[e]),n}function lR(e){return e}function cR(e,t){t===void 0&&(t=lR);var n=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var u=t(l,o);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(o=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){o=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(l),u=n}var h=function(){var g=u;u=[],g.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),n}}}};return i}function uR(e){e===void 0&&(e={});var t=cR(null);return t.options=Nn({async:!0,ssr:!1},e),t}var ew=function(e){var t=e.sideCar,n=co(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return v.createElement(o,Nn({},n))};ew.isSideCarExport=!0;function dR(e,t){return e.useMedium(t),ew}var tw=uR(),Ed=function(){},Jl=v.forwardRef(function(e,t){var n=v.useRef(null),o=v.useState({onScrollCapture:Ed,onWheelCapture:Ed,onTouchMoveCapture:Ed}),i=o[0],l=o[1],u=e.forwardProps,f=e.children,h=e.className,m=e.removeScrollBar,g=e.enabled,x=e.shards,w=e.sideCar,S=e.noIsolation,C=e.inert,b=e.allowPinchZoom,_=e.as,E=_===void 0?"div":_,N=e.gapMode,R=co(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=w,M=aR([n,t]),F=Nn(Nn({},R),i);return v.createElement(v.Fragment,null,g&&v.createElement(O,{sideCar:tw,removeScrollBar:m,shards:x,noIsolation:S,inert:C,setCallbacks:l,allowPinchZoom:!!b,lockRef:n,gapMode:N}),u?v.cloneElement(v.Children.only(f),Nn(Nn({},F),{ref:M})):v.createElement(E,Nn({},F,{className:h,ref:M}),f))});Jl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jl.classNames={fullWidth:gl,zeroRight:ml};var fR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fR();return t&&e.setAttribute("nonce",t),e}function pR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=hR())&&(pR(t,n),mR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vR=function(){var e=gR();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},nw=function(){var e=vR(),t=function(n){var o=n.styles,i=n.dynamic;return e(o,i),null};return t},yR={left:0,top:0,right:0,gap:0},Nd=function(e){return parseInt(e||"",10)||0},xR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Nd(n),Nd(o),Nd(i)]},wR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yR;var t=xR(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},bR=nw(),Qs="data-scroll-locked",SR=function(e,t,n,o){var i=e.left,l=e.top,u=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(rR,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(Qs,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ml,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(gl,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(ml," .").concat(ml,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(gl," .").concat(gl,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Qs,`] {
    `).concat(sR,": ").concat(f,`px;
  }
`)},Sv=function(){var e=parseInt(document.body.getAttribute(Qs)||"0",10);return isFinite(e)?e:0},_R=function(){v.useEffect(function(){return document.body.setAttribute(Qs,(Sv()+1).toString()),function(){var e=Sv()-1;e<=0?document.body.removeAttribute(Qs):document.body.setAttribute(Qs,e.toString())}},[])},jR=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,i=o===void 0?"margin":o;_R();var l=v.useMemo(function(){return wR(i)},[i]);return v.createElement(bR,{styles:SR(l,!t,i,n?"":"!important")})},nf=!1;if(typeof window<"u")try{var tl=Object.defineProperty({},"passive",{get:function(){return nf=!0,!0}});window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{nf=!1}var Rs=nf?{passive:!1}:!1,CR=function(e){return e.tagName==="TEXTAREA"},rw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!CR(e)&&n[t]==="visible")},ER=function(e){return rw(e,"overflowY")},NR=function(e){return rw(e,"overflowX")},_v=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=sw(e,o);if(i){var l=ow(e,o),u=l[1],f=l[2];if(u>f)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},kR=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},RR=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},sw=function(e,t){return e==="v"?ER(t):NR(t)},ow=function(e,t){return e==="v"?kR(t):RR(t)},TR=function(e,t){return e==="h"&&t==="rtl"?-1:1},PR=function(e,t,n,o,i){var l=TR(e,window.getComputedStyle(t).direction),u=l*o,f=n.target,h=t.contains(f),m=!1,g=u>0,x=0,w=0;do{var S=ow(e,f),C=S[0],b=S[1],_=S[2],E=b-_-l*C;(C||E)&&sw(e,f)&&(x+=E,w+=C),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(g&&Math.abs(x)<1||!g&&Math.abs(w)<1)&&(m=!0),m},nl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jv=function(e){return[e.deltaX,e.deltaY]},Cv=function(e){return e&&"current"in e?e.current:e},AR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},OR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IR=0,Ts=[];function DR(e){var t=v.useRef([]),n=v.useRef([0,0]),o=v.useRef(),i=v.useState(IR++)[0],l=v.useState(nw)[0],u=v.useRef(e);v.useEffect(function(){u.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=nR([e.lockRef.current],(e.shards||[]).map(Cv),!0).filter(Boolean);return b.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var f=v.useCallback(function(b,_){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var E=nl(b),N=n.current,R="deltaX"in b?b.deltaX:N[0]-E[0],O="deltaY"in b?b.deltaY:N[1]-E[1],M,F=b.target,$=Math.abs(R)>Math.abs(O)?"h":"v";if("touches"in b&&$==="h"&&F.type==="range")return!1;var W=_v($,F);if(!W)return!0;if(W?M=$:(M=$==="v"?"h":"v",W=_v($,F)),!W)return!1;if(!o.current&&"changedTouches"in b&&(R||O)&&(o.current=M),!M)return!0;var G=o.current||M;return PR(G,_,b,G==="h"?R:O)},[]),h=v.useCallback(function(b){var _=b;if(!(!Ts.length||Ts[Ts.length-1]!==l)){var E="deltaY"in _?jv(_):nl(_),N=t.current.filter(function(M){return M.name===_.type&&(M.target===_.target||_.target===M.shadowParent)&&AR(M.delta,E)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var R=(u.current.shards||[]).map(Cv).filter(Boolean).filter(function(M){return M.contains(_.target)}),O=R.length>0?f(_,R[0]):!u.current.noIsolation;O&&_.cancelable&&_.preventDefault()}}},[]),m=v.useCallback(function(b,_,E,N){var R={name:b,delta:_,target:E,should:N,shadowParent:MR(E)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(O){return O!==R})},1)},[]),g=v.useCallback(function(b){n.current=nl(b),o.current=void 0},[]),x=v.useCallback(function(b){m(b.type,jv(b),b.target,f(b,e.lockRef.current))},[]),w=v.useCallback(function(b){m(b.type,nl(b),b.target,f(b,e.lockRef.current))},[]);v.useEffect(function(){return Ts.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Rs),document.addEventListener("touchmove",h,Rs),document.addEventListener("touchstart",g,Rs),function(){Ts=Ts.filter(function(b){return b!==l}),document.removeEventListener("wheel",h,Rs),document.removeEventListener("touchmove",h,Rs),document.removeEventListener("touchstart",g,Rs)}},[]);var S=e.removeScrollBar,C=e.inert;return v.createElement(v.Fragment,null,C?v.createElement(l,{styles:OR(i)}):null,S?v.createElement(jR,{gapMode:e.gapMode}):null)}function MR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LR=dR(tw,DR);var Xl=v.forwardRef(function(e,t){return v.createElement(Jl,Nn({},e,{ref:t,sideCar:LR}))});Xl.classNames=Jl.classNames;var $R=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ps=new WeakMap,rl=new WeakMap,sl={},kd=0,iw=function(e){return e&&(e.host||iw(e.parentNode))},FR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=iw(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},UR=function(e,t,n,o){var i=FR(t,Array.isArray(e)?e:[e]);sl[n]||(sl[n]=new WeakMap);var l=sl[n],u=[],f=new Set,h=new Set(i),m=function(x){!x||f.has(x)||(f.add(x),m(x.parentNode))};i.forEach(m);var g=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(w){if(f.has(w))g(w);else try{var S=w.getAttribute(o),C=S!==null&&S!=="false",b=(Ps.get(w)||0)+1,_=(l.get(w)||0)+1;Ps.set(w,b),l.set(w,_),u.push(w),b===1&&C&&rl.set(w,!0),_===1&&w.setAttribute(n,"true"),C||w.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",w,E)}})};return g(t),f.clear(),kd++,function(){u.forEach(function(x){var w=Ps.get(x)-1,S=l.get(x)-1;Ps.set(x,w),l.set(x,S),w||(rl.has(x)||x.removeAttribute(o),rl.delete(x)),S||x.removeAttribute(n)}),kd--,kd||(Ps=new WeakMap,Ps=new WeakMap,rl=new WeakMap,sl={})}},eh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),i=$R(e);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live]"))),UR(o,i,n,"aria-hidden")):function(){return null}},th="Dialog",[aw]=jt(th),[zR,wn]=aw(th),lw=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,f=v.useRef(null),h=v.useRef(null),[m=!1,g]=tn({prop:o,defaultProp:i,onChange:l});return a.jsx(zR,{scope:t,triggerRef:f,contentRef:h,contentId:Ut(),titleId:Ut(),descriptionId:Ut(),open:m,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(x=>!x),[g]),modal:u,children:n})};lw.displayName=th;var cw="DialogTrigger",BR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,i=wn(cw,n),l=ke(t,i.triggerRef);return a.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sh(i.open),...o,ref:l,onClick:X(e.onClick,i.onOpenToggle)})});BR.displayName=cw;var nh="DialogPortal",[VR,uw]=aw(nh,{forceMount:void 0}),dw=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:i}=e,l=wn(nh,t);return a.jsx(VR,{scope:t,forceMount:n,children:v.Children.map(o,u=>a.jsx(bt,{present:n||l.open,children:a.jsx(Oi,{asChild:!0,container:i,children:u})}))})};dw.displayName=nh;var Cl="DialogOverlay",fw=v.forwardRef((e,t)=>{const n=uw(Cl,e.__scopeDialog),{forceMount:o=n.forceMount,...i}=e,l=wn(Cl,e.__scopeDialog);return l.modal?a.jsx(bt,{present:o||l.open,children:a.jsx(WR,{...i,ref:t})}):null});fw.displayName=Cl;var HR=Kr("DialogOverlay.RemoveScroll"),WR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,i=wn(Cl,n);return a.jsx(Xl,{as:HR,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(le.div,{"data-state":sh(i.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),Qr="DialogContent",hw=v.forwardRef((e,t)=>{const n=uw(Qr,e.__scopeDialog),{forceMount:o=n.forceMount,...i}=e,l=wn(Qr,e.__scopeDialog);return a.jsx(bt,{present:o||l.open,children:l.modal?a.jsx(KR,{...i,ref:t}):a.jsx(qR,{...i,ref:t})})});hw.displayName=Qr;var KR=v.forwardRef((e,t)=>{const n=wn(Qr,e.__scopeDialog),o=v.useRef(null),i=ke(t,n.contentRef,o);return v.useEffect(()=>{const l=o.current;if(l)return eh(l)},[]),a.jsx(pw,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:X(e.onFocusOutside,l=>l.preventDefault())})}),qR=v.forwardRef((e,t)=>{const n=wn(Qr,e.__scopeDialog),o=v.useRef(!1),i=v.useRef(!1);return a.jsx(pw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(o.current||n.triggerRef.current?.focus(),l.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),pw=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=e,f=wn(Qr,n),h=v.useRef(null),m=ke(t,h);return Zf(),a.jsxs(a.Fragment,{children:[a.jsx(Yl,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:l,children:a.jsx(oo,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":sh(f.open),...u,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(GR,{titleId:f.titleId}),a.jsx(YR,{contentRef:h,descriptionId:f.descriptionId})]})]})}),rh="DialogTitle",mw=v.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,i=wn(rh,n);return a.jsx(le.h2,{id:i.titleId,...o,ref:t})});mw.displayName=rh;var gw="DialogDescription",vw=v.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,i=wn(gw,n);return a.jsx(le.p,{id:i.descriptionId,...o,ref:t})});vw.displayName=gw;var yw="DialogClose",xw=v.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,i=wn(yw,n);return a.jsx(le.button,{type:"button",...o,ref:t,onClick:X(e.onClick,()=>i.onOpenChange(!1))})});xw.displayName=yw;function sh(e){return e?"open":"closed"}var ww="DialogTitleWarning",[ED,bw]=RE(ww,{contentName:Qr,titleName:rh,docsSlug:"dialog"}),GR=({titleId:e})=>{const t=bw(ww),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},QR="DialogDescriptionWarning",YR=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bw(QR).contentName}}.`;return v.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},JR=lw,XR=dw,Sw=fw,_w=hw,jw=mw,Cw=vw,ZR=xw;const eT=JR,tT=XR,Ew=v.forwardRef(({className:e,...t},n)=>a.jsx(Sw,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Ew.displayName=Sw.displayName;const nT=Jr("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Nw=v.forwardRef(({side:e="right",className:t,children:n,...o},i)=>a.jsxs(tT,{children:[a.jsx(Ew,{}),a.jsxs(_w,{ref:i,className:re(nT({side:e}),t),...o,children:[n,a.jsxs(ZR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(yy,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nw.displayName=_w.displayName;const kw=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});kw.displayName="SheetHeader";const Rw=v.forwardRef(({className:e,...t},n)=>a.jsx(jw,{ref:n,className:re("text-lg font-semibold text-foreground",e),...t}));Rw.displayName=jw.displayName;const Tw=v.forwardRef(({className:e,...t},n)=>a.jsx(Cw,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Tw.displayName=Cw.displayName;function At({className:e,...t}){return a.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...t})}const rT="sidebar_state",sT=3600*24*7,oT="16rem",iT="18rem",aT="3rem",lT="b",Pw=v.createContext(null);function oh(){const e=v.useContext(Pw);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function cT({defaultOpen:e=!0,open:t,onOpenChange:n,className:o,style:i,children:l,...u}){const f=Hk(),[h,m]=v.useState(!1),[g,x]=v.useState(e),w=t??g,S=v.useCallback(E=>{const N=typeof E=="function"?E(w):E;n?n(N):x(N),document.cookie=`${rT}=${N}; path=/; max-age=${sT}`},[n,w]),C=v.useCallback(()=>f?m(E=>!E):S(E=>!E),[f,S,m]);v.useEffect(()=>{const E=N=>{N.key===lT&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),C())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[C]);const b=w?"expanded":"collapsed",_=v.useMemo(()=>({state:b,open:w,setOpen:S,isMobile:f,openMobile:h,setOpenMobile:m,toggleSidebar:C}),[b,w,S,f,h,m,C]);return a.jsx(Pw.Provider,{value:_,children:a.jsx(Qx,{delayDuration:0,children:a.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":oT,"--sidebar-width-icon":aT,...i},className:re("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",o),...u,children:l})})})}function uT({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:o,children:i,...l}){const{isMobile:u,state:f,openMobile:h,setOpenMobile:m}=oh();return n==="none"?a.jsx("div",{"data-slot":"sidebar",className:re("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",o),...l,children:i}):u?a.jsx(eT,{open:h,onOpenChange:m,...l,children:a.jsxs(Nw,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":iT},side:e,children:[a.jsxs(kw,{className:"sr-only",children:[a.jsx(Rw,{children:"Sidebar"}),a.jsx(Tw,{children:"Displays the mobile sidebar."})]}),a.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):a.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":f,"data-collapsible":f==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[a.jsx("div",{"data-slot":"sidebar-gap",className:re("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),a.jsx("div",{"data-slot":"sidebar-container",className:re("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...l,children:a.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function dT({className:e,onClick:t,...n}){const{toggleSidebar:o}=oh();return a.jsxs(Te,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:re("h-7 w-7",e),onClick:i=>{t?.(i),o()},...n,children:[a.jsx(Sj,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function fT({className:e,...t}){return a.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:re("flex flex-col gap-2 p-2",e),...t})}function hT({className:e,...t}){return a.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:re("flex flex-col gap-2 p-2",e),...t})}function pT({className:e,...t}){return a.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:re("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function Ev({className:e,...t}){return a.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:re("relative flex w-full min-w-0 flex-col p-2",e),...t})}function Nv({className:e,asChild:t=!1,...n}){const o=t?Nf:"div";return a.jsx(o,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:re("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})}function kv({className:e,...t}){return a.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:re("w-full text-sm",e),...t})}function Rv({className:e,...t}){return a.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:re("flex w-full min-w-0 flex-col gap-1",e),...t})}function Tv({className:e,...t}){return a.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:re("group/menu-item relative",e),...t})}const mT=Jr("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Pv({asChild:e=!1,isActive:t=!1,variant:n="default",size:o="default",tooltip:i,className:l,...u}){const f=e?Nf:"button",{isMobile:h,state:m}=oh(),g=a.jsx(f,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":o,"data-active":t,className:re(mT({variant:n,size:o}),l),...u});return i?(typeof i=="string"&&(i={children:i}),a.jsxs(Bk,{children:[a.jsx(Vk,{asChild:!0,children:g}),a.jsx(Yx,{side:"right",align:"center",hidden:m!=="collapsed"||h,...i})]})):g}var ih="Avatar",[gT]=jt(ih),[vT,Aw]=gT(ih),Ow=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...o}=e,[i,l]=v.useState("idle");return a.jsx(vT,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:a.jsx(le.span,{...o,ref:t})})});Ow.displayName=ih;var Iw="AvatarImage",Dw=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:i=()=>{},...l}=e,u=Aw(Iw,n),f=yT(o,l),h=Ge(m=>{i(m),u.onImageLoadingStatusChange(m)});return nt(()=>{f!=="idle"&&h(f)},[f,h]),f==="loaded"?a.jsx(le.img,{...l,ref:t,src:o}):null});Dw.displayName=Iw;var Mw="AvatarFallback",Lw=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:o,...i}=e,l=Aw(Mw,n),[u,f]=v.useState(o===void 0);return v.useEffect(()=>{if(o!==void 0){const h=window.setTimeout(()=>f(!0),o);return()=>window.clearTimeout(h)}},[o]),u&&l.imageLoadingStatus!=="loaded"?a.jsx(le.span,{...i,ref:t}):null});Lw.displayName=Mw;function Av(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yT(e,{referrerPolicy:t,crossOrigin:n}){const o=wT(),i=v.useRef(null),l=o?(i.current||(i.current=new window.Image),i.current):null,[u,f]=v.useState(()=>Av(l,e));return nt(()=>{f(Av(l,e))},[l,e]),nt(()=>{const h=x=>()=>{f(x)};if(!l)return;const m=h("loaded"),g=h("error");return l.addEventListener("load",m),l.addEventListener("error",g),t&&(l.referrerPolicy=t),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",m),l.removeEventListener("error",g)}},[l,n,t]),u}function xT(){return()=>{}}function wT(){return v.useSyncExternalStore(xT,()=>!0,()=>!1)}var $w=Ow,Fw=Dw,Uw=Lw;const Xr=v.forwardRef(({className:e,...t},n)=>a.jsx($w,{ref:n,className:re(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Xr.displayName=$w.displayName;const bT=v.forwardRef(({className:e,...t},n)=>a.jsx(Fw,{ref:n,className:re("aspect-square h-full w-full",e),...t}));bT.displayName=Fw.displayName;const Zr=v.forwardRef(({className:e,...t},n)=>a.jsx(Uw,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Zr.displayName=Uw.displayName;const ST=Jr("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...n}){return a.jsx("div",{className:re(ST({variant:t}),e),...n})}var zw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ov=ze.createContext&&ze.createContext(zw),_T=["attr","size","title"];function jT(e,t){if(e==null)return{};var n=CT(e,t),o,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)o=l[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function CT(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},El.apply(this,arguments)}function Iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Nl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iv(Object(n),!0).forEach(function(o){ET(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ET(e,t,n){return t=NT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NT(e){var t=kT(e,"string");return typeof t=="symbol"?t:t+""}function kT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bw(e){return e&&e.map((t,n)=>ze.createElement(t.tag,Nl({key:n},t.attr),Bw(t.child)))}function RT(e){return t=>ze.createElement(TT,El({attr:Nl({},e.attr)},t),Bw(e.child))}function TT(e){var t=n=>{var{attr:o,size:i,title:l}=e,u=jT(e,_T),f=i||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),ze.createElement("svg",El({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,u,{className:h,style:Nl(Nl({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&ze.createElement("title",null,l),e.children)};return Ov!==void 0?ze.createElement(Ov.Consumer,null,n=>t(n)):t(zw)}function Zl(e){return RT({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}const PT={es:{"nav.dashboard":"Panel Principal","nav.conversations":"Conversaciones","nav.customers":"Clientes","nav.locations":"Sucursales","nav.services":"Servicios","nav.orders":"Pedidos","nav.analytics":"Analticas","nav.notifications":"Notificaciones","nav.settings":"Configuracin","nav.help":"Ayuda","nav.menu":"Men","nav.system":"Sistema","dashboard.title":"Panel de Concierge IA","dashboard.subtitle":"El Salvador  7 Sucursales  WhatsApp Business API","dashboard.live":"En Vivo","dashboard.allLocations":"Todas las Sucursales","stats.totalConversations":"Total de Conversaciones","stats.activeNow":"Activas Ahora","stats.aiResolutionRate":"Tasa de Resolucin IA","stats.escalations":"Escalaciones","stats.avgResponseTime":"Tiempo de Respuesta Promedio","stats.messagesProcessed":"Mensajes Procesados","stats.resolvedToday":"Resueltas Hoy","stats.customerSatisfaction":"Satisfaccin del Cliente","stats.today":"Hoy","stats.liveConversations":"Conversaciones en vivo","stats.withoutHumanIntervention":"Sin intervencin humana","stats.pendingReview":"Pendientes de revisin","stats.last24Hours":"ltimas 24 horas","stats.vsLastWeek":"vs semana pasada","chat.aiActive":"IA Activa","chat.aiResponse":"Respuesta IA","chat.typeMessage":"Escribe un mensaje...","chat.connectedToWhatsApp":"Conectado a WhatsApp Business API","chat.live":"En Vivo","chat.recentConversation":"Conversacin Reciente","activity.title":"Actividad Reciente","activity.activities":"actividades","activity.noActivities":"No hay actividades recientes","activity.justNow":"Ahora mismo","activity.minAgo":"hace {min} min","activity.hoursAgo":"hace {hours} h","escalations.title":"Escalaciones","escalations.pending":"pendientes","escalations.noPending":"Sin escalaciones pendientes","escalations.highPriority":"Alta Prioridad","escalations.mediumPriority":"Media","escalations.lowPriority":"Baja","escalations.call":"Llamar","escalations.takeOver":"Tomar Control","performance.title":"Resumen de Rendimiento","performance.firstContactResolution":"Resolucin en Primer Contacto","performance.avgRating":"Calificacin Promedio","performance.avgResponseTime":"Tiempo de Respuesta Prom.","performance.costSavings":"Ahorro de Costos","performance.thisMonth":"Este Mes","conversations.title":"Conversaciones","conversations.subtitle":"Gestiona todas las conversaciones de WhatsApp","conversations.search":"Buscar conversaciones...","conversations.all":"Todas","conversations.active":"Activas","conversations.resolved":"Resueltas","conversations.escalated":"Escaladas","conversations.noConversations":"No hay conversaciones","conversations.startNew":"Las nuevas conversaciones aparecern aqu","conversations.messages":"mensajes","conversations.lastMessage":"ltimo mensaje","customers.title":"Clientes","customers.subtitle":"Directorio de clientes y historial de pedidos","customers.search":"Buscar clientes...","customers.addCustomer":"Agregar Cliente","customers.totalCustomers":"Total de Clientes","customers.activeThisMonth":"Activos Este Mes","customers.newThisWeek":"Nuevos Esta Semana","customers.avgOrderValue":"Valor Promedio de Pedido","customers.noCustomers":"No hay clientes registrados","customers.orders":"pedidos","customers.lastOrder":"ltimo pedido","customers.viewProfile":"Ver Perfil","customers.sendMessage":"Enviar Mensaje","locations.title":"Sucursales","locations.subtitle":"Administra tus 7 sucursales en El Salvador","locations.addLocation":"Agregar Sucursal","locations.totalLocations":"Total de Sucursales","locations.activeToday":"Activas Hoy","locations.totalOrders":"Pedidos Totales","locations.avgRating":"Calificacin Promedio","locations.open":"Abierto","locations.closed":"Cerrado","locations.conversations":"conversaciones","locations.ordersToday":"pedidos hoy","locations.viewDetails":"Ver Detalles","locations.editLocation":"Editar","analytics.title":"Analticas","analytics.subtitle":"Mtricas de rendimiento y estadsticas","analytics.overview":"Vista General","analytics.conversations":"Conversaciones","analytics.revenue":"Ingresos","analytics.customers":"Clientes","analytics.thisWeek":"Esta Semana","analytics.thisMonth":"Este Mes","analytics.thisYear":"Este Ao","analytics.conversationVolume":"Volumen de Conversaciones","analytics.aiVsHuman":"Resoluciones IA vs Humano","analytics.topLocations":"Sucursales Principales","analytics.peakHours":"Horas Pico","notifications.title":"Notificaciones","notifications.subtitle":"Centro de notificaciones y alertas","notifications.markAllRead":"Marcar todo como ledo","notifications.noNotifications":"No hay notificaciones","notifications.allCaughtUp":"Ests al da!","notifications.today":"Hoy","notifications.yesterday":"Ayer","notifications.earlier":"Anteriores","notifications.newEscalation":"Nueva escalacin","notifications.conversationResolved":"Conversacin resuelta","notifications.newCustomer":"Nuevo cliente","notifications.systemAlert":"Alerta del sistema","settings.title":"Configuracin","settings.subtitle":"Preferencias y configuracin de la aplicacin","settings.general":"General","settings.notifications":"Notificaciones","settings.ai":"Configuracin de IA","settings.integrations":"Integraciones","settings.security":"Seguridad","settings.language":"Idioma","settings.theme":"Tema","settings.dark":"Oscuro","settings.light":"Claro","settings.system":"Sistema","settings.timezone":"Zona Horaria","settings.currency":"Moneda","settings.saveChanges":"Guardar Cambios","settings.cancel":"Cancelar","help.title":"Centro de Ayuda","help.subtitle":"Documentacin y recursos de soporte","help.search":"Buscar en la documentacin...","help.gettingStarted":"Comenzando","help.gettingStartedDesc":"Aprende los conceptos bsicos del sistema","help.whatsappIntegration":"Integracin WhatsApp","help.whatsappIntegrationDesc":"Configura y administra tu conexin","help.aiConfiguration":"Configuracin de IA","help.aiConfigurationDesc":"Personaliza las respuestas automticas","help.reportsAnalytics":"Reportes y Analticas","help.reportsAnalyticsDesc":"Entiende tus mtricas","help.contactSupport":"Contactar Soporte","help.email":"Correo electrnico","help.phone":"Telfono","help.hours":"Lunes a Viernes, 8:00 AM - 6:00 PM","help.faq":"Preguntas Frecuentes","common.loading":"Cargando...","common.error":"Error","common.retry":"Reintentar","common.save":"Guardar","common.cancel":"Cancelar","common.delete":"Eliminar","common.edit":"Editar","common.view":"Ver","common.search":"Buscar","common.filter":"Filtrar","common.export":"Exportar","common.import":"Importar","common.refresh":"Actualizar","common.close":"Cerrar","common.back":"Volver","common.next":"Siguiente","common.previous":"Anterior","common.yes":"S","common.no":"No","common.elSalvador":"El Salvador","brand.name":"Lavandera Oriental","brand.tagline":"AI Concierge"},en:{"nav.dashboard":"Dashboard","nav.conversations":"Conversations","nav.customers":"Customers","nav.locations":"Locations","nav.services":"Services","nav.orders":"Orders","nav.analytics":"Analytics","nav.notifications":"Notifications","nav.settings":"Settings","nav.help":"Help","nav.menu":"Menu","nav.system":"System","dashboard.title":"AI Concierge Dashboard","dashboard.subtitle":"El Salvador  7 Locations  WhatsApp Business API","dashboard.live":"Live","dashboard.allLocations":"All Locations","stats.totalConversations":"Total Conversations","stats.activeNow":"Active Now","stats.aiResolutionRate":"AI Resolution Rate","stats.escalations":"Escalations","stats.avgResponseTime":"Avg Response Time","stats.messagesProcessed":"Messages Processed","stats.resolvedToday":"Resolved Today","stats.customerSatisfaction":"Customer Satisfaction","stats.today":"Today","stats.liveConversations":"Live conversations","stats.withoutHumanIntervention":"Without human intervention","stats.pendingReview":"Pending review","stats.last24Hours":"Last 24 hours","stats.vsLastWeek":"vs last week","chat.aiActive":"AI Active","chat.aiResponse":"AI Response","chat.typeMessage":"Type a message...","chat.connectedToWhatsApp":"Connected to WhatsApp Business API","chat.live":"Live","chat.recentConversation":"Recent Conversation","activity.title":"Recent Activity","activity.activities":"activities","activity.noActivities":"No recent activities","activity.justNow":"Just now","activity.minAgo":"{min} min ago","activity.hoursAgo":"{hours}h ago","escalations.title":"Escalations","escalations.pending":"pending","escalations.noPending":"No pending escalations","escalations.highPriority":"High Priority","escalations.mediumPriority":"Medium","escalations.lowPriority":"Low","escalations.call":"Call","escalations.takeOver":"Take Over","performance.title":"Performance Summary","performance.firstContactResolution":"First Contact Resolution","performance.avgRating":"Avg. Rating","performance.avgResponseTime":"Avg. Response Time","performance.costSavings":"Cost Savings","performance.thisMonth":"This Month","conversations.title":"Conversations","conversations.subtitle":"Manage all WhatsApp conversations","conversations.search":"Search conversations...","conversations.all":"All","conversations.active":"Active","conversations.resolved":"Resolved","conversations.escalated":"Escalated","conversations.noConversations":"No conversations","conversations.startNew":"New conversations will appear here","conversations.messages":"messages","conversations.lastMessage":"Last message","customers.title":"Customers","customers.subtitle":"Customer directory and order history","customers.search":"Search customers...","customers.addCustomer":"Add Customer","customers.totalCustomers":"Total Customers","customers.activeThisMonth":"Active This Month","customers.newThisWeek":"New This Week","customers.avgOrderValue":"Avg Order Value","customers.noCustomers":"No customers registered","customers.orders":"orders","customers.lastOrder":"Last order","customers.viewProfile":"View Profile","customers.sendMessage":"Send Message","locations.title":"Locations","locations.subtitle":"Manage your 7 locations in El Salvador","locations.addLocation":"Add Location","locations.totalLocations":"Total Locations","locations.activeToday":"Active Today","locations.totalOrders":"Total Orders","locations.avgRating":"Avg Rating","locations.open":"Open","locations.closed":"Closed","locations.conversations":"conversations","locations.ordersToday":"orders today","locations.viewDetails":"View Details","locations.editLocation":"Edit","analytics.title":"Analytics","analytics.subtitle":"Performance metrics and statistics","analytics.overview":"Overview","analytics.conversations":"Conversations","analytics.revenue":"Revenue","analytics.customers":"Customers","analytics.thisWeek":"This Week","analytics.thisMonth":"This Month","analytics.thisYear":"This Year","analytics.conversationVolume":"Conversation Volume","analytics.aiVsHuman":"AI vs Human Resolutions","analytics.topLocations":"Top Locations","analytics.peakHours":"Peak Hours","notifications.title":"Notifications","notifications.subtitle":"Notification center and alerts","notifications.markAllRead":"Mark all as read","notifications.noNotifications":"No notifications","notifications.allCaughtUp":"You're all caught up!","notifications.today":"Today","notifications.yesterday":"Yesterday","notifications.earlier":"Earlier","notifications.newEscalation":"New escalation","notifications.conversationResolved":"Conversation resolved","notifications.newCustomer":"New customer","notifications.systemAlert":"System alert","settings.title":"Settings","settings.subtitle":"App preferences and configuration","settings.general":"General","settings.notifications":"Notifications","settings.ai":"AI Configuration","settings.integrations":"Integrations","settings.security":"Security","settings.language":"Language","settings.theme":"Theme","settings.dark":"Dark","settings.light":"Light","settings.system":"System","settings.timezone":"Timezone","settings.currency":"Currency","settings.saveChanges":"Save Changes","settings.cancel":"Cancel","help.title":"Help Center","help.subtitle":"Documentation and support resources","help.search":"Search documentation...","help.gettingStarted":"Getting Started","help.gettingStartedDesc":"Learn the basics of the system","help.whatsappIntegration":"WhatsApp Integration","help.whatsappIntegrationDesc":"Configure and manage your connection","help.aiConfiguration":"AI Configuration","help.aiConfigurationDesc":"Customize automatic responses","help.reportsAnalytics":"Reports & Analytics","help.reportsAnalyticsDesc":"Understand your metrics","help.contactSupport":"Contact Support","help.email":"Email","help.phone":"Phone","help.hours":"Monday to Friday, 8:00 AM - 6:00 PM","help.faq":"FAQ","common.loading":"Loading...","common.error":"Error","common.retry":"Retry","common.save":"Save","common.cancel":"Cancel","common.delete":"Delete","common.edit":"Edit","common.view":"View","common.search":"Search","common.filter":"Filter","common.export":"Export","common.import":"Import","common.refresh":"Refresh","common.close":"Close","common.back":"Back","common.next":"Next","common.previous":"Previous","common.yes":"Yes","common.no":"No","common.elSalvador":"El Salvador","brand.name":"Lavandera Oriental","brand.tagline":"AI Concierge"}},Vw=v.createContext(void 0);function AT({children:e}){const[t,n]=v.useState(()=>typeof window<"u"&&localStorage.getItem("language")||"es");v.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t},[t]);const o=l=>{n(l)},i=l=>PT[t][l]||l;return a.jsx(Vw.Provider,{value:{language:t,setLanguage:o,t:i},children:e})}function Bt(){const e=v.useContext(Vw);if(!e)throw new Error("useI18n must be used within an I18nProvider");return e}const OT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ah extends Error{constructor(t,n="FunctionsError",o){super(t),this.name=n,this.context=o}}class IT extends ah{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dv extends ah{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mv extends ah{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rf||(rf={}));class DT{constructor(t,{headers:n={},customFetch:o,region:i=rf.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=OT(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return tR(this,arguments,void 0,function*(n,o={}){var i;let l,u;try{const{headers:f,method:h,body:m,signal:g,timeout:x}=o;let w={},{region:S}=o;S||(S=this.region);const C=new URL(`${this.url}/${n}`);S&&S!=="any"&&(w["x-region"]=S,C.searchParams.set("forceFunctionRegion",S));let b;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",b=m):typeof m=="string"?(w["Content-Type"]="text/plain",b=m):typeof FormData<"u"&&m instanceof FormData?b=m:(w["Content-Type"]="application/json",b=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?b=JSON.stringify(m):b=m;let _=g;x&&(u=new AbortController,l=setTimeout(()=>u.abort(),x),g?(_=u.signal,g.addEventListener("abort",()=>u.abort())):_=u.signal);const E=yield this.fetch(C.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:b,signal:_}).catch(M=>{throw new IT(M)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new Dv(E);if(!E.ok)throw new Mv(E);let R=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield E.json():R==="application/octet-stream"||R==="application/pdf"?O=yield E.blob():R==="text/event-stream"?O=E:R==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(f){return{data:null,error:f,response:f instanceof Mv||f instanceof Dv?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var MT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},LT=class{constructor(e){var t,n,o;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(o=e.urlLengthLimit)!==null&&o!==void 0?o:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let i=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,f=null,h=null,m=l.status,g=l.statusText;if(l.ok){var x,w;if(n.method!=="HEAD"){var S;const E=await l.text();E===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?f=E:f=JSON.parse(E))}const b=(x=n.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),_=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");b&&_&&_.length>1&&(h=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var C;const b=await l.text();try{u=JSON.parse(b),Array.isArray(u)&&l.status===404&&(f=[],u=null,m=200,g="OK")}catch{l.status===404&&b===""?(m=204,g="No Content"):u={message:b}}if(u&&n.isMaybeSingle&&(!(u==null||(C=u.details)===null||C===void 0)&&C.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&n.shouldThrowOnError)throw new MT(u)}return{error:u,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(i=i.catch(l=>{var u;let f="",h="",m="";const g=l?.cause;if(g){var x,w,S,C;const E=(x=g?.message)!==null&&x!==void 0?x:"",N=(w=g?.code)!==null&&w!==void 0?w:"";f=`${(S=l?.name)!==null&&S!==void 0?S:"FetchError"}: ${l?.message}`,f+=`

Caused by: ${(C=g?.name)!==null&&C!==void 0?C:"Error"}: ${E}`,N&&(f+=` (${N})`),g?.stack&&(f+=`
${g.stack}`)}else{var b;f=(b=l?.stack)!==null&&b!==void 0?b:""}const _=this.url.toString().length;return l?.name==="AbortError"||l?.code==="ABORT_ERR"?(m="",h="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",h="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(h+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:f,hint:h,code:m},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},$T=class extends LT{select(e){let t=!1;const n=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:o,referencedTable:i=o}={}){const l=i?`${i}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:o=n}={}){const i=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:o=!1,wal:i=!1,format:l="text"}={}){var u;const f=[e?"analyze":null,t?"verbose":null,n?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Lv=new RegExp("[,()]");var $s=class extends $T{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(o=>typeof o=="string"&&Lv.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(o=>typeof o=="string"&&Lv.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},FT=class{constructor(e,{headers:t={},schema:n,fetch:o,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=o,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:o}=t??{},i=n?"HEAD":"GET";let l=!1;const u=(e??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:f,headers:h}=this.cloneRequestState();return f.searchParams.set("select",u),o&&h.append("Prefer",`count=${o}`),new $s({method:i,url:f,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var o;const i="POST",{url:l,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),n||u.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);l.searchParams.set("columns",h.join(","))}}return new $s({method:i,url:l,headers:u,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:o,defaultToNull:i=!0}={}){var l;const u="POST",{url:f,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),o&&h.append("Prefer",`count=${o}`),i||h.append("Prefer","missing=default"),Array.isArray(e)){const m=e.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);f.searchParams.set("columns",g.join(","))}}return new $s({method:u,url:f,headers:h,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const o="PATCH",{url:i,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new $s({method:o,url:i,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:o,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new $s({method:n,url:o,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function xi(e){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(e)}function UT(e,t){if(xi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(xi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zT(e){var t=UT(e,"string");return xi(t)=="symbol"?t:t+""}function BT(e,t,n){return(t=zT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(n),!0).forEach(function(o){BT(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var VT=class Hw{constructor(t,{headers:n={},schema:o,fetch:i,timeout:l,urlLengthLimit:u=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=o,this.urlLengthLimit=u;const f=i??globalThis.fetch;l!==void 0&&l>0?this.fetch=(h,m)=>{const g=new AbortController,x=setTimeout(()=>g.abort(),l),w=m?.signal;if(w){if(w.aborted)return clearTimeout(x),f(h,m);const S=()=>{clearTimeout(x),g.abort()};return w.addEventListener("abort",S,{once:!0}),f(h,ol(ol({},m),{},{signal:g.signal})).finally(()=>{clearTimeout(x),w.removeEventListener("abort",S)})}return f(h,ol(ol({},m),{},{signal:g.signal})).finally(()=>clearTimeout(x))}:this.fetch=f}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new FT(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Hw(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:o=!1,get:i=!1,count:l}={}){var u;let f;const h=new URL(`${this.url}/rpc/${t}`);let m;const g=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(g)),x=o&&Object.values(n).some(g);x?(f="POST",m=n):o||i?(f=o?"HEAD":"GET",Object.entries(n).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{h.searchParams.append(S,C)})):(f="POST",m=n);const w=new Headers(this.headers);return x?w.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&w.set("Prefer",`count=${l}`),new $s({method:f,url:h,headers:w,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class HT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const o=n.versions;if(o&&o.node){const i=o.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const o=this.getWebSocketConstructor();return new o(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const WT="2.95.3",KT=`realtime-js/${WT}`,qT="1.0.0",Ww="2.0.0",Fv=Ww,sf=1e4,GT=1e3,QT=100;var yr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yr||(yr={}));var at;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(at||(at={}));var gn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gn||(gn={}));var of;(function(e){e.websocket="websocket"})(of||(of={}));var Br;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Br||(Br={}));class YT{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,o;const i=(o=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,o;const i=(o=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},u=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,n,o){var i,l;const u=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",h=(l=t.join_ref)!==null&&l!==void 0?l:"",m=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},x=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+u.length+m.length+x.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let C=new DataView(S),b=0;C.setUint8(b++,this.KINDS.userBroadcastPush),C.setUint8(b++,h.length),C.setUint8(b++,f.length),C.setUint8(b++,u.length),C.setUint8(b++,m.length),C.setUint8(b++,x.length),C.setUint8(b++,n),Array.from(h,E=>C.setUint8(b++,E.charCodeAt(0))),Array.from(f,E=>C.setUint8(b++,E.charCodeAt(0))),Array.from(u,E=>C.setUint8(b++,E.charCodeAt(0))),Array.from(m,E=>C.setUint8(b++,E.charCodeAt(0))),Array.from(x,E=>C.setUint8(b++,E.charCodeAt(0)));var _=new Uint8Array(S.byteLength+o.byteLength);return _.set(new Uint8Array(S),0),_.set(new Uint8Array(o),S.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return n(o)}if(typeof t=="string"){const o=JSON.parse(t),[i,l,u,f,h]=o;return n({join_ref:i,ref:l,topic:u,event:f,payload:h})}return n({})}_binaryDecode(t){const n=new DataView(t),o=n.getUint8(0),i=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,i)}_decodeUserBroadcast(t,n,o){const i=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=o.decode(t.slice(h,h+i));h=h+i;const g=o.decode(t.slice(h,h+l));h=h+l;const x=o.decode(t.slice(h,h+u));h=h+u;const w=t.slice(h,t.byteLength),S=f===this.JSON_ENCODING?JSON.parse(o.decode(w)):w,C={type:this.BROADCAST_EVENT,event:g,payload:S};return u>0&&(C.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>n.includes(o)))}}class Kw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ve||(Ve={}));const Uv=(e,t,n={})=>{var o;const i=(o=n.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((l,u)=>(l[u]=JT(u,e,t,i),l),{}):{}},JT=(e,t,n,o)=>{const i=t.find(f=>f.name===e),l=i?.type,u=n[e];return l&&!o.includes(l)?qw(l,u):af(u)},qw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return tP(t,n)}switch(e){case Ve.bool:return XT(t);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return ZT(t);case Ve.json:case Ve.jsonb:return eP(t);case Ve.timestamp:return nP(t);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return af(t);default:return af(t)}},af=e=>e,XT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},tP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,o=e[n];if(e[0]==="{"&&o==="}"){let l;const u=e.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>qw(t,f))}return e},nP=e=>typeof e=="string"?e.replace(" ","T"):e,Gw=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rd{constructor(t,n,o={},i=sf){this.channel=t,this.event=n,this.payload=o,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var o;return this._hasReceived(t)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zv||(zv={}));class ui{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ui.syncState(this.state,i,l,u),this.pendingDiffs.forEach(h=>{this.state=ui.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ui.syncDiff(this.state,i,l,u),f())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,o,i){const l=this.cloneDeep(t),u=this.transformState(n),f={},h={};return this.map(l,(m,g)=>{u[m]||(h[m]=g)}),this.map(u,(m,g)=>{const x=l[m];if(x){const w=g.map(_=>_.presence_ref),S=x.map(_=>_.presence_ref),C=g.filter(_=>S.indexOf(_.presence_ref)<0),b=x.filter(_=>w.indexOf(_.presence_ref)<0);C.length>0&&(f[m]=C),b.length>0&&(h[m]=b)}else f[m]=g}),this.syncDiff(l,{joins:f,leaves:h},o,i)}static syncDiff(t,n,o,i){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),i||(i=()=>{}),this.map(l,(f,h)=>{var m;const g=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(h),g.length>0){const x=t[f].map(S=>S.presence_ref),w=g.filter(S=>x.indexOf(S.presence_ref)<0);t[f].unshift(...w)}o(f,g,h)}),this.map(u,(f,h)=>{let m=t[f];if(!m)return;const g=h.map(x=>x.presence_ref);m=m.filter(x=>g.indexOf(x.presence_ref)<0),t[f]=m,i(f,m,h),m.length===0&&delete t[f]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(o=>n(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,o)=>{const i=t[o];return"metas"in i?n[o]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[o]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bv||(Bv={}));var di;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(di||(di={}));var Vn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));class Bs{constructor(t,n={config:{}},o){var i,l;if(this.topic=t,this.params=n,this.socket=o,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rd(this,gn.join,this.params,this.timeout),this.rejoinTimer=new Kw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new ui(this),this.broadcastEndpointURL=Gw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var o,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,m=(i=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[di.PRESENCE]&&this.bindings[di.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},w={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(Vn.CHANNEL_ERROR,S)),this._onClose(()=>t?.(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t?.(Vn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,_=(C=b?.length)!==null&&C!==void 0?C:0,E=[];for(let N=0;N<_;N++){const R=b[N],{filter:{event:O,schema:M,table:F,filter:$}}=R,W=S&&S[N];if(W&&W.event===O&&Bs.isFilterValueEqual(W.schema,M)&&Bs.isFilterValueEqual(W.table,F)&&Bs.isFilterValueEqual(W.filter,$))E.push(Object.assign(Object.assign({},R),{id:W.id}));else{this.unsubscribe(),this.state=at.errored,t?.(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Vn.SUBSCRIBED);return}}).receive("error",S=>{this.state=at.errored,t?.(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,o){return this.state===at.joined&&t===di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,o)}async httpSend(t,n,o={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=o.timeout)!==null&&i!==void 0?i:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,h;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(i=>{o=new Rd(this,gn.leave,{},t),o.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(t,n,o){const i=new AbortController,l=setTimeout(()=>i.abort(),o),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(l),u}_push(t,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rd(this,t,n,o);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QT){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,o){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,o){var i,l;const u=t.toLocaleLowerCase(),{close:f,error:h,leave:m,join:g}=gn;if(o&&[f,h,m,g].indexOf(u)>=0&&o!==this._joinRef())return;let w=this._onMessage(u,n,o);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(S=>{var C,b,_;return((C=S.filter)===null||C===void 0?void 0:C.event)==="*"||((_=(b=S.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(S=>S.callback(w,o)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var C,b,_,E,N,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const O=S.id,M=(C=S.filter)===null||C===void 0?void 0:C.event;return O&&((b=n.ids)===null||b===void 0?void 0:b.includes(O))&&(M==="*"||M?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const O=(N=(E=S?.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof w=="object"&&"ids"in w){const C=w.data,{schema:b,table:_,commit_timestamp:E,type:N,errors:R}=C;w=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:E,eventType:N,new:{},old:{},errors:R}),this._getPayloadRecords(C))}S.callback(w,o)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,o){const i=t.toLocaleLowerCase(),l={type:i,filter:n,callback:o};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(t,n){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&Bs.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const o in t)if(t[o]!==n[o])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gn.close,{},t)}_onError(t){this._on(gn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Uv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Uv(t.columns,t.old_record)),n}}const Td=()=>{},il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rP=[1e3,2e3,5e3,1e4],sP=1e4,oP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iP{constructor(t,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sf,this.transport=null,this.heartbeatIntervalMs=il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Td,this.ref=0,this.reconnectTimer=null,this.vsn=Fv,this.logger=Td,this.conn=null,this.sendBuffer=[],this.serializer=new YT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${of.websocket}`,this.httpEndpoint=Gw(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,o){this.logger(t,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return Br.Connecting;case yr.open:return Br.Open;case yr.closing:return Br.Closing;default:return Br.Closed}}isConnected(){return this.connectionState()===Br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const o=`realtime:${t}`,i=this.getChannels().find(l=>l.topic===o);if(i)return i;{const l=new Bs(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:o,payload:i,ref:l}=t,u=()=>{this.encode(t,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${n} ${o} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(GT,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},il.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:i,payload:l,ref:u}=n,f=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${o} ${i} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(i,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===yr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yr.open||this.conn.readyState===yr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(gn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const o=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${o}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const o=new Blob([oP],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,o=!1;if(t)n=t,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:KT};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(gn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Kw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,o,i,l,u,f,h,m,g,x,w,S;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:sf,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:il.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Td,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:Fv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(C=>rP[C-1]||sP),this.vsn){case qT:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((C,b)=>b(JSON.stringify(C))),this.decode=(x=t?.decode)!==null&&x!==void 0?x:((C,b)=>b(JSON.parse(C)));break;case Ww:this.encode=(w=t?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=t?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var wi=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function aP(e,t,n){const o=new URL(t,e);if(n)for(const[i,l]of Object.entries(n))l!==void 0&&o.searchParams.set(i,l);return o.toString()}async function lP(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function cP(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:i,body:l,headers:u}){const f=aP(e.baseUrl,o,i),h=await lP(e.auth),m=await t(f,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),g=await m.text(),x=(m.headers.get("content-type")||"").includes("application/json"),w=x&&g?JSON.parse(g):g;if(!m.ok){const S=x?w:void 0,C=S?.error;throw new wi(C?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:C?.type,icebergCode:C?.code,details:S})}return{status:m.status,headers:m.headers,data:w}}}}function al(e){return e.join("")}var uP=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:al(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${al(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${al(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${al(e.namespace)}`}),!0}catch(t){if(t instanceof wi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof wi&&n.status===409)return;throw n}}};function As(e){return e.join("")}var dP=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof wi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof wi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},fP=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=cP({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new uP(this.client,t),this.tableOps=new dP(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ec=class extends Error{constructor(e,t="storage",n,o){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=o}};function tc(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ll=class extends ec{constructor(e,t,n,o="storage"){super(e,o,t,n),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qw=class extends ec{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const hP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lf=e=>{if(Array.isArray(e))return e.map(n=>lf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,o])=>{const i=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[i]=lf(o)}),t},mP=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function bi(e){"@babel/helpers - typeof";return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bi(e)}function gP(e,t){if(bi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(bi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vP(e){var t=gP(e,"string");return bi(t)=="symbol"?t:t+""}function yP(e,t,n){return(t=vP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(n),!0).forEach(function(o){yP(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}const Hv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},xP=async(e,t,n,o)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e,l=i.status||500;if(typeof i.json=="function")i.json().then(u=>{const f=u?.statusCode||u?.code||l+"";t(new ll(Hv(u),l,f,o))}).catch(()=>{if(o==="vectors"){const u=l+"";t(new ll(i.statusText||`HTTP ${l} error`,l,u,o))}else{const u=l+"";t(new ll(i.statusText||`HTTP ${l} error`,l,u,o))}});else{const u=l+"";t(new ll(i.statusText||`HTTP ${l} error`,l,u,o))}}else t(new Qw(Hv(e),e,o))},wP=(e,t,n,o)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!o?be(be({},i),n):(pP(o)?(i.headers=be({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(o)):i.body=o,t?.duplex&&(i.duplex=t.duplex),be(be({},i),n))};async function ni(e,t,n,o,i,l,u){return new Promise((f,h)=>{e(n,wP(t,o,i,l)).then(m=>{if(!m.ok)throw m;if(o?.noResolveJson)return m;if(u==="vectors"){const g=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!g||!g.includes("application/json"))return{}}return m.json()}).then(m=>f(m)).catch(m=>xP(m,h,o,u))})}function Yw(e="storage"){return{get:async(t,n,o,i)=>ni(t,"GET",n,o,i,void 0,e),post:async(t,n,o,i,l)=>ni(t,"POST",n,i,l,o,e),put:async(t,n,o,i,l)=>ni(t,"PUT",n,i,l,o,e),head:async(t,n,o,i)=>ni(t,"HEAD",n,be(be({},o),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,o,i,l)=>ni(t,"DELETE",n,i,l,o,e)}}const bP=Yw("storage"),{get:Si,post:mn,put:cf,head:SP,remove:lh}=bP,Ft=Yw("vectors");var uo=class{constructor(e,t={},n,o="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=hP(n),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(tc(n))return{data:null,error:n};throw n}}},_P=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(tc(t))return{data:null,error:t};throw t}}};let Jw;Jw=Symbol.toStringTag;var jP=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Jw]="BlobDownloadBuilder",this.promise=null}asStream(){return new _P(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(tc(t))return{data:null,error:t};throw t}}};const CP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var EP=class extends uo{constructor(e,t={},n,o){super(e,t,o,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,o){var i=this;return i.handleOperation(async()=>{let l;const u=be(be({},Wv),o);let f=be(be({},i.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",i.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",i.encodeMetadata(h))):(l=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=i.toBase64(i.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(f=be(be({},f),o.headers));const m=i._removeEmptyFolders(t),g=i._getFinalPath(m),x=await(e=="PUT"?cf:mn)(i.fetch,`${i.url}/object/${g}`,l,be({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{path:m,id:x.Id,fullPath:x.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,o){var i=this;const l=i._removeEmptyFolders(e),u=i._getFinalPath(l),f=new URL(i.url+`/object/upload/sign/${u}`);return f.searchParams.set("token",t),i.handleOperation(async()=>{let h;const m=be({upsert:Wv.upsert},o),g=be(be({},i.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{path:l,fullPath:(await cf(i.fetch,f.toString(),h,{headers:g})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let o=n._getFinalPath(e);const i=be({},n.headers);t?.upsert&&(i["x-upsert"]="true");const l=await mn(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:i}),u=new URL(n.url+l.url),f=u.searchParams.get("token");if(!f)throw new ec("No token returned by API");return{signedUrl:u.toString(),path:e,token:f}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var o=this;return o.handleOperation(async()=>await mn(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:o.headers}))}async copy(e,t,n){var o=this;return o.handleOperation(async()=>({path:(await mn(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(e,t,n){var o=this;return o.handleOperation(async()=>{let i=o._getFinalPath(e),l=await mn(o.fetch,`${o.url}/object/sign/${i}`,be({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:o.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${o.url}${l.signedURL}${u}`)}})}async createSignedUrls(e,t,n){var o=this;return o.handleOperation(async()=>{const i=await mn(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:e},{headers:o.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(u=>be(be({},u),{},{signedUrl:u.signedURL?encodeURI(`${o.url}${u.signedURL}${l}`):null}))})}download(e,t,n){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),l=i?`?${i}`:"",u=this._getFinalPath(e),f=()=>Si(this.fetch,`${this.url}/${o}/${u}${l}`,{headers:this.headers,noResolveJson:!0},n);return new jP(f,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>lf(await Si(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await SP(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(tc(o)&&o instanceof Qw){const i=o.originalError;if([400,404].includes(i?.status))return{data:!1,error:o}}throw o}}getPublicUrl(e,t){const n=this._getFinalPath(e),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);const l=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&o.push(u);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${f}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await lh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var o=this;return o.handleOperation(async()=>{const i=be(be(be({},CP),t),{},{prefix:e||""});return await mn(o.fetch,`${o.url}/object/list/${o.bucketId}`,i,{headers:o.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const o=be({},e);return await mn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const NP="2.95.3",Mi={"X-Client-Info":`storage-js/${NP}`};var kP=class extends uo{constructor(e,t={},n,o){const i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const l=i.href.replace(/\/$/,""),u=be(be({},Mi),t);super(l,u,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Si(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Si(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await mn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await cf(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await mn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},RP=class extends uo{constructor(e,t={},n){const o=e.replace(/\/$/,""),i=be(be({},Mi),t);super(o,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await mn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const o=n.toString(),i=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return await Si(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!mP(e))throw new ec("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new fP({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(i,l){const u=i[l];return typeof u!="function"?u:async(...f)=>{try{return{data:await u.apply(i,f),error:null}}catch(h){if(o)throw h;return{data:null,error:h}}}}})}},TP=class extends uo{constructor(e,t={},n){const o=e.replace(/\/$/,""),i=be(be({},Mi),{},{"Content-Type":"application/json"},t);super(o,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Ft.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Ft.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},PP=class extends uo{constructor(e,t={},n){const o=e.replace(/\/$/,""),i=be(be({},Mi),{},{"Content-Type":"application/json"},t);super(o,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},AP=class extends uo{constructor(e,t={},n){const o=e.replace(/\/$/,""),i=be(be({},Mi),{},{"Content-Type":"application/json"},t);super(o,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ft.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},OP=class extends AP{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new IP(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},IP=class extends TP{constructor(e,t,n,o){super(e,t,o),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,be(be({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,be(be({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new DP(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},DP=class extends PP{constructor(e,t,n,o,i){super(e,t,i),this.vectorBucketName=n,this.indexName=o}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,be(be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,be(be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,be(be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,be(be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,be(be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},MP=class extends kP{constructor(e,t={},n,o){super(e,t,n,o)}from(e){return new EP(this.url,this.headers,e,this.fetch)}get vectors(){return new OP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RP(this.url+"/iceberg",this.headers,this.fetch)}};const Xw="2.95.3",Fs=30*1e3,uf=3,Pd=uf*Fs,LP="http://localhost:9999",$P="supabase.auth.token",FP={"X-Client-Info":`gotrue-js/${Xw}`},df="X-Supabase-Api-Version",Zw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zP=600*1e3;class _i extends Error{constructor(t,n,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class BP extends _i{constructor(t,n,o){super(t,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function VP(e){return ue(e)&&e.name==="AuthApiError"}class Vr extends _i{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gn extends _i{constructor(t,n,o,i){super(t,o,i),this.name=n,this.status=o}}class Lt extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ad(e){return ue(e)&&e.name==="AuthSessionMissingError"}class Os extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cl extends Gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ul extends Gn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HP(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Kv extends Gn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class WP extends Gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ff extends Gn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Od(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class qv extends Gn{constructor(t,n,o){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class hf extends Gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gv=` 	
\r=`.split(""),KP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gv.length;t+=1)e[Gv[t].charCodeAt(0)]=-2;for(let t=0;t<kl.length;t+=1)e[kl[t].charCodeAt(0)]=t;return e})();function Qv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;n(kl[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;n(kl[o]),t.queuedBits-=6}}function e0(e,t,n){const o=KP[e];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yv(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{QP(u,o,n)};for(let u=0;u<e.length;u+=1)e0(e.charCodeAt(u),i,l);return t.join("")}function qP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function GP(e,t){for(let n=0;n<e.length;n+=1){let o=e.charCodeAt(n);if(o>55295&&o<=56319){const i=(o-55296)*1024&65535;o=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}qP(o,t)}}function QP(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let o=1;o<6;o+=1)if((e>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ys(e){const t=[],n={queue:0,queuedBits:0},o=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)e0(e.charCodeAt(i),n,o);return new Uint8Array(t)}function YP(e){const t=[];return GP(e,n=>t.push(n)),new Uint8Array(t)}function Hr(e){const t=[],n={queue:0,queuedBits:0},o=i=>{t.push(i)};return e.forEach(i=>Qv(i,n,o)),Qv(null,n,o),t.join("")}function JP(e){return Math.round(Date.now()/1e3)+e}function XP(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",Fr={tested:!1,writable:!1},t0=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fr.tested)return Fr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fr.tested=!0,Fr.writable=!0}catch{Fr.tested=!0,Fr.writable=!1}return Fr.writable};function ZP(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,l)=>{t[l]=i})}catch{}return n.searchParams.forEach((o,i)=>{t[i]=o}),t}const n0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),e2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Us=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ur=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pt=async(e,t)=>{await e.removeItem(t)};class nc{constructor(){this.promise=new nc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}nc.promiseConstructor=Promise;function dl(e){const t=e.split(".");if(t.length!==3)throw new hf("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!UP.test(t[o]))throw new hf("JWT not in base64url format");return{header:JSON.parse(Yv(t[0])),payload:JSON.parse(Yv(t[1])),signature:Ys(t[2]),raw:{header:t[0],payload:t[1]}}}async function t2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function n2(e,t){return new Promise((o,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await e(l);if(!t(l,null,u)){o(u);return}}catch(u){if(!t(l,u)){i(u);return}}})()})}function r2(e){return("0"+e.toString(16)).substr(-2)}function s2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let i="";for(let l=0;l<56;l++)i+=n.charAt(Math.floor(Math.random()*o));return i}return crypto.getRandomValues(t),Array.from(t,r2).join("")}async function o2(e){const n=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(o);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function i2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await o2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Is(e,t,n=!1){const o=s2();let i=o;n&&(i+="/PASSWORD_RECOVERY"),await Us(e,`${t}-code-verifier`,i);const l=await i2(o);return[l,o===l?"plain":"s256"]}const a2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l2(e){const t=e.headers.get(df);if(!t||!t.match(a2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function c2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function u2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(e){if(!d2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Id(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function f2(e,t){return new Proxy(e,{get:(n,o,i)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,i)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,o,i)}})}function Jv(e){return JSON.parse(JSON.stringify(e))}const zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h2=[502,503,504];async function Xv(e){var t;if(!e2(e))throw new ff(zr(e),0);if(h2.includes(e.status))throw new ff(zr(e),e.status);let n;try{n=await e.json()}catch(l){throw new Vr(zr(l),l)}let o;const i=l2(e);if(i&&i.getTime()>=Zw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new qv(zr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Lt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new qv(zr(n),e.status,n.weak_password.reasons);throw new BP(zr(n),e.status||500,o)}const p2=(e,t,n,o)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(o),Object.assign(Object.assign({},i),n))};async function we(e,t,n,o){var i;const l=Object.assign({},o?.headers);l[df]||(l[df]=Zw["2024-01-01"].name),o?.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const u=(i=o?.query)!==null&&i!==void 0?i:{};o?.redirectTo&&(u.redirect_to=o.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await m2(e,t,n+f,{headers:l,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(h):{data:Object.assign({},h),error:null}}async function m2(e,t,n,o,i,l){const u=p2(t,o,i,l);let f;try{f=await e(n,Object.assign({},u))}catch(h){throw console.error(h),new ff(zr(h),0)}if(f.ok||await Xv(f),o?.noResolveJson)return f;try{return await f.json()}catch(h){await Xv(h)}}function hn(e){var t;let n=null;y2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=JP(e.expires_in)));const o=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:o},error:null}}function Zv(e){const t=hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function g2(e){return{data:e,error:null}}function v2(e){const{action_link:t,email_otp:n,hashed_token:o,redirect_to:i,verification_type:l}=e,u=co(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:n,hashed_token:o,redirect_to:i,verification_type:l},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function ey(e){return e}function y2(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dd=["global","local","others"];class x2{constructor({url:t="",headers:n={},fetch:o}){this.url=t,this.headers=n,this.fetch=n0(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Dd[0]){if(Dd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dd.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ue(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,n={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xr})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:n}=t,o=co(t,["options"]),i=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(i.new_email=o?.newEmail,delete i.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:v2,redirectTo:n?.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xr})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,o,i,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},g=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:ey});if(g.error)throw g.error;const x=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(C=>{const b=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(C.split(";")[1].split("=")[1]);m[`${_}Page`]=b}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ue(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Ds(t);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xr})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ds(t);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xr})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,n=!1){Ds(t);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xr})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Ds(t.userId);try{const{data:n,error:o}=await we(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:o}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ds(t.userId),Ds(t.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,o,i,l,u,f,h;try{const m={nextPage:null,lastPage:0,total:0},g=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:ey});if(g.error)throw g.error;const x=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(C=>{const b=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(C.split(";")[1].split("=")[1]);m[`${_}Page`]=b}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ue(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function ty(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ms={debug:!!(globalThis&&t0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class r0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class w2 extends r0{}async function b2(e,t,n){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async i=>{if(i){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new w2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ms.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function S2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function s0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _2(e){return parseInt(e,16)}function j2(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function C2(e){var t;const{chainId:n,domain:o,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:h,resources:m,scheme:g,uri:x,version:w}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const S=s0(e.address),C=g?`${g}://${o}`:o,b=e.statement?`${e.statement}
`:"",_=`${C} wants you to sign in with your Ethereum account:
${S}

${b}`;let E=`URI: ${x}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),f&&(E+=`
Not Before: ${f.toISOString()}`),h&&(E+=`
Request ID: ${h}`),m){let N=`
Resources:`;for(const R of m){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);N+=`
- ${R}`}E+=N}return`${_}
${E}`}class st extends Error{constructor({message:t,code:n,cause:o,name:i}){var l;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=i??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Rl extends st{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function E2({error:e,options:t}){var n,o,i;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(o0(u)){if(l.rp.id!==u)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function N2({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(o0(o)){if(n.rpId!==o)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class k2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const R2=new k2;function T2(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:o}=e,i=co(e,["challenge","user","excludeCredentials"]),l=Ys(t).buffer,u=Object.assign(Object.assign({},n),{id:Ys(n.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:l,user:u});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let h=0;h<o.length;h++){const m=o[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ys(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function P2(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,o=co(e,["challenge","allowCredentials"]),i=Ys(t).buffer,l=Object.assign(Object.assign({},o),{challenge:i});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Ys(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function A2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Hr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Hr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,o=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Hr(new Uint8Array(i.authenticatorData)),clientDataJSON:Hr(new Uint8Array(i.clientDataJSON)),signature:Hr(new Uint8Array(i.signature)),userHandle:i.userHandle?Hr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function o0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ny(){var e,t;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function I2(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Rl("Browser returned unexpected credential type",t)}:{data:null,error:new Rl("Empty credential response",t)}}catch(t){return{data:null,error:E2({error:t,options:e})}}}async function D2(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Rl("Browser returned unexpected credential type",t)}:{data:null,error:new Rl("Empty credential response",t)}}catch(t){return{data:null,error:N2({error:t,options:e})}}}const M2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},L2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Tl(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),o={};for(const i of e)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))o[l]=u;else if(n(u))o[l]=u;else if(t(u)){const f=o[l];t(f)?o[l]=Tl(f,u):o[l]=Tl(u)}else o[l]=u}return o}function $2(e,t){return Tl(M2,e,t||{})}function F2(e,t){return Tl(L2,e,t||{})}class U2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:o,signal:i},l){var u;try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!f)return{data:null,error:h};const m=i??R2.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;if(!g.name){const x=o;if(x)g.name=`${g.id}:${x}`;else{const S=(await this.client.getUser()).data.user,C=((u=S?.user_metadata)===null||u===void 0?void 0:u.name)||S?.email||S?.id||"User";g.name=`${g.id}:${C}`}}g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=$2(f.webauthn.credential_options.publicKey,l?.create),{data:x,error:w}=await I2({publicKey:g,signal:m});return x?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const g=F2(f.webauthn.credential_options.publicKey,l?.request),{data:x,error:w}=await D2(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:m}));return x?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(f){return ue(f)?{data:null,error:f}:{data:null,error:new Vr("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!n)return{data:null,error:new _i("rpId is required for WebAuthn authentication")};try{if(!ny())return{data:null,error:new Vr("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:o},signal:i},{request:l});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:o,credential_response:h.credential_response}})}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new Vr("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!n)return{data:null,error:new _i("rpId is required for WebAuthn registration")};try{if(!ny())return{data:null,error:new Vr("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:i},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:o,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new Vr("Unexpected error in register",u)}}}}S2();const z2={url:LP,storageKey:$P,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ry(e,t,n){return await n()}const Ls={};class ji{get jwks(){var t,n;return(n=(t=Ls[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ls[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ls[this.storageKey]=Object.assign(Object.assign({},Ls[this.storageKey]),{cachedAt:t})}constructor(t){var n,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},z2),t);if(this.storageKey=l.storageKey,this.instanceID=(n=ji.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ji.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&mt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new x2({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=n0(l.fetch),this.lock=l.lock||ry,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&mt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=b2:this.lock=ry,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new U2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:t0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ty(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=ty(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Xw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},o="none";if(mt()&&(n=ZP(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),mt()&&this.detectSessionInUrl&&o!=="none"){const{data:i,error:l}=await this._getSessionFromURL(n,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),HP(l)){const h=(t=l.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?this._returnResult({error:n}):this._returnResult({error:new Vr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,o,i;try{const l=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:hn}),{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var n,o,i;try{let l;if("email"in t){const{email:g,password:x,options:w}=t;let S=null,C=null;this.flowType==="pkce"&&([S,C]=await Is(this.storage,this.storageKey)),l=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:x,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:C},xform:hn})}else if("phone"in t){const{phone:g,password:x,options:w}=t;l=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(o=w?.data)!==null&&o!==void 0?o:{},channel:(i=w?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:hn})}else throw new cl("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:u,options:f}=t;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zv})}else if("phone"in t){const{phone:l,password:u,options:f}=t;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zv})}else throw new cl("You must provide either an email or phone number and a password");const{data:o,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){const l=new Os;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,o,i,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,o,i,l,u,f,h,m,g,x,w;let S,C;if("message"in t)S=t.message,C=t.signature;else{const{chain:b,wallet:_,statement:E,options:N}=t;let R;if(mt())if(typeof _=="object")R=_;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")R=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=_}const O=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),M=await R.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=s0(M[0]);let $=(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!$){const G=await R.request({method:"eth_chainId"});$=_2(G)}const W={domain:O.host,address:F,statement:E,uri:O.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=C2(W),C=await R.request({method:"personal_sign",params:[j2(S),F]})}try{const{data:b,error:_}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:C},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:hn});if(_)throw _;if(!b||!b.session||!b.user){const E=new Os;return this._returnResult({data:{user:null,session:null},error:E})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:_})}catch(b){if(ue(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var n,o,i,l,u,f,h,m,g,x,w,S;let C,b;if("message"in t)C=t.message,b=t.signature;else{const{chain:_,wallet:E,statement:N,options:R}=t;let O;if(mt())if(typeof E=="object")O=E;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))O=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const M=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const F=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let $;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")$=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)$=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)C=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),b=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(o=R?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(g=R?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const F=await O.signMessage(new TextEncoder().encode(C),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=F}}try{const{data:_,error:E}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Hr(b)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:hn});if(E)throw E;if(!_||!_.session||!_.user){const N=new Os;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new WP;const{data:l,error:u}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:hn});if(await pt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const f=new Os;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:n,provider:o,token:i,access_token:l,nonce:u}=t,f=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:hn}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Os;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,o,i,l,u;try{if("email"in t){const{email:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Is(this.storage,this.storageKey));const{error:x}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in t){const{phone:f,options:h}=t,{data:m,error:g}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:g})}throw new cl("You must provide either an email or phone number.")}catch(f){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var n,o;try{let i,l;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:f}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:hn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,o,i,l,u;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Is(this.storage,this.storageKey));const m=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:g2});return!((l=m.data)===null||l===void 0)&&l.url&&mt()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ue(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;if(o)throw o;if(!n)throw new Lt;const{error:i}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:o,type:i,options:l}=t,{error:u}=await we(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:o,type:i,options:l}=t,{data:u,error:f}=await we(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new cl("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<Pd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const u=await Ur(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Id()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=f2(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xr}):await this._useSession(async n=>{var o,i,l;const{data:u,error:f}=n;if(f)throw f;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:xr})})}catch(n){if(ue(n))return Ad(n)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async o=>{const{data:i,error:l}=o;if(l)throw l;if(!i.session)throw new Lt;const u=i.session;let f=null,h=null;this.flowType==="pkce"&&t.email!=null&&([f,h]=await Is(this.storage,this.storageKey));const{data:m,error:g}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:xr});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(o){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lt;const n=Date.now()/1e3;let o=n,i=!0,l=null;const{payload:u}=dl(t.access_token);if(u.exp&&(o=u.exp,i=o<=n),i){const{data:f,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(t.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});l={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var o;if(!t){const{data:u,error:f}=n;if(f)throw f;t=(o=u.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Lt;const{data:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!mt())throw new ul("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ul(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Kv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Kv("No code detected.");const{data:N,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:f,expires_at:h,token_type:m}=t;if(!l||!f||!u||!m)throw new ul("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(f);let w=g+x;h&&(w=parseInt(h));const S=w-g;S*1e3<=Fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const C=w-x;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,w,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,w,g);const{data:b,error:_}=await this._getUser(l);if(_)throw _;const E={provider_token:o,provider_refresh_token:i,access_token:l,expires_in:x,expires_at:w,refresh_token:u,token_type:m,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(o){if(ue(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:i,error:l}=n;if(l&&!Ad(l))return this._returnResult({error:l});const u=(o=i.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(VP(f)&&(f.status===404||f.status===401||f.status===403)||Ad(f)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=XP(),o={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async n=>{var o,i;try{const{data:{session:l},error:u}=n;if(u)throw u;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Is(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:o,error:i}=await this._useSession(async l=>{var u,f,h,m,g;const{data:x,error:w}=l;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return mt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:t.provider,url:o?.url},error:null})}catch(o){if(ue(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var o;try{const{error:i,data:{session:l}}=n;if(i)throw i;const{options:u,provider:f,token:h,access_token:m,nonce:g}=t,x=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:hn}),{data:w,error:S}=x;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Os}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(i){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var o,i;const{data:l,error:u}=n;if(u)throw u;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await n2(async i=>(i>0&&await t2(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hn})),(i,l)=>{const u=200*Math.pow(2,i);return l&&Od(l)&&Date.now()+u-o<Fs})}catch(o){if(this._debug(n,"error",o),ue(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",o),mt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const i=await Ur(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await Us(this.userStorage,this.storageKey+"-user",u)),i.user=(t=u?.user)!==null&&t!==void 0?t:Id()}else if(i&&!i.user&&!i.user){const u=await Ur(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await pt(this.storage,this.storageKey+"-user"),await Us(this.storage,this.storageKey,i)):i.user=Id()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pd;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${Pd}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),Od(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(i.access_token);!f&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var n,o;if(!t)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nc;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new Lt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(i,"error",l),ue(l)){const u={data:null,error:l};return Od(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,o=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Us(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const l=Jv(i);await Us(this.storage,this.storageKey,l)}else{const i=Jv(n);await Us(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((o.expires_at*1e3-t)/Fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fs}ms, refresh threshold is ${uf} ticks`),i<=uf&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof r0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,o){const i=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,u]=await Is(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(f.toString())}if(o?.queryParams){const l=new URLSearchParams(o.queryParams);i.push(l.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var o;const{data:i,error:l}=n;return l?this._returnResult({data:null,error:l}):await we(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var o,i;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:m}=await we(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:i,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?A2(t.webauthn.credential_response):O2(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:h}=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:i,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:T2(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:P2(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,o,i,l;if(t)try{const{payload:S}=dl(t);let C=null;S.aal&&(C=S.aal);let b=C;const{data:{user:_},error:E}=await this.getUser(t);if(E)return this._returnResult({data:null,error:E});((o=(n=_?.factors)===null||n===void 0?void 0:n.filter(O=>O.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(b="aal2");const R=S.amr||[];return{data:{currentLevel:C,nextLevel:b,currentAuthenticationMethods:R},error:null}}catch(S){if(ue(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:u},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=dl(u.access_token);let m=null;h.aal&&(m=h.aal);let g=m;((l=(i=u.user.factors)===null||i===void 0?void 0:i.filter(S=>S.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const w=h.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;return i?this._returnResult({data:null,error:i}):o?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async o=>{const{data:{session:i},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Lt});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&mt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,n){try{return await this._useSession(async o=>{const{data:{session:i},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Lt});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&mt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;return o?this._returnResult({data:null,error:o}):n?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:o},error:i}=n;return i?this._returnResult({data:null,error:i}):o?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Lt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let o=n.keys.find(f=>f.kid===t);if(o)return o;const i=Date.now();if(o=this.jwks.keys.find(f=>f.kid===t),o&&this.jwks_cached_at+zP>i)return o;const{data:l,error:u}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,o=l.keys.find(f=>f.kid===t),!o)?null:o}async getClaims(t,n={}){try{let o=t;if(!o){const{data:S,error:C}=await this.getSession();if(C||!S.session)return this._returnResult({data:null,error:C});o=S.session.access_token}const{header:i,payload:l,signature:u,raw:{header:f,payload:h}}=dl(o);n?.allowExpired||c2(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:S}=await this.getUser(o);if(S)throw S;return{data:{claims:l,header:i,signature:u},error:null}}const g=u2(i.alg),x=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,u,YP(`${f}.${h}`)))throw new hf("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}}ji.nextInstanceID={};const B2=ji,V2="2.95.3";let ri="";typeof Deno<"u"?ri="deno":typeof document<"u"?ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ri="react-native":ri="node";const H2={"X-Client-Info":`supabase-js-${ri}/${V2}`},W2={headers:H2},K2={schema:"public"},q2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G2={};function Ci(e){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(e)}function Q2(e,t){if(Ci(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(Ci(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y2(e){var t=Q2(e,"string");return Ci(t)=="symbol"?t:t+""}function J2(e,t,n){return(t=Y2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sy(Object(n),!0).forEach(function(o){J2(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}const X2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Z2=()=>Headers,eA=(e,t,n)=>{const o=X2(n),i=Z2();return async(l,u)=>{var f;const h=(f=await t())!==null&&f!==void 0?f:e;let m=new i(u?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),o(l,Ze(Ze({},u),{},{headers:m}))}};function tA(e){return e.endsWith("/")?e:e+"/"}function nA(e,t){var n,o;const{db:i,auth:l,realtime:u,global:f}=e,{db:h,auth:m,realtime:g,global:x}=t,w={db:Ze(Ze({},h),i),auth:Ze(Ze({},m),l),realtime:Ze(Ze({},g),u),storage:{},global:Ze(Ze(Ze({},x),f),{},{headers:Ze(Ze({},(n=x?.headers)!==null&&n!==void 0?n:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}function rA(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sA=class extends B2{constructor(e){super(e)}},oA=class{constructor(e,t,n){var o,i;this.supabaseUrl=e,this.supabaseKey=t;const l=rA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:K2,realtime:G2,auth:Ze(Ze({},q2),{},{storageKey:u}),global:W2},h=nA(n??{},f);if(this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=eA(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new VT(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new MP(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new DT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:o}=await e.auth.getSession();return(t=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:i,storageKey:l,flowType:u,lock:f,debug:h,throwOnError:m},g,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sA({url:this.authUrl.href,headers:Ze(Ze({},w),g),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:i,flowType:u,lock:f,debug:h,throwOnError:m,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new iP(this.realtimeUrl.href,Ze(Ze({},e),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const iA=(e,t,n)=>new oA(e,t,n);function aA(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}aA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lA="https://placeholder.supabase.co",cA="placeholder-key",oy=iA(lA,cA,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),i0=v.createContext(void 0),iy={id:"demo-user-id",email:"admin@lavanderia.sv",name:"Administrador",role:"admin"};function uA({children:e}){const[t,n]=v.useState(null),[o,i]=v.useState(null),[l,u]=v.useState(!0),[f,h]=v.useState(!1);v.useEffect(()=>{{console.log("Supabase not configured - running in demo mode"),n(iy),h(!0),u(!1);return}},[]);const w={user:t,session:o,isLoading:l,isAuthenticated:!!t,isDemoMode:f,signIn:async(S,C)=>{const{error:b}=await oy.auth.signInWithPassword({email:S,password:C});return{error:b}},signOut:async()=>{if(f){n(null),h(!1);return}await oy.auth.signOut(),n(null),i(null)},signInDemo:()=>{n(iy),h(!0)}};return a.jsx(i0.Provider,{value:w,children:e})}function Li(){const e=v.useContext(i0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function dA(){const[e]=Iy(),{t}=Bt(),{user:n,isDemoMode:o}=Li(),i=[{titleKey:"nav.dashboard",url:"/",icon:gj},{titleKey:"nav.conversations",url:"/conversations",icon:Zt,badge:"24"},{titleKey:"nav.customers",url:"/customers",icon:Ws},{titleKey:"nav.locations",url:"/locations",icon:Js,badge:"5"},{titleKey:"nav.services",url:"/services",icon:Wr},{titleKey:"nav.orders",url:"/orders",icon:Zs}],l=[{titleKey:"nav.analytics",url:"/analytics",icon:_f},{titleKey:"nav.notifications",url:"/notifications",icon:fi},{titleKey:"nav.settings",url:"/settings",icon:Ej},{titleKey:"nav.help",url:"/help",icon:my}];return a.jsxs(uT,{"data-testid":"app-sidebar",children:[a.jsx(fT,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg gold-gradient flex items-center justify-center",children:a.jsx("span",{className:"text-lg font-bold text-primary-foreground",children:"LO"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"font-semibold text-sm truncate",children:t("brand.name")}),a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-sidebar-foreground/70",children:[a.jsx(Zl,{className:"h-3 w-3 text-green-400"}),a.jsx("span",{children:t("brand.tagline")})]})]})]})}),a.jsxs(pT,{children:[a.jsxs(Ev,{children:[a.jsx(Nv,{children:t("nav.menu")}),a.jsx(kv,{children:a.jsx(Rv,{children:i.map(u=>a.jsx(Tv,{children:a.jsx(Pv,{asChild:!0,isActive:e===u.url,"data-testid":`nav-${u.titleKey.split(".")[1]}`,children:a.jsxs(xl,{href:u.url,children:[a.jsx(u.icon,{className:"h-4 w-4"}),a.jsx("span",{className:"flex-1",children:t(u.titleKey)}),u.badge&&a.jsx(Le,{variant:"secondary",className:"text-xs h-5 px-1.5 bg-primary/20 text-primary border-0",children:u.badge})]})})},u.titleKey))})})]}),a.jsxs(Ev,{children:[a.jsx(Nv,{children:t("nav.system")}),a.jsx(kv,{children:a.jsx(Rv,{children:l.map(u=>a.jsx(Tv,{children:a.jsx(Pv,{asChild:!0,isActive:e===u.url,"data-testid":`nav-${u.titleKey.split(".")[1]}`,children:a.jsxs(xl,{href:u.url,children:[a.jsx(u.icon,{className:"h-4 w-4"}),a.jsx("span",{children:t(u.titleKey)})]})})},u.titleKey))})})]})]}),a.jsx(hT,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-sidebar-accent/50",children:[a.jsx(Xr,{className:"h-8 w-8",children:a.jsx(Zr,{className:"bg-primary text-primary-foreground text-xs",children:n?.name?.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2)||"U"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:n?.name||"Usuario"}),o&&a.jsx(en,{className:"h-3 w-3 text-amber-500 shrink-0"})]}),a.jsx("p",{className:"text-xs text-sidebar-foreground/70 truncate",children:n?.email||""})]})]})})]})}function fA(){const[e,t]=v.useState("dark");v.useEffect(()=>{const o=localStorage.getItem("theme");o&&(t(o),document.documentElement.classList.toggle("dark",o==="dark"))},[]);const n=()=>{const o=e==="dark"?"light":"dark";t(o),localStorage.setItem("theme",o),document.documentElement.classList.toggle("dark",o==="dark")};return a.jsx(Te,{variant:"ghost",size:"icon",onClick:n,"data-testid":"button-theme-toggle",children:e==="dark"?a.jsx(kj,{className:"h-5 w-5 text-primary"}):a.jsx(bj,{className:"h-5 w-5"})})}var hA=v.createContext(void 0);function fo(e){const t=v.useContext(hA);return e||t||"ltr"}var Md="rovingFocusGroup.onEntryFocus",pA={bubbles:!1,cancelable:!0},rc="RovingFocusGroup",[pf,a0,mA]=Ai(rc),[gA,sc]=jt(rc,[mA]),[vA,yA]=gA(rc),l0=v.forwardRef((e,t)=>a.jsx(pf.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(pf.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(xA,{...e,ref:t})})}));l0.displayName=rc;var xA=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...x}=e,w=v.useRef(null),S=ke(t,w),C=fo(l),[b=null,_]=tn({prop:u,defaultProp:f,onChange:h}),[E,N]=v.useState(!1),R=Ge(m),O=a0(n),M=v.useRef(!1),[F,$]=v.useState(0);return v.useEffect(()=>{const W=w.current;if(W)return W.addEventListener(Md,R),()=>W.removeEventListener(Md,R)},[R]),a.jsx(vA,{scope:n,orientation:o,dir:C,loop:i,currentTabStopId:b,onItemFocus:v.useCallback(W=>_(W),[_]),onItemShiftTab:v.useCallback(()=>N(!0),[]),onFocusableItemAdd:v.useCallback(()=>$(W=>W+1),[]),onFocusableItemRemove:v.useCallback(()=>$(W=>W-1),[]),children:a.jsx(le.div,{tabIndex:E||F===0?-1:0,"data-orientation":o,...x,ref:S,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{M.current=!0}),onFocus:X(e.onFocus,W=>{const G=!M.current;if(W.target===W.currentTarget&&G&&!E){const Z=new CustomEvent(Md,pA);if(W.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const de=O().filter(te=>te.focusable),ee=de.find(te=>te.active),pe=de.find(te=>te.id===b),xe=[ee,pe,...de].filter(Boolean).map(te=>te.ref.current);d0(xe,g)}}M.current=!1}),onBlur:X(e.onBlur,()=>N(!1))})})}),c0="RovingFocusGroupItem",u0=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:i=!1,tabStopId:l,...u}=e,f=Ut(),h=l||f,m=yA(c0,n),g=m.currentTabStopId===h,x=a0(n),{onFocusableItemAdd:w,onFocusableItemRemove:S}=m;return v.useEffect(()=>{if(o)return w(),()=>S()},[o,w,S]),a.jsx(pf.ItemSlot,{scope:n,id:h,focusable:o,active:i,children:a.jsx(le.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:X(e.onMouseDown,C=>{o?m.onItemFocus(h):C.preventDefault()}),onFocus:X(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:X(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const b=SA(C,m.orientation,m.dir);if(b!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let E=x().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const N=E.indexOf(C.currentTarget);E=m.loop?_A(E,N+1):E.slice(N+1)}setTimeout(()=>d0(E))}})})})});u0.displayName=c0;var wA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function SA(e,t,n){const o=bA(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return wA[o]}function d0(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function _A(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var f0=l0,h0=u0,mf=["Enter"," "],jA=["ArrowDown","PageUp","Home"],p0=["ArrowUp","PageDown","End"],CA=[...jA,...p0],EA={ltr:[...mf,"ArrowRight"],rtl:[...mf,"ArrowLeft"]},NA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$i="Menu",[Ei,kA,RA]=Ai($i),[es,m0]=jt($i,[RA,lo,sc]),oc=lo(),g0=sc(),[TA,ts]=es($i),[PA,Fi]=es($i),v0=e=>{const{__scopeMenu:t,open:n=!1,children:o,dir:i,onOpenChange:l,modal:u=!0}=e,f=oc(t),[h,m]=v.useState(null),g=v.useRef(!1),x=Ge(l),w=fo(i);return v.useEffect(()=>{const S=()=>{g.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>g.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),a.jsx(Gf,{...f,children:a.jsx(TA,{scope:t,open:n,onOpenChange:x,content:h,onContentChange:m,children:a.jsx(PA,{scope:t,onClose:v.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:w,modal:u,children:o})})})};v0.displayName=$i;var AA="MenuAnchor",ch=v.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,i=oc(n);return a.jsx(Qf,{...i,...o,ref:t})});ch.displayName=AA;var uh="MenuPortal",[OA,y0]=es(uh,{forceMount:void 0}),x0=e=>{const{__scopeMenu:t,forceMount:n,children:o,container:i}=e,l=ts(uh,t);return a.jsx(OA,{scope:t,forceMount:n,children:a.jsx(bt,{present:n||l.open,children:a.jsx(Oi,{asChild:!0,container:i,children:o})})})};x0.displayName=uh;var Xt="MenuContent",[IA,dh]=es(Xt),w0=v.forwardRef((e,t)=>{const n=y0(Xt,e.__scopeMenu),{forceMount:o=n.forceMount,...i}=e,l=ts(Xt,e.__scopeMenu),u=Fi(Xt,e.__scopeMenu);return a.jsx(Ei.Provider,{scope:e.__scopeMenu,children:a.jsx(bt,{present:o||l.open,children:a.jsx(Ei.Slot,{scope:e.__scopeMenu,children:u.modal?a.jsx(DA,{...i,ref:t}):a.jsx(MA,{...i,ref:t})})})})}),DA=v.forwardRef((e,t)=>{const n=ts(Xt,e.__scopeMenu),o=v.useRef(null),i=ke(t,o);return v.useEffect(()=>{const l=o.current;if(l)return eh(l)},[]),a.jsx(fh,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),MA=v.forwardRef((e,t)=>{const n=ts(Xt,e.__scopeMenu);return a.jsx(fh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),LA=Kr("MenuContent.ScrollLock"),fh=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:w,onDismiss:S,disableOutsideScroll:C,...b}=e,_=ts(Xt,n),E=Fi(Xt,n),N=oc(n),R=g0(n),O=kA(n),[M,F]=v.useState(null),$=v.useRef(null),W=ke(t,$,_.onContentChange),G=v.useRef(0),Z=v.useRef(""),de=v.useRef(0),ee=v.useRef(null),pe=v.useRef("right"),J=v.useRef(0),xe=C?Xl:v.Fragment,te=C?{as:LA,allowPinchZoom:!0}:void 0,ie=z=>{const q=Z.current+z,P=O().filter(Y=>!Y.disabled),B=document.activeElement,he=P.find(Y=>Y.ref.current===B)?.textValue,me=P.map(Y=>Y.textValue),Ce=QA(me,q,he),je=P.find(Y=>Y.textValue===Ce)?.ref.current;(function Y(fe){Z.current=fe,window.clearTimeout(G.current),fe!==""&&(G.current=window.setTimeout(()=>Y(""),1e3))})(q),je&&setTimeout(()=>je.focus())};v.useEffect(()=>()=>window.clearTimeout(G.current),[]),Zf();const U=v.useCallback(z=>pe.current===ee.current?.side&&JA(z,ee.current?.area),[]);return a.jsx(IA,{scope:n,searchRef:Z,onItemEnter:v.useCallback(z=>{U(z)&&z.preventDefault()},[U]),onItemLeave:v.useCallback(z=>{U(z)||($.current?.focus(),F(null))},[U]),onTriggerLeave:v.useCallback(z=>{U(z)&&z.preventDefault()},[U]),pointerGraceTimerRef:de,onPointerGraceIntentChange:v.useCallback(z=>{ee.current=z},[]),children:a.jsx(xe,{...te,children:a.jsx(Yl,{asChild:!0,trapped:i,onMountAutoFocus:X(l,z=>{z.preventDefault(),$.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:a.jsx(oo,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:w,onDismiss:S,children:a.jsx(f0,{asChild:!0,...R,dir:E.dir,orientation:"vertical",loop:o,currentTabStopId:M,onCurrentTabStopIdChange:F,onEntryFocus:X(h,z=>{E.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Yf,{role:"menu","aria-orientation":"vertical","data-state":M0(_.open),"data-radix-menu-content":"",dir:E.dir,...N,...b,ref:W,style:{outline:"none",...b.style},onKeyDown:X(b.onKeyDown,z=>{const P=z.target.closest("[data-radix-menu-content]")===z.currentTarget,B=z.ctrlKey||z.altKey||z.metaKey,he=z.key.length===1;P&&(z.key==="Tab"&&z.preventDefault(),!B&&he&&ie(z.key));const me=$.current;if(z.target!==me||!CA.includes(z.key))return;z.preventDefault();const je=O().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);p0.includes(z.key)&&je.reverse(),qA(je)}),onBlur:X(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(G.current),Z.current="")}),onPointerMove:X(e.onPointerMove,Ni(z=>{const q=z.target,P=J.current!==z.clientX;if(z.currentTarget.contains(q)&&P){const B=z.clientX>J.current?"right":"left";pe.current=B,J.current=z.clientX}}))})})})})})})});w0.displayName=Xt;var $A="MenuGroup",hh=v.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return a.jsx(le.div,{role:"group",...o,ref:t})});hh.displayName=$A;var FA="MenuLabel",b0=v.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return a.jsx(le.div,{...o,ref:t})});b0.displayName=FA;var Pl="MenuItem",ay="menu.itemSelect",ic=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:o,...i}=e,l=v.useRef(null),u=Fi(Pl,e.__scopeMenu),f=dh(Pl,e.__scopeMenu),h=ke(t,l),m=v.useRef(!1),g=()=>{const x=l.current;if(!n&&x){const w=new CustomEvent(ay,{bubbles:!0,cancelable:!0});x.addEventListener(ay,S=>o?.(S),{once:!0}),Df(x,w),w.defaultPrevented?m.current=!1:u.onClose()}};return a.jsx(S0,{...i,ref:h,disabled:n,onClick:X(e.onClick,g),onPointerDown:x=>{e.onPointerDown?.(x),m.current=!0},onPointerUp:X(e.onPointerUp,x=>{m.current||x.currentTarget?.click()}),onKeyDown:X(e.onKeyDown,x=>{const w=f.searchRef.current!=="";n||w&&x.key===" "||mf.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});ic.displayName=Pl;var S0=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:i,...l}=e,u=dh(Pl,n),f=g0(n),h=v.useRef(null),m=ke(t,h),[g,x]=v.useState(!1),[w,S]=v.useState("");return v.useEffect(()=>{const C=h.current;C&&S((C.textContent??"").trim())},[l.children]),a.jsx(Ei.ItemSlot,{scope:n,disabled:o,textValue:i??w,children:a.jsx(h0,{asChild:!0,...f,focusable:!o,children:a.jsx(le.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...l,ref:m,onPointerMove:X(e.onPointerMove,Ni(C=>{o?u.onItemLeave(C):(u.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,Ni(C=>u.onItemLeave(C))),onFocus:X(e.onFocus,()=>x(!0)),onBlur:X(e.onBlur,()=>x(!1))})})})}),UA="MenuCheckboxItem",_0=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:o,...i}=e;return a.jsx(k0,{scope:e.__scopeMenu,checked:n,children:a.jsx(ic,{role:"menuitemcheckbox","aria-checked":Al(n)?"mixed":n,...i,ref:t,"data-state":mh(n),onSelect:X(i.onSelect,()=>o?.(Al(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_0.displayName=UA;var j0="MenuRadioGroup",[zA,BA]=es(j0,{value:void 0,onValueChange:()=>{}}),C0=v.forwardRef((e,t)=>{const{value:n,onValueChange:o,...i}=e,l=Ge(o);return a.jsx(zA,{scope:e.__scopeMenu,value:n,onValueChange:l,children:a.jsx(hh,{...i,ref:t})})});C0.displayName=j0;var E0="MenuRadioItem",N0=v.forwardRef((e,t)=>{const{value:n,...o}=e,i=BA(E0,e.__scopeMenu),l=n===i.value;return a.jsx(k0,{scope:e.__scopeMenu,checked:l,children:a.jsx(ic,{role:"menuitemradio","aria-checked":l,...o,ref:t,"data-state":mh(l),onSelect:X(o.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});N0.displayName=E0;var ph="MenuItemIndicator",[k0,VA]=es(ph,{checked:!1}),R0=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:o,...i}=e,l=VA(ph,n);return a.jsx(bt,{present:o||Al(l.checked)||l.checked===!0,children:a.jsx(le.span,{...i,ref:t,"data-state":mh(l.checked)})})});R0.displayName=ph;var HA="MenuSeparator",T0=v.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return a.jsx(le.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});T0.displayName=HA;var WA="MenuArrow",P0=v.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,i=oc(n);return a.jsx(Jf,{...i,...o,ref:t})});P0.displayName=WA;var KA="MenuSub",[ND,A0]=es(KA),si="MenuSubTrigger",O0=v.forwardRef((e,t)=>{const n=ts(si,e.__scopeMenu),o=Fi(si,e.__scopeMenu),i=A0(si,e.__scopeMenu),l=dh(si,e.__scopeMenu),u=v.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:h}=l,m={__scopeMenu:e.__scopeMenu},g=v.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return v.useEffect(()=>g,[g]),v.useEffect(()=>{const x=f.current;return()=>{window.clearTimeout(x),h(null)}},[f,h]),a.jsx(ch,{asChild:!0,...m,children:a.jsx(S0,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":M0(n.open),...e,ref:$l(t,i.onTriggerChange),onClick:x=>{e.onClick?.(x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,Ni(x=>{l.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:X(e.onPointerLeave,Ni(x=>{g();const w=n.content?.getBoundingClientRect();if(w){const S=n.content?.dataset.side,C=S==="right",b=C?-5:5,_=w[C?"left":"right"],E=w[C?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+b,y:x.clientY},{x:_,y:w.top},{x:E,y:w.top},{x:E,y:w.bottom},{x:_,y:w.bottom}],side:S}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,x=>{const w=l.searchRef.current!=="";e.disabled||w&&x.key===" "||EA[o.dir].includes(x.key)&&(n.onOpenChange(!0),n.content?.focus(),x.preventDefault())})})})});O0.displayName=si;var I0="MenuSubContent",D0=v.forwardRef((e,t)=>{const n=y0(Xt,e.__scopeMenu),{forceMount:o=n.forceMount,...i}=e,l=ts(Xt,e.__scopeMenu),u=Fi(Xt,e.__scopeMenu),f=A0(I0,e.__scopeMenu),h=v.useRef(null),m=ke(t,h);return a.jsx(Ei.Provider,{scope:e.__scopeMenu,children:a.jsx(bt,{present:o||l.open,children:a.jsx(Ei.Slot,{scope:e.__scopeMenu,children:a.jsx(fh,{id:f.contentId,"aria-labelledby":f.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{u.isUsingKeyboardRef.current&&h.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:X(e.onFocusOutside,g=>{g.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,g=>{u.onClose(),g.preventDefault()}),onKeyDown:X(e.onKeyDown,g=>{const x=g.currentTarget.contains(g.target),w=NA[u.dir].includes(g.key);x&&w&&(l.onOpenChange(!1),f.trigger?.focus(),g.preventDefault())})})})})})});D0.displayName=I0;function M0(e){return e?"open":"closed"}function Al(e){return e==="indeterminate"}function mh(e){return Al(e)?"indeterminate":e?"checked":"unchecked"}function qA(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function GA(e,t){return e.map((n,o)=>e[(t+o)%e.length])}function QA(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=GA(e,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function YA(e,t){const{x:n,y:o}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const f=t[l].x,h=t[l].y,m=t[u].x,g=t[u].y;h>o!=g>o&&n<(m-f)*(o-h)/(g-h)+f&&(i=!i)}return i}function JA(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return YA(n,t)}function Ni(e){return t=>t.pointerType==="mouse"?e(t):void 0}var XA=v0,ZA=ch,eO=x0,tO=w0,nO=hh,rO=b0,sO=ic,oO=_0,iO=C0,aO=N0,lO=R0,cO=T0,uO=P0,dO=O0,fO=D0,gh="DropdownMenu",[hO]=jt(gh,[m0]),Ct=m0(),[pO,L0]=hO(gh),$0=e=>{const{__scopeDropdownMenu:t,children:n,dir:o,open:i,defaultOpen:l,onOpenChange:u,modal:f=!0}=e,h=Ct(t),m=v.useRef(null),[g=!1,x]=tn({prop:i,defaultProp:l,onChange:u});return a.jsx(pO,{scope:t,triggerId:Ut(),triggerRef:m,contentId:Ut(),open:g,onOpenChange:x,onOpenToggle:v.useCallback(()=>x(w=>!w),[x]),modal:f,children:a.jsx(XA,{...h,open:g,onOpenChange:x,dir:o,modal:f,children:n})})};$0.displayName=gh;var F0="DropdownMenuTrigger",U0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...i}=e,l=L0(F0,n),u=Ct(n);return a.jsx(ZA,{asChild:!0,...u,children:a.jsx(le.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:$l(t,l.triggerRef),onPointerDown:X(e.onPointerDown,f=>{!o&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:X(e.onKeyDown,f=>{o||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});U0.displayName=F0;var mO="DropdownMenuPortal",z0=e=>{const{__scopeDropdownMenu:t,...n}=e,o=Ct(t);return a.jsx(eO,{...o,...n})};z0.displayName=mO;var B0="DropdownMenuContent",V0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=L0(B0,n),l=Ct(n),u=v.useRef(!1);return a.jsx(tO,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...o,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,f=>{u.current||i.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:X(e.onInteractOutside,f=>{const h=f.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,g=h.button===2||m;(!i.modal||g)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V0.displayName=B0;var gO="DropdownMenuGroup",vO=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(nO,{...i,...o,ref:t})});vO.displayName=gO;var yO="DropdownMenuLabel",H0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(rO,{...i,...o,ref:t})});H0.displayName=yO;var xO="DropdownMenuItem",W0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(sO,{...i,...o,ref:t})});W0.displayName=xO;var wO="DropdownMenuCheckboxItem",K0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(oO,{...i,...o,ref:t})});K0.displayName=wO;var bO="DropdownMenuRadioGroup",SO=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(iO,{...i,...o,ref:t})});SO.displayName=bO;var _O="DropdownMenuRadioItem",q0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(aO,{...i,...o,ref:t})});q0.displayName=_O;var jO="DropdownMenuItemIndicator",G0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(lO,{...i,...o,ref:t})});G0.displayName=jO;var CO="DropdownMenuSeparator",Q0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(cO,{...i,...o,ref:t})});Q0.displayName=CO;var EO="DropdownMenuArrow",NO=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(uO,{...i,...o,ref:t})});NO.displayName=EO;var kO="DropdownMenuSubTrigger",Y0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(dO,{...i,...o,ref:t})});Y0.displayName=kO;var RO="DropdownMenuSubContent",J0=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,i=Ct(n);return a.jsx(fO,{...i,...o,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});J0.displayName=RO;var TO=$0,PO=U0,AO=z0,X0=V0,Z0=H0,eb=W0,tb=K0,nb=q0,rb=G0,sb=Q0,ob=Y0,ib=J0;const ab=TO,lb=PO,OO=v.forwardRef(({className:e,inset:t,children:n,...o},i)=>a.jsxs(ob,{ref:i,className:re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...o,children:[n,a.jsx(lj,{className:"ml-auto"})]}));OO.displayName=ob.displayName;const IO=v.forwardRef(({className:e,...t},n)=>a.jsx(ib,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));IO.displayName=ib.displayName;const vh=v.forwardRef(({className:e,sideOffset:t=4,...n},o)=>a.jsx(AO,{children:a.jsx(X0,{ref:o,sideOffset:t,className:re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));vh.displayName=X0.displayName;const yh=v.forwardRef(({className:e,inset:t,...n},o)=>a.jsx(eb,{ref:o,className:re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));yh.displayName=eb.displayName;const DO=v.forwardRef(({className:e,children:t,checked:n,...o},i)=>a.jsxs(tb,{ref:i,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...o,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(rb,{children:a.jsx(jf,{className:"h-4 w-4"})})}),t]}));DO.displayName=tb.displayName;const MO=v.forwardRef(({className:e,children:t,...n},o)=>a.jsxs(nb,{ref:o,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(rb,{children:a.jsx(uj,{className:"h-2 w-2 fill-current"})})}),t]}));MO.displayName=nb.displayName;const cb=v.forwardRef(({className:e,inset:t,...n},o)=>a.jsx(Z0,{ref:o,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));cb.displayName=Z0.displayName;const ub=v.forwardRef(({className:e,...t},n)=>a.jsx(sb,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));ub.displayName=sb.displayName;const ly=[{code:"es",name:"Espaol",flag:""},{code:"en",name:"English",flag:""}];function LO(){const{language:e,setLanguage:t}=Bt();return ly.find(n=>n.code===e),a.jsxs(ab,{children:[a.jsx(lb,{asChild:!0,children:a.jsxs(Te,{variant:"ghost",size:"icon","data-testid":"button-language-toggle",children:[a.jsx(mj,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Toggle language"})]})}),a.jsx(vh,{align:"end",children:ly.map(n=>a.jsxs(yh,{onClick:()=>t(n.code),className:e===n.code?"bg-accent":"","data-testid":`language-option-${n.code}`,children:[a.jsx("span",{className:"mr-2 text-base",children:n.flag}),a.jsx("span",{children:n.name})]},n.code))})]})}function $O(){return a.jsx("div",{className:"min-h-[calc(100vh-4rem)] w-full flex items-center justify-center p-4",children:a.jsxs(_e,{className:"w-full max-w-md border-border",children:[a.jsxs(Ae,{className:"pt-6 text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:a.jsx(Ef,{className:"h-8 w-8 text-destructive"})}),a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"404"}),a.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Pgina no encontrada"}),a.jsx("p",{className:"text-muted-foreground",children:"La pgina que busca no existe o ha sido movida."})]}),a.jsxs(Fl,{className:"flex gap-2 justify-center pb-6",children:[a.jsxs(Te,{variant:"outline",onClick:()=>window.history.back(),children:[a.jsx(ij,{className:"h-4 w-4 mr-2"}),"Volver"]}),a.jsx(xl,{href:"/",children:a.jsxs(Te,{children:[a.jsx(vy,{className:"h-4 w-4 mr-2"}),"Inicio"]})})]})]})})}var FO="Label",db=v.forwardRef((e,t)=>a.jsx(le.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));db.displayName=FO;var fb=db;const UO=Jr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qt=v.forwardRef(({className:e,...t},n)=>a.jsx(fb,{ref:n,className:re(UO(),e),...t}));Qt.displayName=fb.displayName;const zO=Jr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hb=v.forwardRef(({className:e,variant:t,...n},o)=>a.jsx("div",{ref:o,role:"alert",className:re(zO({variant:t}),e),...n}));hb.displayName="Alert";const BO=v.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));BO.displayName="AlertTitle";const pb=v.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("text-sm [&_p]:leading-relaxed",e),...t}));pb.displayName="AlertDescription";function VO(){const[,e]=Iy(),{signIn:t,signInDemo:n,isDemoMode:o}=Li(),[i,l]=v.useState(""),[u,f]=v.useState(""),[h,m]=v.useState(!1),[g,x]=v.useState(null),w=async C=>{C.preventDefault(),x(null),m(!0);try{const{error:b}=await t(i,u);b?x(b.message==="Invalid login credentials"?"Credenciales invlidas. Verifica tu email y contrasea.":b.message):e("/")}catch{x("Error al iniciar sesin. Intenta de nuevo.")}finally{m(!1)}},S=()=>{n(),e("/")};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-lg gold-gradient mb-4",children:a.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"LO"})}),a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Lavandera Oriental"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground mt-1",children:[a.jsx(Zl,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm",children:"Panel de Control AI"})]})]}),a.jsxs(_e,{className:"border-border",children:[a.jsxs(De,{className:"text-center",children:[a.jsx(Me,{children:"Iniciar Sesin"}),a.jsx(li,{children:"Ingresa tus credenciales para acceder al panel"})]}),a.jsxs("form",{onSubmit:w,children:[a.jsxs(Ae,{className:"space-y-4",children:[g&&a.jsxs(hb,{variant:"destructive",children:[a.jsx(Ef,{className:"h-4 w-4"}),a.jsx(pb,{children:g})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qt,{htmlFor:"email",children:"Email"}),a.jsx(qn,{id:"email",type:"email",placeholder:"admin@lavanderia.sv",value:i,onChange:C=>l(C.target.value),required:!0,disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Qt,{htmlFor:"password",children:"Contrasea"}),a.jsx(qn,{id:"password",type:"password",placeholder:"",value:u,onChange:C=>f(C.target.value),required:!0,disabled:h})]})]}),a.jsxs(Fl,{className:"flex flex-col gap-3",children:[a.jsx(Te,{type:"submit",className:"w-full",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(yj,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciando sesin..."]}):"Iniciar Sesin"}),a.jsxs("div",{className:"relative w-full",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"o"})})]}),a.jsxs(Te,{type:"button",variant:"outline",className:"w-full",onClick:S,disabled:h,children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Acceder en Modo Demo"]})]})]})]}),a.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["Construido por"," ",a.jsx("a",{href:"https://machinemindconsulting.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"MachineMind Consulting"})]})]})})}function Ue({title:e,value:t,subtitle:n,icon:o,trend:i,variant:l="default"}){const u={default:"border-border",primary:"border-primary/30 gold-glow",accent:"border-accent/30",warning:"border-destructive/30"},f={default:"bg-muted text-muted-foreground",primary:"bg-primary/10 text-primary",accent:"bg-accent/10 text-accent",warning:"bg-destructive/10 text-destructive"};return a.jsx(_e,{className:`p-4 ${u[l]}`,"data-testid":`stat-card-${e.toLowerCase().replace(/\s+/g,"-")}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground truncate","data-testid":`stat-title-${e.toLowerCase().replace(/\s+/g,"-")}`,children:e}),a.jsx("p",{className:"text-2xl font-semibold mt-1 font-mono","data-testid":`stat-value-${e.toLowerCase().replace(/\s+/g,"-")}`,children:t}),n&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n}),i&&a.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${i.isPositive?"text-accent":"text-destructive"}`,children:[a.jsxs("span",{children:[i.isPositive?"+":"",i.value,"%"]}),a.jsx("span",{className:"text-muted-foreground",children:"vs last week"})]})]}),a.jsx("div",{className:`p-2.5 rounded-md ${f[l]}`,children:a.jsx(o,{className:"h-5 w-5"})})]})})}function gf(e,[t,n]){return Math.min(n,Math.max(t,e))}function HO(e,t){return v.useReducer((n,o)=>t[n][o]??n,e)}var xh="ScrollArea",[mb]=jt(xh),[WO,nn]=mb(xh),gb=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:o="hover",dir:i,scrollHideDelay:l=600,...u}=e,[f,h]=v.useState(null),[m,g]=v.useState(null),[x,w]=v.useState(null),[S,C]=v.useState(null),[b,_]=v.useState(null),[E,N]=v.useState(0),[R,O]=v.useState(0),[M,F]=v.useState(!1),[$,W]=v.useState(!1),G=ke(t,de=>h(de)),Z=fo(i);return a.jsx(WO,{scope:n,type:o,dir:Z,scrollHideDelay:l,scrollArea:f,viewport:m,onViewportChange:g,content:x,onContentChange:w,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:M,onScrollbarXEnabledChange:F,scrollbarY:b,onScrollbarYChange:_,scrollbarYEnabled:$,onScrollbarYEnabledChange:W,onCornerWidthChange:N,onCornerHeightChange:O,children:a.jsx(le.div,{dir:Z,...u,ref:G,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":R+"px",...e.style}})})});gb.displayName=xh;var vb="ScrollAreaViewport",yb=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:o,nonce:i,...l}=e,u=nn(vb,n),f=v.useRef(null),h=ke(t,f,u.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(le.div,{"data-radix-scroll-area-viewport":"",...l,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});yb.displayName=vb;var An="ScrollAreaScrollbar",wh=v.forwardRef((e,t)=>{const{forceMount:n,...o}=e,i=nn(An,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=i,f=e.orientation==="horizontal";return v.useEffect(()=>(f?l(!0):u(!0),()=>{f?l(!1):u(!1)}),[f,l,u]),i.type==="hover"?a.jsx(KO,{...o,ref:t,forceMount:n}):i.type==="scroll"?a.jsx(qO,{...o,ref:t,forceMount:n}):i.type==="auto"?a.jsx(xb,{...o,ref:t,forceMount:n}):i.type==="always"?a.jsx(bh,{...o,ref:t}):null});wh.displayName=An;var KO=v.forwardRef((e,t)=>{const{forceMount:n,...o}=e,i=nn(An,e.__scopeScrollArea),[l,u]=v.useState(!1);return v.useEffect(()=>{const f=i.scrollArea;let h=0;if(f){const m=()=>{window.clearTimeout(h),u(!0)},g=()=>{h=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return f.addEventListener("pointerenter",m),f.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),f.removeEventListener("pointerenter",m),f.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(bt,{present:n||l,children:a.jsx(xb,{"data-state":l?"visible":"hidden",...o,ref:t})})}),qO=v.forwardRef((e,t)=>{const{forceMount:n,...o}=e,i=nn(An,e.__scopeScrollArea),l=e.orientation==="horizontal",u=lc(()=>h("SCROLL_END"),100),[f,h]=HO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(f==="idle"){const m=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(m)}},[f,i.scrollHideDelay,h]),v.useEffect(()=>{const m=i.viewport,g=l?"scrollLeft":"scrollTop";if(m){let x=m[g];const w=()=>{const S=m[g];x!==S&&(h("SCROLL"),u()),x=S};return m.addEventListener("scroll",w),()=>m.removeEventListener("scroll",w)}},[i.viewport,l,h,u]),a.jsx(bt,{present:n||f!=="hidden",children:a.jsx(bh,{"data-state":f==="hidden"?"hidden":"visible",...o,ref:t,onPointerEnter:X(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:X(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),xb=v.forwardRef((e,t)=>{const n=nn(An,e.__scopeScrollArea),{forceMount:o,...i}=e,[l,u]=v.useState(!1),f=e.orientation==="horizontal",h=lc(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?m:g)}},10);return no(n.viewport,h),no(n.content,h),a.jsx(bt,{present:o||l,children:a.jsx(bh,{"data-state":l?"visible":"hidden",...i,ref:t})})}),bh=v.forwardRef((e,t)=>{const{orientation:n="vertical",...o}=e,i=nn(An,e.__scopeScrollArea),l=v.useRef(null),u=v.useRef(0),[f,h]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=jb(f.viewport,f.content),g={...o,sizes:f,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:w=>l.current=w,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:w=>u.current=w};function x(w,S){return ZO(w,u.current,f,S)}return n==="horizontal"?a.jsx(GO,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const w=i.viewport.scrollLeft,S=cy(w,f,i.dir);l.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollLeft=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollLeft=x(w,i.dir))}}):n==="vertical"?a.jsx(QO,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const w=i.viewport.scrollTop,S=cy(w,f);l.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollTop=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollTop=x(w))}}):null}),GO=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o,...i}=e,l=nn(An,e.__scopeScrollArea),[u,f]=v.useState(),h=v.useRef(null),m=ke(t,h,l.onScrollbarXChange);return v.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),a.jsx(bb,{"data-orientation":"horizontal",...i,ref:m,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ac(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,x)=>{if(l.viewport){const w=l.viewport.scrollLeft+g.deltaX;e.onWheelScroll(w),Eb(w,x)&&g.preventDefault()}},onResize:()=>{h.current&&l.viewport&&u&&o({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Il(u.paddingLeft),paddingEnd:Il(u.paddingRight)}})}})}),QO=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o,...i}=e,l=nn(An,e.__scopeScrollArea),[u,f]=v.useState(),h=v.useRef(null),m=ke(t,h,l.onScrollbarYChange);return v.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),a.jsx(bb,{"data-orientation":"vertical",...i,ref:m,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ac(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,x)=>{if(l.viewport){const w=l.viewport.scrollTop+g.deltaY;e.onWheelScroll(w),Eb(w,x)&&g.preventDefault()}},onResize:()=>{h.current&&l.viewport&&u&&o({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Il(u.paddingTop),paddingEnd:Il(u.paddingBottom)}})}})}),[YO,wb]=mb(An),bb=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:i,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:g,onResize:x,...w}=e,S=nn(An,n),[C,b]=v.useState(null),_=ke(t,G=>b(G)),E=v.useRef(null),N=v.useRef(""),R=S.viewport,O=o.content-o.viewport,M=Ge(g),F=Ge(h),$=lc(x,10);function W(G){if(E.current){const Z=G.clientX-E.current.left,de=G.clientY-E.current.top;m({x:Z,y:de})}}return v.useEffect(()=>{const G=Z=>{const de=Z.target;C?.contains(de)&&M(Z,O)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[R,C,O,M]),v.useEffect(F,[o,F]),no(C,$),no(S.content,$),a.jsx(YO,{scope:n,scrollbar:C,hasThumb:i,onThumbChange:Ge(l),onThumbPointerUp:Ge(u),onThumbPositionChange:F,onThumbPointerDown:Ge(f),children:a.jsx(le.div,{...w,ref:_,style:{position:"absolute",...w.style},onPointerDown:X(e.onPointerDown,G=>{G.button===0&&(G.target.setPointerCapture(G.pointerId),E.current=C.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),W(G))}),onPointerMove:X(e.onPointerMove,W),onPointerUp:X(e.onPointerUp,G=>{const Z=G.target;Z.hasPointerCapture(G.pointerId)&&Z.releasePointerCapture(G.pointerId),document.body.style.webkitUserSelect=N.current,S.viewport&&(S.viewport.style.scrollBehavior=""),E.current=null})})})}),Ol="ScrollAreaThumb",Sb=v.forwardRef((e,t)=>{const{forceMount:n,...o}=e,i=wb(Ol,e.__scopeScrollArea);return a.jsx(bt,{present:n||i.hasThumb,children:a.jsx(JO,{ref:t,...o})})}),JO=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:o,...i}=e,l=nn(Ol,n),u=wb(Ol,n),{onThumbPositionChange:f}=u,h=ke(t,x=>u.onThumbChange(x)),m=v.useRef(void 0),g=lc(()=>{m.current&&(m.current(),m.current=void 0)},100);return v.useEffect(()=>{const x=l.viewport;if(x){const w=()=>{if(g(),!m.current){const S=eI(x,f);m.current=S,f()}};return f(),x.addEventListener("scroll",w),()=>x.removeEventListener("scroll",w)}},[l.viewport,g,f]),a.jsx(le.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:X(e.onPointerDownCapture,x=>{const S=x.target.getBoundingClientRect(),C=x.clientX-S.left,b=x.clientY-S.top;u.onThumbPointerDown({x:C,y:b})}),onPointerUp:X(e.onPointerUp,u.onThumbPointerUp)})});Sb.displayName=Ol;var Sh="ScrollAreaCorner",_b=v.forwardRef((e,t)=>{const n=nn(Sh,e.__scopeScrollArea),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?a.jsx(XO,{...e,ref:t}):null});_b.displayName=Sh;var XO=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...o}=e,i=nn(Sh,n),[l,u]=v.useState(0),[f,h]=v.useState(0),m=!!(l&&f);return no(i.scrollbarX,()=>{const g=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(g),h(g)}),no(i.scrollbarY,()=>{const g=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(g),u(g)}),m?a.jsx(le.div,{...o,ref:t,style:{width:l,height:f,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Il(e){return e?parseInt(e,10):0}function jb(e,t){const n=e/t;return isNaN(n)?0:n}function ac(e){const t=jb(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-n)*t;return Math.max(o,18)}function ZO(e,t,n,o="ltr"){const i=ac(n),l=i/2,u=t||l,f=i-u,h=n.scrollbar.paddingStart+u,m=n.scrollbar.size-n.scrollbar.paddingEnd-f,g=n.content-n.viewport,x=o==="ltr"?[0,g]:[g*-1,0];return Cb([h,m],x)(e)}function cy(e,t,n="ltr"){const o=ac(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-i,u=t.content-t.viewport,f=l-o,h=n==="ltr"?[0,u]:[u*-1,0],m=gf(e,h);return Cb([0,u],[0,f])(m)}function Cb(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function Eb(e,t){return e>0&&e<t}var eI=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},o=0;return(function i(){const l={left:e.scrollLeft,top:e.scrollTop},u=n.left!==l.left,f=n.top!==l.top;(u||f)&&t(),n=l,o=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(o)};function lc(e,t){const n=Ge(e),o=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(o.current),[]),v.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,t)},[n,t])}function no(e,t){const n=Ge(t);nt(()=>{let o=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(o),i.unobserve(e)}}},[e,n])}var Nb=gb,tI=yb,nI=_b;const On=v.forwardRef(({className:e,children:t,...n},o)=>a.jsxs(Nb,{ref:o,className:re("relative overflow-hidden",e),...n,children:[a.jsx(tI,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(kb,{}),a.jsx(nI,{})]}));On.displayName=Nb.displayName;const kb=v.forwardRef(({className:e,orientation:t="vertical",...n},o)=>a.jsx(wh,{ref:o,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(Sb,{className:"relative flex-1 rounded-full bg-border"})}));kb.displayName=wh.displayName;function rI({customerName:e,customerPhone:t,messages:n,isTyping:o=!1}){const i=l=>new Date(l).toLocaleTimeString("es-SV",{hour:"2-digit",minute:"2-digit",hour12:!0});return a.jsxs(_e,{className:"flex flex-col h-full overflow-hidden","data-testid":"whatsapp-chat",children:[a.jsxs("div",{className:"navy-gradient px-4 py-3 flex items-center justify-between gap-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(Xr,{className:"h-10 w-10 border-2 border-primary/30",children:a.jsx(Zr,{className:"bg-primary/20 text-primary font-semibold",children:e.split(" ").map(l=>l[0]).join("").slice(0,2)})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium text-white truncate",children:e}),a.jsxs(Le,{variant:"outline",className:"text-primary border-primary/30 text-xs shrink-0","data-testid":"badge-ai-active",children:[a.jsx(en,{className:"h-3 w-3 mr-1"}),"AI Active"]})]}),a.jsx("p",{className:"text-xs text-white/70",children:t})]})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx(Te,{variant:"ghost",size:"icon",className:"text-white/70","data-testid":"button-call-customer",children:a.jsx(Xs,{className:"h-5 w-5"})}),a.jsx(Te,{variant:"ghost",size:"icon",className:"text-white/70","data-testid":"button-chat-options",children:a.jsx(dj,{className:"h-5 w-5"})})]})]}),a.jsx(On,{className:"flex-1 p-4 wave-pattern bg-background/50",children:a.jsxs("div",{className:"space-y-3",children:[n.map(l=>a.jsx("div",{className:`flex ${l.direction==="inbound"?"justify-start":"justify-end"}`,"data-testid":`chat-message-${l.id}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-lg px-3 py-2 ${l.direction==="inbound"?"bg-card border border-border":l.aiGenerated?"bg-secondary text-secondary-foreground border border-primary/20":"bg-primary text-primary-foreground"}`,children:[l.aiGenerated&&l.direction==="outbound"&&a.jsxs("div",{className:"flex items-center gap-1 mb-1 text-xs text-primary",children:[a.jsx(en,{className:"h-3 w-3"}),a.jsx("span",{children:"AI Response"})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:l.content}),a.jsx("p",{className:`text-xs mt-1 ${l.direction==="inbound"||l.aiGenerated?"text-muted-foreground":"text-primary-foreground/70"}`,children:i(l.timestamp)})]})},l.id)),o&&a.jsx("div",{className:"flex justify-end","data-testid":"typing-indicator",children:a.jsxs("div",{className:"bg-secondary text-secondary-foreground rounded-lg px-4 py-3 flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary typing-dot"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary typing-dot"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary typing-dot"})]})})]})}),a.jsxs("div",{className:"p-3 border-t border-border bg-card shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qn,{placeholder:"Type a message...",className:"flex-1","data-testid":"input-chat-message"}),a.jsx(Te,{size:"icon",className:"gold-gradient shrink-0","data-testid":"button-send-message",children:a.jsx(Cj,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground","data-testid":"chat-status-bar",children:[a.jsx(Zl,{className:"h-3.5 w-3.5 text-green-500"}),a.jsx("span",{children:"Connected to WhatsApp Business API"}),a.jsxs("span",{className:"ml-auto flex items-center gap-1","data-testid":"status-live",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent pulse-gold"}),"Live"]})]})]})]})}function sI({activities:e}){const t=l=>{switch(l){case"message":return a.jsx(Zt,{className:"h-4 w-4"});case"escalation":return a.jsx(Ri,{className:"h-4 w-4"});case"resolved":return a.jsx(py,{className:"h-4 w-4"});case"order":return a.jsx(Wr,{className:"h-4 w-4"})}},n=l=>{switch(l){case"message":return"bg-primary/10 text-primary border-primary/20";case"escalation":return"bg-destructive/10 text-destructive border-destructive/20";case"resolved":return"bg-accent/10 text-accent border-accent/20";case"order":return"bg-chart-4/10 text-chart-4 border-chart-4/20"}},o=l=>{switch(l){case"message":return"bg-primary";case"escalation":return"bg-destructive";case"resolved":return"bg-accent";case"order":return"bg-chart-4"}},i=l=>{const f=new Date().getTime()-new Date(l).getTime(),h=Math.floor(f/6e4),m=Math.floor(f/36e5);return h<1?"Just now":h<60?`${h}m ago`:m<24?`${m}h ago`:new Date(l).toLocaleDateString("es-SV",{month:"short",day:"numeric"})};return a.jsxs(_e,{className:"h-full flex flex-col","data-testid":"activity-feed",children:[a.jsx(De,{className:"pb-3 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx(Me,{className:"text-base",children:"Activity Feed"}),a.jsxs(Le,{variant:"secondary",className:"text-xs",children:[e.length," activities"]})]})}),a.jsx(Ae,{className:"flex-1 overflow-hidden p-0",children:a.jsx(On,{className:"h-full px-4 pb-4",children:a.jsx("div",{className:"space-y-3",children:e.map((l,u)=>a.jsxs("div",{className:"flex gap-3 items-start","data-testid":`activity-item-${l.id}`,children:[a.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[a.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${o(l.type)}`}),u<e.length-1&&a.jsx("div",{className:"w-px h-full bg-border mt-1 min-h-[40px]"})]}),a.jsxs("div",{className:"flex-1 min-w-0 pb-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("div",{className:`p-1 rounded-md border ${n(l.type)}`,"data-testid":`activity-icon-${l.type}`,children:t(l.type)}),a.jsx("span",{className:"font-medium text-sm","data-testid":`activity-customer-${l.id}`,children:l.customerName})]}),a.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap shrink-0","data-testid":`activity-time-${l.id}`,children:i(l.timestamp)})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:l.content}),l.locationName&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.locationName})]})]},l.id))})})})]})}function oI({escalations:e,onTakeOver:t}){const n=i=>{switch(i){case"high":return a.jsx(Le,{variant:"destructive",className:"text-xs",children:"High Priority"});case"medium":return a.jsx(Le,{className:"bg-chart-4/20 text-chart-4 border-chart-4/30 text-xs",children:"Medium"});case"low":return a.jsx(Le,{variant:"secondary",className:"text-xs",children:"Low"})}},o=i=>{const u=new Date().getTime()-new Date(i).getTime(),f=Math.floor(u/6e4);return f<1?"Just now":f<60?`${f} min ago`:new Date(i).toLocaleTimeString("es-SV",{hour:"2-digit",minute:"2-digit",hour12:!0})};return a.jsxs(_e,{className:"h-full flex flex-col border-destructive/20","data-testid":"escalation-list",children:[a.jsx(De,{className:"pb-3 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 rounded-md bg-destructive/10",children:a.jsx(Ri,{className:"h-4 w-4 text-destructive"})}),a.jsx(Me,{className:"text-base",children:"Escalations"})]}),a.jsxs(Le,{variant:"destructive",className:"text-xs",children:[e.length," pending"]})]})}),a.jsx(Ae,{className:"flex-1 overflow-hidden p-0",children:e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground p-4","data-testid":"escalation-empty-state",children:[a.jsx(yl,{className:"h-8 w-8 mb-2 text-accent"}),a.jsx("p",{className:"text-sm",children:"No pending escalations"})]}):a.jsx(On,{className:"h-full px-4 pb-4",children:a.jsx("div",{className:"space-y-3",children:e.map(i=>a.jsxs("div",{className:"p-3 rounded-lg border border-destructive/20 bg-destructive/5 space-y-2","data-testid":`escalation-item-${i.id}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:i.customerName}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i.customerPhone})]}),n(i.priority)]}),a.jsx("p",{className:"text-sm text-foreground/80 line-clamp-2",children:i.reason}),a.jsxs("div",{className:"flex items-center justify-between gap-2 pt-1",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[a.jsx(Hn,{className:"h-3 w-3"}),o(i.timestamp)]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(Te,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs","data-testid":`button-call-${i.id}`,children:[a.jsx(Xs,{className:"h-3 w-3 mr-1"}),"Call"]}),a.jsxs(Te,{size:"sm",className:"h-7 px-2 text-xs gold-gradient",onClick:()=>t?.(i.id),"data-testid":`button-takeover-${i.id}`,children:[a.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Take Over"]})]})]})]},i.id))})})})]})}function Rb(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var iI=[" ","Enter","ArrowUp","ArrowDown"],aI=[" ","Enter"],Ui="Select",[cc,uc,lI]=Ai(Ui),[ho]=jt(Ui,[lI,lo]),dc=lo(),[cI,_r]=ho(Ui),[uI,dI]=ho(Ui),Tb=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:i,onOpenChange:l,value:u,defaultValue:f,onValueChange:h,dir:m,name:g,autoComplete:x,disabled:w,required:S,form:C}=e,b=dc(t),[_,E]=v.useState(null),[N,R]=v.useState(null),[O,M]=v.useState(!1),F=fo(m),[$=!1,W]=tn({prop:o,defaultProp:i,onChange:l}),[G,Z]=tn({prop:u,defaultProp:f,onChange:h}),de=v.useRef(null),ee=_?C||!!_.closest("form"):!0,[pe,J]=v.useState(new Set),xe=Array.from(pe).map(te=>te.props.value).join(";");return a.jsx(Gf,{...b,children:a.jsxs(cI,{required:S,scope:t,trigger:_,onTriggerChange:E,valueNode:N,onValueNodeChange:R,valueNodeHasChildren:O,onValueNodeHasChildrenChange:M,contentId:Ut(),value:G,onValueChange:Z,open:$,onOpenChange:W,dir:F,triggerPointerDownPosRef:de,disabled:w,children:[a.jsx(cc.Provider,{scope:t,children:a.jsx(uI,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(te=>{J(ie=>new Set(ie).add(te))},[]),onNativeOptionRemove:v.useCallback(te=>{J(ie=>{const U=new Set(ie);return U.delete(te),U})},[]),children:n})}),ee?a.jsxs(tS,{"aria-hidden":!0,required:S,tabIndex:-1,name:g,autoComplete:x,value:G,onChange:te=>Z(te.target.value),disabled:w,form:C,children:[G===void 0?a.jsx("option",{value:""}):null,Array.from(pe)]},xe):null]})})};Tb.displayName=Ui;var Pb="SelectTrigger",Ab=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...i}=e,l=dc(n),u=_r(Pb,n),f=u.disabled||o,h=ke(t,u.onTriggerChange),m=uc(n),g=v.useRef("touch"),[x,w,S]=nS(b=>{const _=m().filter(R=>!R.disabled),E=_.find(R=>R.value===u.value),N=rS(_,b,E);N!==void 0&&u.onValueChange(N.value)}),C=b=>{f||(u.onOpenChange(!0),S()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(Qf,{asChild:!0,...l,children:a.jsx(le.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":eS(u.value)?"":void 0,...i,ref:h,onClick:X(i.onClick,b=>{b.currentTarget.focus(),g.current!=="mouse"&&C(b)}),onPointerDown:X(i.onPointerDown,b=>{g.current=b.pointerType;const _=b.target;_.hasPointerCapture(b.pointerId)&&_.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(C(b),b.preventDefault())}),onKeyDown:X(i.onKeyDown,b=>{const _=x.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(_&&b.key===" ")&&iI.includes(b.key)&&(C(),b.preventDefault())})})})});Ab.displayName=Pb;var Ob="SelectValue",Ib=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:i,children:l,placeholder:u="",...f}=e,h=_r(Ob,n),{onValueNodeHasChildrenChange:m}=h,g=l!==void 0,x=ke(t,h.onValueNodeChange);return nt(()=>{m(g)},[m,g]),a.jsx(le.span,{...f,ref:x,style:{pointerEvents:"none"},children:eS(h.value)?a.jsx(a.Fragment,{children:u}):l})});Ib.displayName=Ob;var fI="SelectIcon",Db=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...i}=e;return a.jsx(le.span,{"aria-hidden":!0,...i,ref:t,children:o||""})});Db.displayName=fI;var hI="SelectPortal",Mb=e=>a.jsx(Oi,{asChild:!0,...e});Mb.displayName=hI;var Yr="SelectContent",Lb=v.forwardRef((e,t)=>{const n=_r(Yr,e.__scopeSelect),[o,i]=v.useState();if(nt(()=>{i(new DocumentFragment)},[]),!n.open){const l=o;return l?so.createPortal(a.jsx($b,{scope:e.__scopeSelect,children:a.jsx(cc.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),l):null}return a.jsx(Fb,{...e,ref:t})});Lb.displayName=Yr;var pn=10,[$b,jr]=ho(Yr),pI="SelectContentImpl",mI=Kr("SelectContent.RemoveScroll"),Fb=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:u,side:f,sideOffset:h,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:w,collisionPadding:S,sticky:C,hideWhenDetached:b,avoidCollisions:_,...E}=e,N=_r(Yr,n),[R,O]=v.useState(null),[M,F]=v.useState(null),$=ke(t,Y=>O(Y)),[W,G]=v.useState(null),[Z,de]=v.useState(null),ee=uc(n),[pe,J]=v.useState(!1),xe=v.useRef(!1);v.useEffect(()=>{if(R)return eh(R)},[R]),Zf();const te=v.useCallback(Y=>{const[fe,...Ne]=ee().map(Qe=>Qe.ref.current),[Re]=Ne.slice(-1),$e=document.activeElement;for(const Qe of Y)if(Qe===$e||(Qe?.scrollIntoView({block:"nearest"}),Qe===fe&&M&&(M.scrollTop=0),Qe===Re&&M&&(M.scrollTop=M.scrollHeight),Qe?.focus(),document.activeElement!==$e))return},[ee,M]),ie=v.useCallback(()=>te([W,R]),[te,W,R]);v.useEffect(()=>{pe&&ie()},[pe,ie]);const{onOpenChange:U,triggerPointerDownPosRef:z}=N;v.useEffect(()=>{if(R){let Y={x:0,y:0};const fe=Re=>{Y={x:Math.abs(Math.round(Re.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(Re.pageY)-(z.current?.y??0))}},Ne=Re=>{Y.x<=10&&Y.y<=10?Re.preventDefault():R.contains(Re.target)||U(!1),document.removeEventListener("pointermove",fe),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[R,U,z]),v.useEffect(()=>{const Y=()=>U(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[U]);const[q,P]=nS(Y=>{const fe=ee().filter($e=>!$e.disabled),Ne=fe.find($e=>$e.ref.current===document.activeElement),Re=rS(fe,Y,Ne);Re&&setTimeout(()=>Re.ref.current.focus())}),B=v.useCallback((Y,fe,Ne)=>{const Re=!xe.current&&!Ne;(N.value!==void 0&&N.value===fe||Re)&&(G(Y),Re&&(xe.current=!0))},[N.value]),he=v.useCallback(()=>R?.focus(),[R]),me=v.useCallback((Y,fe,Ne)=>{const Re=!xe.current&&!Ne;(N.value!==void 0&&N.value===fe||Re)&&de(Y)},[N.value]),Ce=o==="popper"?vf:Ub,je=Ce===vf?{side:f,sideOffset:h,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:w,collisionPadding:S,sticky:C,hideWhenDetached:b,avoidCollisions:_}:{};return a.jsx($b,{scope:n,content:R,viewport:M,onViewportChange:F,itemRefCallback:B,selectedItem:W,onItemLeave:he,itemTextRefCallback:me,focusSelectedItem:ie,selectedItemText:Z,position:o,isPositioned:pe,searchRef:q,children:a.jsx(Xl,{as:mI,allowPinchZoom:!0,children:a.jsx(Yl,{asChild:!0,trapped:N.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:X(i,Y=>{N.trigger?.focus({preventScroll:!0}),Y.preventDefault()}),children:a.jsx(oo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(Ce,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:Y=>Y.preventDefault(),...E,...je,onPlaced:()=>J(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:X(E.onKeyDown,Y=>{const fe=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!fe&&Y.key.length===1&&P(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Re=ee().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const $e=Y.target,Qe=Re.indexOf($e);Re=Re.slice(Qe+1)}setTimeout(()=>te(Re)),Y.preventDefault()}})})})})})})});Fb.displayName=pI;var gI="SelectItemAlignedPosition",Ub=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...i}=e,l=_r(Yr,n),u=jr(Yr,n),[f,h]=v.useState(null),[m,g]=v.useState(null),x=ke(t,$=>g($)),w=uc(n),S=v.useRef(!1),C=v.useRef(!0),{viewport:b,selectedItem:_,selectedItemText:E,focusSelectedItem:N}=u,R=v.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&m&&b&&_&&E){const $=l.trigger.getBoundingClientRect(),W=m.getBoundingClientRect(),G=l.valueNode.getBoundingClientRect(),Z=E.getBoundingClientRect();if(l.dir!=="rtl"){const $e=Z.left-W.left,Qe=G.left-$e,dt=$.left-Qe,rn=$.width+dt,ns=Math.max(rn,W.width),rs=window.innerWidth-pn,Cr=gf(Qe,[pn,Math.max(pn,rs-ns)]);f.style.minWidth=rn+"px",f.style.left=Cr+"px"}else{const $e=W.right-Z.right,Qe=window.innerWidth-G.right-$e,dt=window.innerWidth-$.right-Qe,rn=$.width+dt,ns=Math.max(rn,W.width),rs=window.innerWidth-pn,Cr=gf(Qe,[pn,Math.max(pn,rs-ns)]);f.style.minWidth=rn+"px",f.style.right=Cr+"px"}const de=w(),ee=window.innerHeight-pn*2,pe=b.scrollHeight,J=window.getComputedStyle(m),xe=parseInt(J.borderTopWidth,10),te=parseInt(J.paddingTop,10),ie=parseInt(J.borderBottomWidth,10),U=parseInt(J.paddingBottom,10),z=xe+te+pe+U+ie,q=Math.min(_.offsetHeight*5,z),P=window.getComputedStyle(b),B=parseInt(P.paddingTop,10),he=parseInt(P.paddingBottom,10),me=$.top+$.height/2-pn,Ce=ee-me,je=_.offsetHeight/2,Y=_.offsetTop+je,fe=xe+te+Y,Ne=z-fe;if(fe<=me){const $e=de.length>0&&_===de[de.length-1].ref.current;f.style.bottom="0px";const Qe=m.clientHeight-b.offsetTop-b.offsetHeight,dt=Math.max(Ce,je+($e?he:0)+Qe+ie),rn=fe+dt;f.style.height=rn+"px"}else{const $e=de.length>0&&_===de[0].ref.current;f.style.top="0px";const dt=Math.max(me,xe+b.offsetTop+($e?B:0)+je)+Ne;f.style.height=dt+"px",b.scrollTop=fe-me+b.offsetTop}f.style.margin=`${pn}px 0`,f.style.minHeight=q+"px",f.style.maxHeight=ee+"px",o?.(),requestAnimationFrame(()=>S.current=!0)}},[w,l.trigger,l.valueNode,f,m,b,_,E,l.dir,o]);nt(()=>R(),[R]);const[O,M]=v.useState();nt(()=>{m&&M(window.getComputedStyle(m).zIndex)},[m]);const F=v.useCallback($=>{$&&C.current===!0&&(R(),N?.(),C.current=!1)},[R,N]);return a.jsx(yI,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:S,onScrollButtonChange:F,children:a.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:a.jsx(le.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Ub.displayName=gI;var vI="SelectPopperPosition",vf=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:i=pn,...l}=e,u=dc(n);return a.jsx(Yf,{...u,...l,ref:t,align:o,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vf.displayName=vI;var[yI,_h]=ho(Yr,{}),yf="SelectViewport",zb=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...i}=e,l=jr(yf,n),u=_h(yf,n),f=ke(t,l.onViewportChange),h=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),a.jsx(cc.Slot,{scope:n,children:a.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:X(i.onScroll,m=>{const g=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=u;if(w?.current&&x){const S=Math.abs(h.current-g.scrollTop);if(S>0){const C=window.innerHeight-pn*2,b=parseFloat(x.style.minHeight),_=parseFloat(x.style.height),E=Math.max(b,_);if(E<C){const N=E+S,R=Math.min(C,N),O=N-R;x.style.height=R+"px",x.style.bottom==="0px"&&(g.scrollTop=O>0?O:0,x.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});zb.displayName=yf;var Bb="SelectGroup",[xI,wI]=ho(Bb),bI=v.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,i=Ut();return a.jsx(xI,{scope:n,id:i,children:a.jsx(le.div,{role:"group","aria-labelledby":i,...o,ref:t})})});bI.displayName=Bb;var Vb="SelectLabel",Hb=v.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,i=wI(Vb,n);return a.jsx(le.div,{id:i.id,...o,ref:t})});Hb.displayName=Vb;var Dl="SelectItem",[SI,Wb]=ho(Dl),Kb=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:i=!1,textValue:l,...u}=e,f=_r(Dl,n),h=jr(Dl,n),m=f.value===o,[g,x]=v.useState(l??""),[w,S]=v.useState(!1),C=ke(t,N=>h.itemRefCallback?.(N,o,i)),b=Ut(),_=v.useRef("touch"),E=()=>{i||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(SI,{scope:n,value:o,disabled:i,textId:b,isSelected:m,onItemTextChange:v.useCallback(N=>{x(R=>R||(N?.textContent??"").trim())},[]),children:a.jsx(cc.ItemSlot,{scope:n,value:o,disabled:i,textValue:g,children:a.jsx(le.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:C,onFocus:X(u.onFocus,()=>S(!0)),onBlur:X(u.onBlur,()=>S(!1)),onClick:X(u.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:X(u.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:X(u.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:X(u.onPointerMove,N=>{_.current=N.pointerType,i?h.onItemLeave?.():_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(u.onPointerLeave,N=>{N.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:X(u.onKeyDown,N=>{h.searchRef?.current!==""&&N.key===" "||(aI.includes(N.key)&&E(),N.key===" "&&N.preventDefault())})})})})});Kb.displayName=Dl;var oi="SelectItemText",qb=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:i,...l}=e,u=_r(oi,n),f=jr(oi,n),h=Wb(oi,n),m=dI(oi,n),[g,x]=v.useState(null),w=ke(t,E=>x(E),h.onItemTextChange,E=>f.itemTextRefCallback?.(E,h.value,h.disabled)),S=g?.textContent,C=v.useMemo(()=>a.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:b,onNativeOptionRemove:_}=m;return nt(()=>(b(C),()=>_(C)),[b,_,C]),a.jsxs(a.Fragment,{children:[a.jsx(le.span,{id:h.textId,...l,ref:w}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?so.createPortal(l.children,u.valueNode):null]})});qb.displayName=oi;var Gb="SelectItemIndicator",Qb=v.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return Wb(Gb,n).isSelected?a.jsx(le.span,{"aria-hidden":!0,...o,ref:t}):null});Qb.displayName=Gb;var xf="SelectScrollUpButton",Yb=v.forwardRef((e,t)=>{const n=jr(xf,e.__scopeSelect),o=_h(xf,e.__scopeSelect),[i,l]=v.useState(!1),u=ke(t,o.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=h.scrollTop>0;l(m)};const h=n.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),i?a.jsx(Xb,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=n;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});Yb.displayName=xf;var wf="SelectScrollDownButton",Jb=v.forwardRef((e,t)=>{const n=jr(wf,e.__scopeSelect),o=_h(wf,e.__scopeSelect),[i,l]=v.useState(!1),u=ke(t,o.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let f=function(){const m=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<m;l(g)};const h=n.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),i?a.jsx(Xb,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=n;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});Jb.displayName=wf;var Xb=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...i}=e,l=jr("SelectScrollButton",n),u=v.useRef(null),f=uc(n),h=v.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return v.useEffect(()=>()=>h(),[h]),nt(()=>{f().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),a.jsx(le.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:X(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:X(i.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:X(i.onPointerLeave,()=>{h()})})}),_I="SelectSeparator",Zb=v.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return a.jsx(le.div,{"aria-hidden":!0,...o,ref:t})});Zb.displayName=_I;var bf="SelectArrow",jI=v.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,i=dc(n),l=_r(bf,n),u=jr(bf,n);return l.open&&u.position==="popper"?a.jsx(Jf,{...i,...o,ref:t}):null});jI.displayName=bf;function eS(e){return e===""||e===void 0}var tS=v.forwardRef((e,t)=>{const{value:n,...o}=e,i=v.useRef(null),l=ke(t,i),u=Rb(n);return v.useEffect(()=>{const f=i.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==n&&g){const x=new Event("change",{bubbles:!0});g.call(f,n),f.dispatchEvent(x)}},[u,n]),a.jsx(Ii,{asChild:!0,children:a.jsx("select",{...o,ref:l,defaultValue:n})})});tS.displayName="BubbleSelect";function nS(e){const t=Ge(e),n=v.useRef(""),o=v.useRef(0),i=v.useCallback(u=>{const f=n.current+u;t(f),(function h(m){n.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>h(""),1e3))})(f)},[t]),l=v.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,i,l]}function rS(e,t,n){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=CI(e,Math.max(l,0));i.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function CI(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var EI=Tb,sS=Ab,NI=Ib,kI=Db,RI=Mb,oS=Lb,TI=zb,iS=Hb,aS=Kb,PI=qb,AI=Qb,lS=Yb,cS=Jb,uS=Zb;const ii=EI,ai=NI,Vs=v.forwardRef(({className:e,children:t,...n},o)=>a.jsxs(sS,{ref:o,className:re("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(kI,{asChild:!0,children:a.jsx(Cf,{className:"h-4 w-4 opacity-50"})})]}));Vs.displayName=sS.displayName;const dS=v.forwardRef(({className:e,...t},n)=>a.jsx(lS,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(cj,{className:"h-4 w-4"})}));dS.displayName=lS.displayName;const fS=v.forwardRef(({className:e,...t},n)=>a.jsx(cS,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Cf,{className:"h-4 w-4"})}));fS.displayName=cS.displayName;const Hs=v.forwardRef(({className:e,children:t,position:n="popper",...o},i)=>a.jsx(RI,{children:a.jsxs(oS,{ref:i,className:re("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...o,children:[a.jsx(dS,{}),a.jsx(TI,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(fS,{})]})}));Hs.displayName=oS.displayName;const OI=v.forwardRef(({className:e,...t},n)=>a.jsx(iS,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));OI.displayName=iS.displayName;const Yt=v.forwardRef(({className:e,children:t,...n},o)=>a.jsxs(aS,{ref:o,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(AI,{children:a.jsx(jf,{className:"h-4 w-4"})})}),a.jsx(PI,{children:t})]}));Yt.displayName=aS.displayName;const II=v.forwardRef(({className:e,...t},n)=>a.jsx(uS,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));II.displayName=uS.displayName;function DI({locations:e,selectedId:t,onSelect:n}){return a.jsxs(ii,{value:t||"all",onValueChange:n,children:[a.jsxs(Vs,{className:"w-[200px]","data-testid":"select-location",children:[a.jsx(Js,{className:"h-4 w-4 mr-2 text-primary"}),a.jsx(ai,{placeholder:"All Locations"})]}),a.jsxs(Hs,{children:[a.jsx(Yt,{value:"all",children:"All Locations"}),e.map(o=>a.jsxs(Yt,{value:o.id,children:[o.name,o.city&&a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",o.city,")"]})]},o.id))]})]})}function MI(){const{t:e}=Bt(),[t,n]=v.useState("all"),{data:o}=En({queryKey:["/api/locations"]}),i=(o||[]).filter(S=>S.isActive).map(S=>({id:S.id,name:S.name,city:S.city||void 0})),{data:l,isLoading:u}=En({queryKey:["/api/dashboard/stats",t],queryFn:async()=>{const S=await fetch(`/api/dashboard/stats?locationId=${t}`);if(!S.ok)throw new Error("Failed to fetch stats");return S.json()}}),{data:f,isLoading:h}=En({queryKey:["/api/dashboard/messages"]}),{data:m,isLoading:g}=En({queryKey:["/api/dashboard/activities"]}),{data:x,isLoading:w}=En({queryKey:["/api/dashboard/escalations"]});return a.jsxs("div",{className:"p-6 space-y-6 wave-pattern min-h-screen","data-testid":"dashboard-page",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[e("dashboard.title"),a.jsxs(Le,{variant:"outline",className:"text-primary border-primary/30 font-normal",children:[a.jsx(Ig,{className:"h-3 w-3 mr-1"}),e("dashboard.live")]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("dashboard.subtitle")})]}),a.jsx(DI,{locations:i,selectedId:t,onSelect:n})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u?a.jsx(a.Fragment,{children:[...Array(4)].map((S,C)=>a.jsxs(_e,{className:"p-4",children:[a.jsx(At,{className:"h-4 w-24 mb-2"}),a.jsx(At,{className:"h-8 w-16"})]},C))}):a.jsxs(a.Fragment,{children:[a.jsx(Ue,{title:e("stats.totalConversations"),value:l?.totalConversations||0,subtitle:e("stats.today"),icon:Zt,trend:{value:12,isPositive:!0},variant:"primary"}),a.jsx(Ue,{title:e("stats.activeNow"),value:l?.activeConversations||0,subtitle:e("stats.liveConversations"),icon:Ws,variant:"accent"}),a.jsx(Ue,{title:e("stats.aiResolutionRate"),value:`${l?.aiResolutionRate||0}%`,subtitle:e("stats.withoutHumanIntervention"),icon:$d,trend:{value:5,isPositive:!0},variant:"default"}),a.jsx(Ue,{title:e("stats.escalations"),value:l?.escalations||0,subtitle:e("stats.pendingReview"),icon:Ri,variant:"warning"})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u?a.jsx(a.Fragment,{children:[...Array(4)].map((S,C)=>a.jsxs(_e,{className:"p-4",children:[a.jsx(At,{className:"h-4 w-24 mb-2"}),a.jsx(At,{className:"h-8 w-16"})]},C))}):a.jsxs(a.Fragment,{children:[a.jsx(Ue,{title:e("stats.avgResponseTime"),value:l?.avgResponseTime||"0s",icon:Hn}),a.jsx(Ue,{title:e("stats.messagesProcessed"),value:l?.messagesProcessed||0,subtitle:e("stats.last24Hours"),icon:Ig}),a.jsx(Ue,{title:e("stats.resolvedToday"),value:l?.resolvedToday||0,icon:py}),a.jsx(Ue,{title:e("stats.customerSatisfaction"),value:`${l?.customerSatisfaction||0}%`,icon:Ld,trend:{value:2,isPositive:!0}})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-1 h-[500px]",children:h?a.jsxs(_e,{className:"h-full p-4",children:[a.jsx(At,{className:"h-12 w-full mb-4"}),a.jsx("div",{className:"space-y-3",children:[...Array(5)].map((S,C)=>a.jsx(At,{className:`h-12 ${C%2===0?"w-3/4":"w-2/3 ml-auto"}`},C))})]}):a.jsx(rI,{customerName:"Mara Garca",customerPhone:"+503 7890-1234",messages:f||[],isTyping:!0})}),a.jsx("div",{className:"lg:col-span-1 h-[500px]",children:g?a.jsxs(_e,{className:"h-full p-4",children:[a.jsx(At,{className:"h-6 w-32 mb-4"}),a.jsx("div",{className:"space-y-4",children:[...Array(6)].map((S,C)=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx(At,{className:"h-6 w-6 rounded-full shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(At,{className:"h-4 w-24 mb-2"}),a.jsx(At,{className:"h-3 w-full"})]})]},C))})]}):a.jsx(sI,{activities:m||[]})}),a.jsx("div",{className:"lg:col-span-1 h-[500px]",children:w?a.jsxs(_e,{className:"h-full p-4",children:[a.jsx(At,{className:"h-6 w-32 mb-4"}),a.jsx("div",{className:"space-y-3",children:[...Array(3)].map((S,C)=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsx(At,{className:"h-4 w-24 mb-2"}),a.jsx(At,{className:"h-3 w-full mb-2"}),a.jsx(At,{className:"h-8 w-full"})]},C))})]}):a.jsx(oI,{escalations:x||[],onTakeOver:S=>console.log("Taking over:",S)})})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs(Me,{className:"text-base flex items-center gap-2",children:[a.jsx($d,{className:"h-5 w-5 text-primary"}),e("performance.title")]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold font-mono text-primary",children:"87%"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("performance.firstContactResolution")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold font-mono text-accent",children:"4.8"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e("performance.avgRating")," (5.0)"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold font-mono",children:"2.3s"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("performance.avgResponseTime")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold font-mono text-chart-4",children:"$2.4k"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e("performance.costSavings")," (",e("performance.thisMonth"),")"]})]})]})})]})]})}var jh="Tabs",[LI]=jt(jh,[sc]),hS=sc(),[$I,Ch]=LI(jh),pS=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:i,defaultValue:l,orientation:u="horizontal",dir:f,activationMode:h="automatic",...m}=e,g=fo(f),[x,w]=tn({prop:o,onChange:i,defaultProp:l});return a.jsx($I,{scope:n,baseId:Ut(),value:x,onValueChange:w,orientation:u,dir:g,activationMode:h,children:a.jsx(le.div,{dir:g,"data-orientation":u,...m,ref:t})})});pS.displayName=jh;var mS="TabsList",gS=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...i}=e,l=Ch(mS,n),u=hS(n);return a.jsx(f0,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:o,children:a.jsx(le.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});gS.displayName=mS;var vS="TabsTrigger",yS=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:i=!1,...l}=e,u=Ch(vS,n),f=hS(n),h=bS(u.baseId,o),m=SS(u.baseId,o),g=o===u.value;return a.jsx(h0,{asChild:!0,...f,focusable:!i,active:g,children:a.jsx(le.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...l,ref:t,onMouseDown:X(e.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?u.onValueChange(o):x.preventDefault()}),onKeyDown:X(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(o)}),onFocus:X(e.onFocus,()=>{const x=u.activationMode!=="manual";!g&&!i&&x&&u.onValueChange(o)})})})});yS.displayName=vS;var xS="TabsContent",wS=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:i,children:l,...u}=e,f=Ch(xS,n),h=bS(f.baseId,o),m=SS(f.baseId,o),g=o===f.value,x=v.useRef(g);return v.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),a.jsx(bt,{present:i||g,children:({present:w})=>a.jsx(le.div,{"data-state":g?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:w&&l})})});wS.displayName=xS;function bS(e,t){return`${e}-trigger-${t}`}function SS(e,t){return`${e}-content-${t}`}var FI=pS,_S=gS,jS=yS,CS=wS;const fc=FI,zi=v.forwardRef(({className:e,...t},n)=>a.jsx(_S,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zi.displayName=_S.displayName;const kn=v.forwardRef(({className:e,...t},n)=>a.jsx(jS,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));kn.displayName=jS.displayName;const vl=v.forwardRef(({className:e,...t},n)=>a.jsx(CS,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));vl.displayName=CS.displayName;function UI(){const{t:e}=Bt(),[t,n]=v.useState("all"),[o,i]=v.useState(""),{data:l=[],isLoading:u}=En({queryKey:["/api/conversations"]}),f=l.filter(g=>{const x=g.customerName?.toLowerCase().includes(o.toLowerCase())||g.customerPhone?.includes(o);return t==="all"?x:t==="active"?g.status==="active"&&x:t==="resolved"?g.status==="resolved"&&x:t==="escalated"?g.status==="escalated"&&x:x}),h=g=>{switch(g){case"active":return a.jsx(Le,{className:"bg-accent/20 text-accent border-accent/30",children:e("conversations.active")});case"resolved":return a.jsx(Le,{variant:"secondary",children:e("conversations.resolved")});case"escalated":return a.jsx(Le,{variant:"destructive",children:e("conversations.escalated")});default:return null}},m=g=>{const w=new Date().getTime()-new Date(g).getTime(),S=Math.floor(w/6e4);if(S<1)return e("activity.justNow");if(S<60)return e("activity.minAgo").replace("{min}",String(S));const C=Math.floor(S/60);return C<24?e("activity.hoursAgo").replace("{hours}",String(C)):new Date(g).toLocaleDateString("es-SV")};return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"conversations-page",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("conversations.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("conversations.subtitle")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1 sm:w-64",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(qn,{placeholder:e("conversations.search"),className:"pl-9",value:o,onChange:g=>i(g.target.value),"data-testid":"input-search-conversations"})]}),a.jsx(Te,{variant:"outline",size:"icon","data-testid":"button-filter",children:a.jsx(gy,{className:"h-4 w-4"})})]})]}),a.jsx(fc,{value:t,onValueChange:n,children:a.jsxs(zi,{children:[a.jsx(kn,{value:"all","data-testid":"tab-all",children:e("conversations.all")}),a.jsx(kn,{value:"active","data-testid":"tab-active",children:e("conversations.active")}),a.jsx(kn,{value:"resolved","data-testid":"tab-resolved",children:e("conversations.resolved")}),a.jsx(kn,{value:"escalated","data-testid":"tab-escalated",children:e("conversations.escalated")})]})}),a.jsxs(_e,{children:[a.jsx(De,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zt,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("conversations.title")})]}),a.jsxs(Le,{variant:"secondary",children:[f.length," ",e("conversations.messages")]})]})}),a.jsx(Ae,{className:"p-0",children:u?a.jsx("div",{className:"p-8 text-center text-muted-foreground",children:e("common.loading")}):f.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Zt,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),a.jsx("p",{className:"font-medium",children:e("conversations.noConversations")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("conversations.startNew")})]}):a.jsx(On,{className:"h-[calc(100vh-320px)]",children:a.jsx("div",{className:"divide-y divide-border",children:f.map(g=>a.jsx("div",{className:"p-4 hover-elevate cursor-pointer","data-testid":`conversation-item-${g.id}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Xr,{className:"h-10 w-10 shrink-0",children:a.jsx(Zr,{className:"bg-primary/10 text-primary",children:g.customerName?.split(" ").map(x=>x[0]).join("").slice(0,2)||"??"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:"font-medium truncate",children:g.customerName||"Unknown"}),g.aiHandled&&a.jsx(en,{className:"h-3.5 w-3.5 text-primary shrink-0"})]}),a.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:m(g.lastMessageAt)})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate mb-2",children:g.customerPhone}),a.jsxs("div",{className:"flex items-center gap-2",children:[h(g.status),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.messageCount," ",e("conversations.messages")]})]})]})]})},g.id))})})})]})]})}function zI(){const{t:e}=Bt(),[t,n]=v.useState(""),{data:o=[],isLoading:i}=En({queryKey:["/api/customers"]}),l=o.filter(f=>f.name?.toLowerCase().includes(t.toLowerCase())||f.phone?.includes(t)||f.email?.toLowerCase().includes(t.toLowerCase())),u=f=>f?new Date(f).toLocaleDateString("es-SV",{day:"numeric",month:"short",year:"numeric"}):"-";return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"customers-page",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("customers.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("customers.subtitle")})]}),a.jsxs(Te,{className:"gold-gradient","data-testid":"button-add-customer",children:[a.jsx(pi,{className:"h-4 w-4 mr-2"}),e("customers.addCustomer")]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ue,{title:e("customers.totalCustomers"),value:o.length.toString(),icon:Ws}),a.jsx(Ue,{title:e("customers.activeThisMonth"),value:Math.floor(o.length*.7).toString(),icon:Pj,variant:"accent"}),a.jsx(Ue,{title:e("customers.newThisWeek"),value:"12",icon:pi,trend:{value:15,isPositive:!0}}),a.jsx(Ue,{title:e("customers.avgOrderValue"),value:"$18.50",icon:Zs,variant:"primary"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(qn,{placeholder:e("customers.search"),className:"pl-9 max-w-md",value:t,onChange:f=>n(f.target.value),"data-testid":"input-search-customers"})]}),a.jsxs(_e,{children:[a.jsx(De,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ws,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("customers.title")}),a.jsx(Le,{variant:"secondary",className:"ml-auto",children:l.length})]})}),a.jsx(Ae,{className:"p-0",children:i?a.jsx("div",{className:"p-8 text-center text-muted-foreground",children:e("common.loading")}):l.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Ws,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),a.jsx("p",{className:"font-medium",children:e("customers.noCustomers")})]}):a.jsx(On,{className:"h-[calc(100vh-420px)]",children:a.jsx("div",{className:"divide-y divide-border",children:l.map(f=>a.jsx("div",{className:"p-4 hover-elevate","data-testid":`customer-item-${f.id}`,children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Xr,{className:"h-12 w-12 shrink-0",children:a.jsx(Zr,{className:"bg-primary/10 text-primary",children:f.name?.split(" ").map(h=>h[0]).join("").slice(0,2)||"??"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium",children:f.name}),f.isVip&&a.jsx(Le,{className:"bg-primary/20 text-primary border-0 text-xs",children:"VIP"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Xs,{className:"h-3 w-3"}),f.phone]}),f.email&&a.jsx("span",{className:"truncate",children:f.email})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[f.totalOrders||0," ",e("customers.orders")]}),a.jsxs("span",{children:[e("customers.lastOrder"),": ",u(f.lastOrderDate)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(Te,{variant:"ghost",size:"icon","data-testid":`button-message-${f.id}`,children:a.jsx(Zt,{className:"h-4 w-4"})}),a.jsx(Te,{variant:"ghost",size:"icon","data-testid":`button-call-${f.id}`,children:a.jsx(Xs,{className:"h-4 w-4"})})]})]})},f.id))})})})]})]})}function BI(){const{t:e}=Bt(),{data:t=[],isLoading:n}=En({queryKey:["/api/locations"]}),o=i=>{const u=new Date().getHours();return u>=7&&u<20};return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"locations-page",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("locations.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("locations.subtitle")})]}),a.jsxs(Te,{className:"gold-gradient","data-testid":"button-add-location",children:[a.jsx(pi,{className:"h-4 w-4 mr-2"}),e("locations.addLocation")]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ue,{title:e("locations.totalLocations"),value:t.length.toString(),icon:Js}),a.jsx(Ue,{title:e("locations.activeToday"),value:t.filter(i=>o()).length.toString(),icon:Hn,variant:"accent"}),a.jsx(Ue,{title:e("locations.totalOrders"),value:"1,234",icon:Zs,subtitle:e("stats.today")}),a.jsx(Ue,{title:e("locations.avgRating"),value:"4.8",icon:Ld,variant:"primary"})]}),a.jsxs(_e,{children:[a.jsx(De,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Js,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("locations.title")})]})}),a.jsx(Ae,{className:"p-0",children:n?a.jsx("div",{className:"p-8 text-center text-muted-foreground",children:e("common.loading")}):a.jsx(On,{className:"h-[calc(100vh-380px)]",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 p-4",children:t.map(i=>a.jsx(_e,{className:"border hover-elevate","data-testid":`location-item-${i.id}`,children:a.jsxs(Ae,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:i.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.address})]}),a.jsx(Le,{className:o()?"bg-accent/20 text-accent border-accent/30":"bg-muted text-muted-foreground",children:o()?e("locations.open"):e("locations.closed")})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Xs,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:i.phone})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Zt,{className:"h-4 w-4"}),i.conversationsToday||0," ",e("locations.conversations")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Zs,{className:"h-4 w-4"}),i.ordersToday||0," ",e("locations.ordersToday")]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Ld,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:i.rating||"4.8"}),a.jsx("span",{className:"text-muted-foreground",children:"/ 5.0"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-view-${i.id}`,children:e("locations.viewDetails")}),a.jsx(Te,{variant:"ghost",size:"sm","data-testid":`button-edit-${i.id}`,children:e("locations.editLocation")})]})]})},i.id))})})})]})]})}function VI(){const{t:e}=Bt(),[t,n]=v.useState(""),[o,i]=v.useState("all"),{data:l=[],isLoading:u}=En({queryKey:["/api/services"]}),f=[{id:"all",name:"Todos"},{id:"lavado",name:"Lavado"},{id:"edredones",name:"Edredones"},{id:"drip",name:"DRIP Zapatos"},{id:"extras",name:"Extras"},{id:"delivery",name:"Delivery"}],h=l.filter(g=>{const x=g.name?.toLowerCase().includes(t.toLowerCase()),w=o==="all"||g.category===o;return x&&w}),m=g=>`$${g.toFixed(2)}`;return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"services-page",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("services.title")||"Servicios"}),a.jsx("p",{className:"text-muted-foreground",children:e("services.subtitle")||"Gestiona precios y servicios"})]}),a.jsxs(Te,{className:"gold-gradient","data-testid":"button-add-service",children:[a.jsx(pi,{className:"h-4 w-4 mr-2"}),"Agregar Servicio"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ue,{title:"Total Servicios",value:l.length.toString(),icon:Wr}),a.jsx(Ue,{title:"Categoras",value:"5",icon:Rj,variant:"accent"}),a.jsx(Ue,{title:"Servicio Ms Popular",value:"Lavado+Sec",icon:en,variant:"primary"}),a.jsx(Ue,{title:"Ingreso Promedio",value:"$6.50",icon:hi})]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(qn,{placeholder:"Buscar servicios...",className:"pl-9",value:t,onChange:g=>n(g.target.value),"data-testid":"input-search-services"})]})}),a.jsx(fc,{value:o,onValueChange:i,children:a.jsx(zi,{className:"flex-wrap h-auto",children:f.map(g=>a.jsx(kn,{value:g.id,"data-testid":`tab-${g.id}`,children:g.name},g.id))})}),a.jsxs(_e,{children:[a.jsx(De,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:"Catlogo de Servicios"}),a.jsx(Le,{variant:"secondary",className:"ml-auto",children:h.length})]})}),a.jsx(Ae,{className:"p-0",children:u?a.jsx("div",{className:"p-8 text-center text-muted-foreground",children:e("common.loading")}):h.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Wr,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),a.jsx("p",{className:"font-medium",children:"No hay servicios"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Agrega servicios al catlogo"})]}):a.jsx(On,{className:"h-[calc(100vh-480px)]",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 p-4",children:h.map(g=>a.jsx(_e,{className:"border hover-elevate","data-testid":`service-item-${g.id}`,children:a.jsxs(Ae,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:g.name}),a.jsx(Le,{variant:"outline",className:"mt-1 text-xs",children:g.category})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"text-xl font-bold text-primary",children:m(g.price)})})]}),g.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:g.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Te,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-edit-${g.id}`,children:[a.jsx(_j,{className:"h-3 w-3 mr-1"}),"Editar"]}),a.jsx(Le,{className:g.isActive!==!1?"bg-accent/20 text-accent border-accent/30":"bg-muted text-muted-foreground",children:g.isActive!==!1?"Activo":"Inactivo"})]})]})},g.id))})})})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsx(Me,{className:"text-base",children:"Tabla de Precios Rpida"})}),a.jsx(Ae,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),"Cargas de Ropa"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"Carga Normal (L+S)"}),a.jsx("span",{className:"font-medium",children:"$5.50"})]}),a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"Carga Pesada (L+S)"}),a.jsx("span",{className:"font-medium",children:"$6.50"})]}),a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"Solo Lavado"}),a.jsx("span",{className:"font-medium",children:"$3.00"})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-accent"}),"DRIP Zapatos"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"DRIP Bsico"}),a.jsx("span",{className:"font-medium",children:"$9.90"})]}),a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"DRIP Especial"}),a.jsx("span",{className:"font-medium",children:"$12.90"})]}),a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"DRIP Premium"}),a.jsx("span",{className:"font-medium",children:"$16.90"})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-chart-3"}),"Edredones"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"1.20-1.40m"}),a.jsx("span",{className:"font-medium",children:"$6.50"})]}),a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"1.60m"}),a.jsx("span",{className:"font-medium",children:"$7.50"})]}),a.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[a.jsx("span",{children:"2.00m+"}),a.jsx("span",{className:"font-medium",children:"$8.50+"})]})]})]})]})})]})]})}function HI(){const{t:e}=Bt(),[t,n]=v.useState(""),[o,i]=v.useState("all"),{data:l=[],isLoading:u}=En({queryKey:["/api/orders"]}),f=[{id:"all",name:"Todos"},{id:"pending",name:"Pendientes"},{id:"processing",name:"En Proceso"},{id:"ready",name:"Listos"},{id:"delivered",name:"Entregados"},{id:"cancelled",name:"Cancelados"}],h=l.filter(_=>{const E=_.customerName?.toLowerCase().includes(t.toLowerCase())||_.customerPhone?.includes(t)||_.id?.includes(t),N=o==="all"||_.status===o;return E&&N}),m=_=>{switch(_){case"pending":return a.jsx(Le,{className:"bg-yellow-500/20 text-yellow-600 border-yellow-500/30",children:"Pendiente"});case"processing":return a.jsx(Le,{className:"bg-blue-500/20 text-blue-600 border-blue-500/30",children:"En Proceso"});case"ready":return a.jsx(Le,{className:"bg-accent/20 text-accent border-accent/30",children:"Listo"});case"delivered":return a.jsx(Le,{variant:"secondary",children:"Entregado"});case"cancelled":return a.jsx(Le,{variant:"destructive",children:"Cancelado"});default:return a.jsx(Le,{variant:"outline",children:_})}},g=_=>_?new Date(_).toLocaleDateString("es-SV",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"-",x=_=>_?`$${_.toFixed(2)}`:"$0.00",w=l.filter(_=>_.status==="pending").length,S=l.filter(_=>_.status==="processing").length,C=l.filter(_=>_.status==="ready").length,b=l.filter(_=>_.status==="delivered"&&_.createdAt&&new Date(_.createdAt).toDateString()===new Date().toDateString()).reduce((_,E)=>_+(E.totalAmount||0),0);return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"orders-page",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("orders.title")||"Pedidos"}),a.jsx("p",{className:"text-muted-foreground",children:e("orders.subtitle")||"Gestiona pedidos y entregas"})]}),a.jsxs(Te,{className:"gold-gradient","data-testid":"button-new-order",children:[a.jsx(pi,{className:"h-4 w-4 mr-2"}),"Nuevo Pedido"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ue,{title:"Pedidos Pendientes",value:w.toString(),icon:Hn,variant:"warning"}),a.jsx(Ue,{title:"En Proceso",value:S.toString(),icon:Wr,variant:"primary"}),a.jsx(Ue,{title:"Listos para Entrega",value:C.toString(),icon:yl,variant:"accent"}),a.jsx(Ue,{title:"Ingresos Hoy",value:x(b),icon:hi,trend:{value:8,isPositive:!0}})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(qn,{placeholder:"Buscar por cliente, telfono o # pedido...",className:"pl-9",value:t,onChange:_=>n(_.target.value),"data-testid":"input-search-orders"})]}),a.jsx(Te,{variant:"outline",size:"icon","data-testid":"button-filter",children:a.jsx(gy,{className:"h-4 w-4"})})]}),a.jsx(fc,{value:o,onValueChange:i,children:a.jsx(zi,{className:"flex-wrap h-auto",children:f.map(_=>a.jsx(kn,{value:_.id,"data-testid":`tab-${_.id}`,children:_.name},_.id))})}),a.jsxs(_e,{children:[a.jsx(De,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zs,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:"Lista de Pedidos"})]}),a.jsxs(Le,{variant:"secondary",children:[h.length," pedidos"]})]})}),a.jsx(Ae,{className:"p-0",children:u?a.jsx("div",{className:"p-8 text-center text-muted-foreground",children:e("common.loading")}):h.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Zs,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),a.jsx("p",{className:"font-medium",children:"No hay pedidos"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Los pedidos aparecern aqu"})]}):a.jsx(On,{className:"h-[calc(100vh-480px)]",children:a.jsx("div",{className:"divide-y divide-border",children:h.map(_=>a.jsx("div",{className:"p-4 hover-elevate","data-testid":`order-item-${_.id}`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Xr,{className:"h-10 w-10 shrink-0",children:a.jsx(Zr,{className:"bg-primary/10 text-primary",children:_.customerName?.split(" ").map(E=>E[0]).join("").slice(0,2)||"??"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium",children:_.customerName||"Cliente"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",_.id.slice(0,8)]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[_.customerPhone,_.locationName&&`  ${_.locationName}`]}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[m(_.status),_.hasDelivery&&a.jsxs(Le,{variant:"outline",className:"text-xs",children:[a.jsx(dd,{className:"h-3 w-3 mr-1"}),"Delivery"]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:g(_.createdAt)})]})]}),a.jsxs("div",{className:"text-right shrink-0",children:[a.jsx("div",{className:"text-lg font-bold text-primary mb-2",children:x(_.totalAmount)}),a.jsxs(Te,{variant:"ghost",size:"sm","data-testid":`button-view-${_.id}`,children:[a.jsx(hj,{className:"h-4 w-4 mr-1"}),"Ver"]})]})]})},_.id))})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(_e,{children:[a.jsx(De,{children:a.jsx(Me,{className:"text-base",children:"Resumen del Da"})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"h-4 w-4 text-yellow-600"}),a.jsx("span",{children:"Pendientes"})]}),a.jsx("span",{className:"font-bold",children:w})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{children:"En Proceso"})]}),a.jsx("span",{className:"font-bold",children:S})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yl,{className:"h-4 w-4 text-accent"}),a.jsx("span",{children:"Listos"})]}),a.jsx("span",{className:"font-bold",children:C})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dd,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:"Entregados Hoy"})]}),a.jsx("span",{className:"font-bold",children:l.filter(_=>_.status==="delivered"&&_.createdAt&&new Date(_.createdAt).toDateString()===new Date().toDateString()).length})]})]})})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsx(Me,{className:"text-base",children:"Acciones Rpidas"})}),a.jsxs(Ae,{className:"space-y-3",children:[a.jsxs(Te,{variant:"outline",className:"w-full justify-start","data-testid":"button-pending-today",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Ver Pedidos Pendientes"]}),a.jsxs(Te,{variant:"outline",className:"w-full justify-start","data-testid":"button-ready-delivery",children:[a.jsx(dd,{className:"h-4 w-4 mr-2"}),"Pedidos Listos para Delivery"]}),a.jsxs(Te,{variant:"outline",className:"w-full justify-start","data-testid":"button-export-report",children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Exportar Reporte del Da"]})]})]})]})]})}function WI(){const{t:e}=Bt(),t=[{day:"Lun",conversations:45,resolved:42},{day:"Mar",conversations:52,resolved:48},{day:"Mi",conversations:38,resolved:35},{day:"Jue",conversations:61,resolved:58},{day:"Vie",conversations:55,resolved:51},{day:"Sb",conversations:72,resolved:68},{day:"Dom",conversations:31,resolved:29}],n=[{name:"San Miguel - Casa Matriz",conversations:245,revenue:"$4,250"},{name:"Santa Ana",conversations:198,revenue:"$3,890"},{name:"Lourdes Coln",conversations:156,revenue:"$2,780"},{name:"San Miguel - Col. Gavidia",conversations:134,revenue:"$2,450"},{name:"Usulutn",conversations:112,revenue:"$2,100"}],o=[{hour:"8:00",volume:15},{hour:"9:00",volume:28},{hour:"10:00",volume:45},{hour:"11:00",volume:52},{hour:"12:00",volume:38},{hour:"13:00",volume:25},{hour:"14:00",volume:42},{hour:"15:00",volume:55},{hour:"16:00",volume:48},{hour:"17:00",volume:62},{hour:"18:00",volume:35}];return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"analytics-page",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("analytics.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ue,{title:e("stats.totalConversations"),value:"1,247",icon:Zt,trend:{value:12,isPositive:!0}}),a.jsx(Ue,{title:e("stats.aiResolutionRate"),value:"94%",icon:en,variant:"primary",trend:{value:5,isPositive:!0}}),a.jsx(Ue,{title:e("stats.avgResponseTime"),value:"2.3s",icon:Hn,variant:"accent"}),a.jsx(Ue,{title:e("performance.costSavings"),value:"$8,450",icon:hi,trend:{value:18,isPositive:!0}})]}),a.jsxs(fc,{defaultValue:"overview",children:[a.jsxs(zi,{children:[a.jsx(kn,{value:"overview","data-testid":"tab-overview",children:e("analytics.overview")}),a.jsx(kn,{value:"conversations","data-testid":"tab-conversations",children:e("analytics.conversations")}),a.jsx(kn,{value:"revenue","data-testid":"tab-revenue",children:e("analytics.revenue")})]}),a.jsxs(vl,{value:"overview",className:"mt-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_f,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("analytics.conversationVolume")})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"space-y-3",children:t.map((i,l)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-10 text-sm text-muted-foreground",children:i.day}),a.jsx("div",{className:"flex-1 h-8 bg-muted rounded-md overflow-hidden flex",children:a.jsx("div",{className:"h-full bg-primary/80",style:{width:`${i.conversations/80*100}%`}})}),a.jsx("span",{className:"w-8 text-sm font-medium text-right",children:i.conversations})]},l))})})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(en,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("analytics.aiVsHuman")})]})}),a.jsxs(Ae,{children:[a.jsxs("div",{className:"flex items-center justify-center gap-8 py-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 rounded-full border-8 border-primary flex items-center justify-center mb-2",children:a.jsx("span",{className:"text-2xl font-bold",children:"94%"})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"IA"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 rounded-full border-8 border-accent flex items-center justify-center mb-2",children:a.jsx("span",{className:"text-2xl font-bold",children:"6%"})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Humano"})]})]}),a.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"1,172 resueltas por IA  75 por agentes humanos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Js,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("analytics.topLocations")})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"space-y-3",children:n.map((i,l)=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs flex items-center justify-center font-medium",children:l+1}),a.jsx("span",{className:"font-medium text-sm",children:i.name})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:[i.conversations," conv."]}),a.jsx("span",{className:"font-medium text-accent",children:i.revenue})]})]},l))})})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("analytics.peakHours")})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"flex items-end justify-between h-40 gap-1",children:o.map((i,l)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[a.jsx("div",{className:"w-full bg-primary/80 rounded-t",style:{height:`${i.volume/70*100}%`}}),a.jsx("span",{className:"text-[10px] text-muted-foreground",children:i.hour.split(":")[0]})]},l))})})]})]})]}),a.jsxs(vl,{value:"conversations",className:"mt-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zt,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:"Mtricas de Conversacin"})]})}),a.jsxs(Ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:"Tiempo promedio de respuesta"}),a.jsx("span",{className:"font-mono font-medium",children:"2.3s"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:"Mensajes por conversacin"}),a.jsx("span",{className:"font-mono font-medium",children:"4.2"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:"Tasa de resolucin en primer contacto"}),a.jsx("span",{className:"font-mono font-medium text-accent",children:"87%"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:"Satisfaccin del cliente"}),a.jsx("span",{className:"font-mono font-medium text-primary",children:"4.8/5.0"})]})]})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($d,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:"Temas Frecuentes"})]})}),a.jsx(Ae,{className:"space-y-3",children:[{topic:"Precios de servicios",count:312,percentage:45},{topic:"Horarios y sucursales",count:198,percentage:29},{topic:"Estado de pedidos",count:156,percentage:23},{topic:"Servicio delivery",count:134,percentage:19},{topic:"Lavado de zapatos (DRIP)",count:89,percentage:13}].map((i,l)=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:i.topic}),a.jsxs("span",{className:"text-muted-foreground",children:[i.count," consultas"]})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary/80 rounded-full",style:{width:`${i.percentage*2}%`}})})]},l))})]})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ws,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:"Conversaciones por Canal"})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-accent/10 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-accent mb-1",children:"94%"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp"})]}),a.jsxs("div",{className:"text-center p-4 bg-primary/10 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:"4%"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sitio Web"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:"2%"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Telfono"})]})]})})]})]}),a.jsxs(vl,{value:"revenue",className:"mt-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(_e,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Ingresos del Mes"}),a.jsx("div",{className:"text-2xl font-bold text-accent",children:"$15,470"}),a.jsx("div",{className:"text-xs text-accent mt-1",children:"+12% vs mes anterior"})]}),a.jsxs(_e,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Pedidos Completados"}),a.jsx("div",{className:"text-2xl font-bold",children:"1,847"}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Este mes"})]}),a.jsxs(_e,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Ticket Promedio"}),a.jsx("div",{className:"text-2xl font-bold",children:"$8.38"}),a.jsx("div",{className:"text-xs text-primary mt-1",children:"+5% vs mes anterior"})]}),a.jsxs(_e,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Delivery Generado"}),a.jsx("div",{className:"text-2xl font-bold",children:"$1,240"}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"620 entregas"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hi,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:"Ingresos por Servicio"})]})}),a.jsx(Ae,{className:"space-y-3",children:[{service:"Lavado + Secado",revenue:"$8,250",orders:1250,color:"bg-primary"},{service:"Edredones",revenue:"$2,890",orders:385,color:"bg-accent"},{service:"DRIP Zapatos",revenue:"$2,150",orders:165,color:"bg-chart-3"},{service:"Solo Lavado",revenue:"$1,450",orders:483,color:"bg-chart-4"},{service:"Delivery",revenue:"$730",orders:365,color:"bg-chart-5"}].map((i,l)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${i.color}`}),a.jsx("span",{className:"font-medium text-sm",children:i.service})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:[i.orders," pedidos"]}),a.jsx("span",{className:"font-medium",children:i.revenue})]})]},l))})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Js,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:"Ingresos por Sucursal"})]})}),a.jsx(Ae,{className:"space-y-3",children:n.map((i,l)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs flex items-center justify-center font-medium",children:l+1}),a.jsx("span",{className:"font-medium text-sm",children:i.name})]}),a.jsx("span",{className:"font-medium text-accent",children:i.revenue})]},l))})]})]})]})]})]})}const KI=[{id:"1",type:"escalation",title:"Nueva escalacin",message:"Jos Lpez solicita atencin urgente sobre ropa daada",timestamp:new Date(Date.now()-5*6e4),read:!1},{id:"2",type:"resolved",title:"Conversacin resuelta",message:"La consulta de Mara Garca fue resuelta por IA",timestamp:new Date(Date.now()-15*6e4),read:!1},{id:"3",type:"customer",title:"Nuevo cliente",message:"Ana Martnez se ha registrado desde WhatsApp",timestamp:new Date(Date.now()-30*6e4),read:!1},{id:"4",type:"system",title:"Actualizacin del sistema",message:"El modelo de IA ha sido actualizado a la versin 2.5",timestamp:new Date(Date.now()-2*36e5),read:!0},{id:"5",type:"escalation",title:"Escalacin pendiente",message:"Miguel Torres espera respuesta sobre pedido retrasado",timestamp:new Date(Date.now()-3*36e5),read:!0},{id:"6",type:"resolved",title:"Conversacin resuelta",message:"Consulta de Carlos Hernndez sobre horarios resuelta",timestamp:new Date(Date.now()-5*36e5),read:!0},{id:"7",type:"customer",title:"Cliente VIP",message:"Rosa Meja ha alcanzado el estado VIP con 50 pedidos",timestamp:new Date(Date.now()-24*36e5),read:!0}];function qI(){const{t:e}=Bt(),[t,n]=v.useState(KI),o=t.filter(g=>!g.read).length,i=()=>{n(t.map(g=>({...g,read:!0})))},l=g=>{switch(g){case"escalation":return a.jsx(Ri,{className:"h-5 w-5 text-destructive"});case"resolved":return a.jsx(yl,{className:"h-5 w-5 text-accent"});case"customer":return a.jsx(Tj,{className:"h-5 w-5 text-primary"});case"system":return a.jsx(Ef,{className:"h-5 w-5 text-muted-foreground"})}},u=g=>{const w=new Date().getTime()-g.getTime(),S=Math.floor(w/6e4);if(S<1)return e("activity.justNow");if(S<60)return e("activity.minAgo").replace("{min}",String(S));const C=Math.floor(S/60);return C<24?e("activity.hoursAgo").replace("{hours}",String(C)):g.toLocaleDateString("es-SV")},h=(()=>{const g=[],x=[],w=[],S=new Date,C=new Date(S.getFullYear(),S.getMonth(),S.getDate()),b=new Date(C.getTime()-24*36e5);return t.forEach(_=>{const E=new Date(_.timestamp);E>=C?g.push(_):E>=b?x.push(_):w.push(_)}),{today:g,yesterday:x,earlier:w}})(),m=(g,x)=>x.length===0?null:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground px-1",children:g}),x.map(w=>a.jsx("div",{className:`p-4 rounded-lg border ${w.read?"bg-background":"bg-primary/5 border-primary/20"} hover-elevate`,"data-testid":`notification-item-${w.id}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"shrink-0 mt-0.5",children:l(w.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-sm",children:w.title}),a.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:u(w.timestamp)})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.message})]}),!w.read&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-2"})]})},w.id))]});return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"notifications-page",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("notifications.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("notifications.subtitle")})]}),o>0&&a.jsxs(Te,{variant:"outline",onClick:i,"data-testid":"button-mark-all-read",children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),e("notifications.markAllRead")]})]}),a.jsxs(_e,{children:[a.jsx(De,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fi,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("notifications.title")})]}),o>0&&a.jsxs(Le,{variant:"destructive",children:[o," sin leer"]})]})}),a.jsx(Ae,{children:t.length===0?a.jsxs("div",{className:"py-12 text-center",children:[a.jsx(fi,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),a.jsx("p",{className:"font-medium",children:e("notifications.noNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("notifications.allCaughtUp")})]}):a.jsx(On,{className:"h-[calc(100vh-300px)]",children:a.jsxs("div",{className:"space-y-6",children:[m(e("notifications.today"),h.today),m(e("notifications.yesterday"),h.yesterday),m(e("notifications.earlier"),h.earlier)]})})})]})]})}var Eh="Switch",[GI]=jt(Eh),[QI,YI]=GI(Eh),ES=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:o,checked:i,defaultChecked:l,required:u,disabled:f,value:h="on",onCheckedChange:m,form:g,...x}=e,[w,S]=v.useState(null),C=ke(t,R=>S(R)),b=v.useRef(!1),_=w?g||!!w.closest("form"):!0,[E=!1,N]=tn({prop:i,defaultProp:l,onChange:m});return a.jsxs(QI,{scope:n,checked:E,disabled:f,children:[a.jsx(le.button,{type:"button",role:"switch","aria-checked":E,"aria-required":u,"data-state":RS(E),"data-disabled":f?"":void 0,disabled:f,value:h,...x,ref:C,onClick:X(e.onClick,R=>{N(O=>!O),_&&(b.current=R.isPropagationStopped(),b.current||R.stopPropagation())})}),_&&a.jsx(JI,{control:w,bubbles:!b.current,name:o,value:h,checked:E,required:u,disabled:f,form:g,style:{transform:"translateX(-100%)"}})]})});ES.displayName=Eh;var NS="SwitchThumb",kS=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...o}=e,i=YI(NS,n);return a.jsx(le.span,{"data-state":RS(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})});kS.displayName=NS;var JI=e=>{const{control:t,checked:n,bubbles:o=!0,...i}=e,l=v.useRef(null),u=Rb(n),f=Px(t);return v.useEffect(()=>{const h=l.current,m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&x){const w=new Event("click",{bubbles:o});x.call(h,n),h.dispatchEvent(w)}},[u,n,o]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function RS(e){return e?"checked":"unchecked"}var TS=ES,XI=kS;const zs=v.forwardRef(({className:e,...t},n)=>a.jsx(TS,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(XI,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));zs.displayName=TS.displayName;function ZI(){const{t:e,language:t,setLanguage:n}=Bt();return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"settings-page",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("settings.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("settings.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pj,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx(Me,{className:"text-base",children:e("settings.general")}),a.jsx(li,{children:"Configuracin general de la aplicacin"})]})]})}),a.jsxs(Ae,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:e("settings.language")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona el idioma de la interfaz"})]}),a.jsxs(ii,{value:t,onValueChange:o=>n(o),children:[a.jsx(Vs,{className:"w-40","data-testid":"select-language",children:a.jsx(ai,{})}),a.jsxs(Hs,{children:[a.jsx(Yt,{value:"es",children:"Espaol"}),a.jsx(Yt,{value:"en",children:"English"})]})]})]}),a.jsx(tf,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:e("settings.timezone")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Zona horaria para fechas y horas"})]}),a.jsxs(ii,{defaultValue:"america_el_salvador",children:[a.jsx(Vs,{className:"w-48","data-testid":"select-timezone",children:a.jsx(ai,{})}),a.jsxs(Hs,{children:[a.jsx(Yt,{value:"america_el_salvador",children:"America/El_Salvador"}),a.jsx(Yt,{value:"america_guatemala",children:"America/Guatemala"}),a.jsx(Yt,{value:"america_mexico_city",children:"America/Mexico_City"})]})]})]}),a.jsx(tf,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:e("settings.currency")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Moneda para precios y totales"})]}),a.jsxs(ii,{defaultValue:"usd",children:[a.jsx(Vs,{className:"w-40","data-testid":"select-currency",children:a.jsx(ai,{})}),a.jsx(Hs,{children:a.jsx(Yt,{value:"usd",children:"USD ($)"})})]})]})]})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fi,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx(Me,{className:"text-base",children:e("settings.notifications")}),a.jsx(li,{children:"Configura cmo recibir alertas"})]})]})}),a.jsxs(Ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:"Notificaciones de escalaciones"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Recibe alertas cuando hay escalaciones"})]}),a.jsx(zs,{defaultChecked:!0,"data-testid":"switch-escalation-notifications"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:"Resumen diario"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Recibe un resumen de actividad cada da"})]}),a.jsx(zs,{defaultChecked:!0,"data-testid":"switch-daily-summary"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:"Alertas de nuevos clientes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifica cuando hay nuevos registros"})]}),a.jsx(zs,{"data-testid":"switch-new-customer-alerts"})]})]})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(en,{className:"h-5 w-5 text-primary"}),a.jsxs("div",{children:[a.jsx(Me,{className:"text-base",children:e("settings.ai")}),a.jsx(li,{children:"Configura el comportamiento del asistente IA"})]})]})}),a.jsxs(Ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:"Respuestas automticas"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Permite que la IA responda automticamente"})]}),a.jsx(zs,{defaultChecked:!0,"data-testid":"switch-auto-responses"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:"Escalacin automtica"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Escala cuando la IA detecta urgencia"})]}),a.jsx(zs,{defaultChecked:!0,"data-testid":"switch-auto-escalation"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Qt,{children:"Tono de voz"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Estilo de comunicacin de la IA"})]}),a.jsxs(ii,{defaultValue:"professional",children:[a.jsx(Vs,{className:"w-40","data-testid":"select-ai-tone",children:a.jsx(ai,{})}),a.jsxs(Hs,{children:[a.jsx(Yt,{value:"professional",children:"Profesional"}),a.jsx(Yt,{value:"friendly",children:"Amigable"}),a.jsx(Yt,{value:"formal",children:"Formal"})]})]})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vj,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("settings.integrations")})]})}),a.jsxs(Ae,{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-lg border bg-accent/5 border-accent/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-sm",children:"WhatsApp Business"}),a.jsx("span",{className:"text-xs text-accent",children:"Conectado"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+503 2222-3333"})]}),a.jsxs("div",{className:"p-3 rounded-lg border bg-accent/5 border-accent/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-sm",children:"Claude AI (Anthropic)"}),a.jsx("span",{className:"text-xs text-accent",children:"Activo"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Modelo: claude-sonnet-4"})]}),a.jsx("div",{className:"p-3 rounded-lg border border-dashed",children:a.jsx("span",{className:"text-sm text-muted-foreground",children:"Agregar integracin..."})})]})]}),a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nj,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("settings.security")})]})}),a.jsxs(Ae,{className:"space-y-3",children:[a.jsx(Te,{variant:"outline",className:"w-full justify-start","data-testid":"button-change-password",children:"Cambiar contrasea"}),a.jsx(Te,{variant:"outline",className:"w-full justify-start","data-testid":"button-two-factor",children:"Configurar 2FA"}),a.jsx(Te,{variant:"outline",className:"w-full justify-start text-destructive","data-testid":"button-sessions",children:"Cerrar otras sesiones"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(Te,{variant:"outline","data-testid":"button-cancel",children:e("settings.cancel")}),a.jsx(Te,{className:"gold-gradient","data-testid":"button-save",children:e("settings.saveChanges")})]})]})}var Nh="Collapsible",[eD,PS]=jt(Nh),[tD,kh]=eD(Nh),AS=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:o,defaultOpen:i,disabled:l,onOpenChange:u,...f}=e,[h=!1,m]=tn({prop:o,defaultProp:i,onChange:u});return a.jsx(tD,{scope:n,disabled:l,contentId:Ut(),open:h,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),children:a.jsx(le.div,{"data-state":Th(h),"data-disabled":l?"":void 0,...f,ref:t})})});AS.displayName=Nh;var OS="CollapsibleTrigger",IS=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...o}=e,i=kh(OS,n);return a.jsx(le.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Th(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...o,ref:t,onClick:X(e.onClick,i.onOpenToggle)})});IS.displayName=OS;var Rh="CollapsibleContent",DS=v.forwardRef((e,t)=>{const{forceMount:n,...o}=e,i=kh(Rh,e.__scopeCollapsible);return a.jsx(bt,{present:n||i.open,children:({present:l})=>a.jsx(nD,{...o,ref:t,present:l})})});DS.displayName=Rh;var nD=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:o,children:i,...l}=e,u=kh(Rh,n),[f,h]=v.useState(o),m=v.useRef(null),g=ke(t,m),x=v.useRef(0),w=x.current,S=v.useRef(0),C=S.current,b=u.open||f,_=v.useRef(b),E=v.useRef(void 0);return v.useEffect(()=>{const N=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(N)},[]),nt(()=>{const N=m.current;if(N){E.current=E.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const R=N.getBoundingClientRect();x.current=R.height,S.current=R.width,_.current||(N.style.transitionDuration=E.current.transitionDuration,N.style.animationName=E.current.animationName),h(o)}},[u.open,o]),a.jsx(le.div,{"data-state":Th(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!b,...l,ref:g,style:{"--radix-collapsible-content-height":w?`${w}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:b&&i})});function Th(e){return e?"open":"closed"}var rD=AS,sD=IS,oD=DS,Qn="Accordion",iD=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ph,aD,lD]=Ai(Qn),[hc]=jt(Qn,[lD,PS]),Ah=PS(),MS=ze.forwardRef((e,t)=>{const{type:n,...o}=e,i=o,l=o;return a.jsx(Ph.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(fD,{...l,ref:t}):a.jsx(dD,{...i,ref:t})})});MS.displayName=Qn;var[LS,cD]=hc(Qn),[$S,uD]=hc(Qn,{collapsible:!1}),dD=ze.forwardRef((e,t)=>{const{value:n,defaultValue:o,onValueChange:i=()=>{},collapsible:l=!1,...u}=e,[f,h]=tn({prop:n,defaultProp:o,onChange:i});return a.jsx(LS,{scope:e.__scopeAccordion,value:f?[f]:[],onItemOpen:h,onItemClose:ze.useCallback(()=>l&&h(""),[l,h]),children:a.jsx($S,{scope:e.__scopeAccordion,collapsible:l,children:a.jsx(FS,{...u,ref:t})})})}),fD=ze.forwardRef((e,t)=>{const{value:n,defaultValue:o,onValueChange:i=()=>{},...l}=e,[u=[],f]=tn({prop:n,defaultProp:o,onChange:i}),h=ze.useCallback(g=>f((x=[])=>[...x,g]),[f]),m=ze.useCallback(g=>f((x=[])=>x.filter(w=>w!==g)),[f]);return a.jsx(LS,{scope:e.__scopeAccordion,value:u,onItemOpen:h,onItemClose:m,children:a.jsx($S,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(FS,{...l,ref:t})})})}),[hD,pc]=hc(Qn),FS=ze.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:o,dir:i,orientation:l="vertical",...u}=e,f=ze.useRef(null),h=ke(f,t),m=aD(n),x=fo(i)==="ltr",w=X(e.onKeyDown,S=>{if(!iD.includes(S.key))return;const C=S.target,b=m().filter(W=>!W.ref.current?.disabled),_=b.findIndex(W=>W.ref.current===C),E=b.length;if(_===-1)return;S.preventDefault();let N=_;const R=0,O=E-1,M=()=>{N=_+1,N>O&&(N=R)},F=()=>{N=_-1,N<R&&(N=O)};switch(S.key){case"Home":N=R;break;case"End":N=O;break;case"ArrowRight":l==="horizontal"&&(x?M():F());break;case"ArrowDown":l==="vertical"&&M();break;case"ArrowLeft":l==="horizontal"&&(x?F():M());break;case"ArrowUp":l==="vertical"&&F();break}const $=N%E;b[$].ref.current?.focus()});return a.jsx(hD,{scope:n,disabled:o,direction:i,orientation:l,children:a.jsx(Ph.Slot,{scope:n,children:a.jsx(le.div,{...u,"data-orientation":l,ref:h,onKeyDown:o?void 0:w})})})}),Ml="AccordionItem",[pD,Oh]=hc(Ml),US=ze.forwardRef((e,t)=>{const{__scopeAccordion:n,value:o,...i}=e,l=pc(Ml,n),u=cD(Ml,n),f=Ah(n),h=Ut(),m=o&&u.value.includes(o)||!1,g=l.disabled||e.disabled;return a.jsx(pD,{scope:n,open:m,disabled:g,triggerId:h,children:a.jsx(rD,{"data-orientation":l.orientation,"data-state":KS(m),...f,...i,ref:t,disabled:g,open:m,onOpenChange:x=>{x?u.onItemOpen(o):u.onItemClose(o)}})})});US.displayName=Ml;var zS="AccordionHeader",BS=ze.forwardRef((e,t)=>{const{__scopeAccordion:n,...o}=e,i=pc(Qn,n),l=Oh(zS,n);return a.jsx(le.h3,{"data-orientation":i.orientation,"data-state":KS(l.open),"data-disabled":l.disabled?"":void 0,...o,ref:t})});BS.displayName=zS;var Sf="AccordionTrigger",VS=ze.forwardRef((e,t)=>{const{__scopeAccordion:n,...o}=e,i=pc(Qn,n),l=Oh(Sf,n),u=uD(Sf,n),f=Ah(n);return a.jsx(Ph.ItemSlot,{scope:n,children:a.jsx(sD,{"aria-disabled":l.open&&!u.collapsible||void 0,"data-orientation":i.orientation,id:l.triggerId,...f,...o,ref:t})})});VS.displayName=Sf;var HS="AccordionContent",WS=ze.forwardRef((e,t)=>{const{__scopeAccordion:n,...o}=e,i=pc(Qn,n),l=Oh(HS,n),u=Ah(n);return a.jsx(oD,{role:"region","aria-labelledby":l.triggerId,"data-orientation":i.orientation,...u,...o,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});WS.displayName=HS;function KS(e){return e?"open":"closed"}var mD=MS,gD=US,vD=BS,qS=VS,GS=WS;const yD=mD,QS=v.forwardRef(({className:e,...t},n)=>a.jsx(gD,{ref:n,className:re("border-b",e),...t}));QS.displayName="AccordionItem";const YS=v.forwardRef(({className:e,children:t,...n},o)=>a.jsx(vD,{className:"flex",children:a.jsxs(qS,{ref:o,className:re("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(Cf,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));YS.displayName=qS.displayName;const JS=v.forwardRef(({className:e,children:t,...n},o)=>a.jsx(GS,{ref:o,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:re("pb-4 pt-0",e),children:t})}));JS.displayName=GS.displayName;function xD(){const{t:e}=Bt(),t=[{icon:aj,titleKey:"help.gettingStarted",descKey:"help.gettingStartedDesc",color:"text-primary"},{icon:Zl,titleKey:"help.whatsappIntegration",descKey:"help.whatsappIntegrationDesc",color:"text-green-500"},{icon:en,titleKey:"help.aiConfiguration",descKey:"help.aiConfigurationDesc",color:"text-primary"},{icon:_f,titleKey:"help.reportsAnalytics",descKey:"help.reportsAnalyticsDesc",color:"text-accent"}],n=[{question:"Cmo configuro el bot de WhatsApp?",answer:"Para configurar el bot de WhatsApp, ve a Configuracin > Integraciones y sigue las instrucciones para conectar tu cuenta de WhatsApp Business. Necesitars tener una cuenta de Meta Business verificada."},{question:"Cmo personalizo las respuestas automticas de la IA?",answer:"En Configuracin > Configuracin de IA puedes ajustar el tono de voz, agregar respuestas personalizadas para preguntas frecuentes, y definir cundo el sistema debe escalar a un agente humano."},{question:"Cmo agrego una nueva sucursal?",answer:"Ve a Sucursales y haz clic en 'Agregar Sucursal'. Ingresa la informacin de la ubicacin incluyendo direccin, telfono y horarios de operacin. La nueva sucursal aparecer inmediatamente en el sistema."},{question:"Cmo exporto los reportes de actividad?",answer:"En la seccin de Analticas, encontrars un botn de exportar en la esquina superior derecha. Puedes exportar los datos en formato CSV o PDF para cualquier rango de fechas."},{question:"Qu hago si un cliente solicita hablar con un humano?",answer:"El sistema detecta automticamente cuando un cliente quiere hablar con una persona y crea una escalacin. Vers estas en el panel de Escalaciones donde puedes tomar el control de la conversacin."},{question:"Cmo actualizo los precios de los servicios?",answer:"Los precios se pueden actualizar en Configuracin > Servicios. Los cambios se reflejan inmediatamente en las respuestas del bot de IA cuando los clientes preguntan por precios."}];return a.jsxs("div",{className:"p-6 space-y-6","data-testid":"help-page",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e("help.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("help.subtitle")})]}),a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(qn,{placeholder:e("help.search"),className:"pl-9","data-testid":"input-search-help"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((o,i)=>a.jsx(_e,{className:"hover-elevate cursor-pointer","data-testid":`help-topic-${i}`,children:a.jsxs(Ae,{className:"p-4",children:[a.jsx(o.icon,{className:`h-8 w-8 mb-3 ${o.color}`}),a.jsx("h3",{className:"font-semibold mb-1",children:e(o.titleKey)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e(o.descKey)})]})},i))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(my,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("help.faq")})]})}),a.jsx(Ae,{children:a.jsx(yD,{type:"single",collapsible:!0,className:"w-full",children:n.map((o,i)=>a.jsxs(QS,{value:`faq-${i}`,children:[a.jsx(YS,{className:"text-left","data-testid":`faq-trigger-${i}`,children:o.question}),a.jsx(JS,{className:"text-muted-foreground",children:o.answer})]},i))})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(_e,{children:[a.jsx(De,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zt,{className:"h-5 w-5 text-primary"}),a.jsx(Me,{className:"text-base",children:e("help.contactSupport")})]})}),a.jsxs(Ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(wj,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e("help.email")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"soporte@lavanderia.sv"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Xs,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e("help.phone")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"+503 2222-3333"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Hn,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Horario"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("help.hours")})]})]}),a.jsxs(Te,{className:"w-full gold-gradient","data-testid":"button-contact-support",children:[a.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Iniciar Chat de Soporte"]})]})]}),a.jsx(_e,{children:a.jsxs(Ae,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-accent/10",children:a.jsx(fj,{className:"h-4 w-4 text-accent"})}),a.jsx("span",{className:"font-medium",children:"Recursos Adicionales"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-foreground",children:"Documentacin completa"}),a.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-foreground",children:"Videos tutoriales"}),a.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-foreground",children:"Comunidad de usuarios"}),a.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-foreground",children:"Estado del sistema"})]})]})})]})]})]})}function wD(){return a.jsxs(FC,{children:[a.jsx(fn,{path:"/",component:MI}),a.jsx(fn,{path:"/conversations",component:UI}),a.jsx(fn,{path:"/customers",component:zI}),a.jsx(fn,{path:"/locations",component:BI}),a.jsx(fn,{path:"/services",component:VI}),a.jsx(fn,{path:"/orders",component:HI}),a.jsx(fn,{path:"/analytics",component:WI}),a.jsx(fn,{path:"/notifications",component:qI}),a.jsx(fn,{path:"/settings",component:ZI}),a.jsx(fn,{path:"/help",component:xD}),a.jsx(fn,{component:$O})]})}function bD(){const{user:e,signOut:t,isDemoMode:n}=Li();if(!e)return null;const o=e.name.split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2),i={owner:"Propietario",admin:"Administrador",manager:"Gerente",staff:"Personal"};return a.jsxs(ab,{children:[a.jsx(lb,{asChild:!0,children:a.jsx(Te,{variant:"ghost",size:"icon",className:"relative",children:a.jsx(Xr,{className:"h-8 w-8",children:a.jsx(Zr,{className:"bg-primary text-primary-foreground text-xs",children:o})})})}),a.jsxs(vh,{align:"end",className:"w-56",children:[a.jsx(cb,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:e.name}),n&&a.jsxs(Le,{variant:"secondary",className:"text-xs h-5 px-1.5",children:[a.jsx(en,{className:"h-3 w-3 mr-1"}),"Demo"]})]}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i[e.role]||e.role})]})}),a.jsx(ub,{}),a.jsxs(yh,{onClick:()=>t(),children:[a.jsx(xj,{className:"mr-2 h-4 w-4"}),"Cerrar Sesin"]})]})]})}function SD(){const{t:e}=Bt(),{isDemoMode:t}=Li(),n={"--sidebar-width":"16rem","--sidebar-width-icon":"3.5rem"};return a.jsx(cT,{style:n,children:a.jsxs("div",{className:"flex h-screen w-full overflow-hidden",children:[a.jsx(dA,{}),a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("header",{className:"flex items-center justify-between gap-2 px-4 py-2 border-b border-border bg-card shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dT,{"data-testid":"button-sidebar-toggle"}),a.jsx("div",{className:"h-4 w-px bg-border"}),a.jsx(Le,{variant:"outline",className:"text-xs border-accent/30 text-accent",children:e("common.elSalvador")}),t&&a.jsxs(Le,{variant:"secondary",className:"text-xs",children:[a.jsx(en,{className:"h-3 w-3 mr-1"}),"Modo Demo"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xl,{href:"/notifications",children:a.jsxs(Te,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[a.jsx(fi,{className:"h-5 w-5"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 rounded-full bg-destructive"})]})}),a.jsx(LO,{}),a.jsx(fA,{}),a.jsx(bD,{})]})]}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx(wD,{})})]})]})})}function _D(){const{isAuthenticated:e,isLoading:t}=Li();return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg gold-gradient flex items-center justify-center mx-auto mb-4 animate-pulse",children:a.jsx("span",{className:"text-xl font-bold text-primary-foreground",children:"LO"})}),a.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):e?a.jsx(SD,{}):a.jsx(VO,{})}function jD(){return a.jsx(iE,{client:bE,children:a.jsx(Qx,{children:a.jsx(AT,{children:a.jsxs(uA,{children:[a.jsx(_D,{}),a.jsx(mN,{})]})})})})}nj.createRoot(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(gC,{children:a.jsx(jD,{})})}));
