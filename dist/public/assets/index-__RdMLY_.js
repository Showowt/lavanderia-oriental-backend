function IS(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Jx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vd={exports:{}},_i={},Hd={exports:{}},$e={};var iv;function DS(){if(iv)return $e;iv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function j(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function N(P,K,we){this.props=P,this.context=K,this.refs=y,this.updater=we||b}N.prototype.isReactComponent={},N.prototype.setState=function(P,K){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,K,"setState")},N.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=N.prototype;function E(P,K,we){this.props=P,this.context=K,this.refs=y,this.updater=we||b}var k=E.prototype=new C;k.constructor=E,S(k,N.prototype),k.isPureReactComponent=!0;var T=Array.isArray,$=Object.prototype.hasOwnProperty,O={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function G(P,K,we){var V,_e={},Te=null,ee=null;if(K!=null)for(V in K.ref!==void 0&&(ee=K.ref),K.key!==void 0&&(Te=""+K.key),K)$.call(K,V)&&!L.hasOwnProperty(V)&&(_e[V]=K[V]);var je=arguments.length-2;if(je===1)_e.children=we;else if(1<je){for(var Ie=Array(je),Le=0;Le<je;Le++)Ie[Le]=arguments[Le+2];_e.children=Ie}if(P&&P.defaultProps)for(V in je=P.defaultProps,je)_e[V]===void 0&&(_e[V]=je[V]);return{$$typeof:e,type:P,key:Te,ref:ee,props:_e,_owner:O.current}}function D(P,K){return{$$typeof:e,type:P.type,key:K,ref:P.ref,props:P.props,_owner:P._owner}}function F(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function Y(P){var K={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(we){return K[we]})}var re=/\/+/g;function le(P,K){return typeof P=="object"&&P!==null&&P.key!=null?Y(""+P.key):K.toString(36)}function Q(P,K,we,V,_e){var Te=typeof P;(Te==="undefined"||Te==="boolean")&&(P=null);var ee=!1;if(P===null)ee=!0;else switch(Te){case"string":case"number":ee=!0;break;case"object":switch(P.$$typeof){case e:case t:ee=!0}}if(ee)return ee=P,_e=_e(ee),P=V===""?"."+le(ee,0):V,T(_e)?(we="",P!=null&&(we=P.replace(re,"$&/")+"/"),Q(_e,K,we,"",function(Le){return Le})):_e!=null&&(F(_e)&&(_e=D(_e,we+(!_e.key||ee&&ee.key===_e.key?"":(""+_e.key).replace(re,"$&/")+"/")+P)),K.push(_e)),1;if(ee=0,V=V===""?".":V+":",T(P))for(var je=0;je<P.length;je++){Te=P[je];var Ie=V+le(Te,je);ee+=Q(Te,K,we,Ie,_e)}else if(Ie=j(P),typeof Ie=="function")for(P=Ie.call(P),je=0;!(Te=P.next()).done;)Te=Te.value,Ie=V+le(Te,je++),ee+=Q(Te,K,we,Ie,_e);else if(Te==="object")throw K=String(P),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ee}function q(P,K,we){if(P==null)return P;var V=[],_e=0;return Q(P,V,"","",function(Te){return K.call(we,Te,_e++)}),V}function ne(P){if(P._status===-1){var K=P._result;K=K(),K.then(function(we){(P._status===0||P._status===-1)&&(P._status=1,P._result=we)},function(we){(P._status===0||P._status===-1)&&(P._status=2,P._result=we)}),P._status===-1&&(P._status=0,P._result=K)}if(P._status===1)return P._result.default;throw P._result}var de={current:null},H={transition:null},W={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:H,ReactCurrentOwner:O};function M(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:q,forEach:function(P,K,we){q(P,function(){K.apply(this,arguments)},we)},count:function(P){var K=0;return q(P,function(){K++}),K},toArray:function(P){return q(P,function(K){return K})||[]},only:function(P){if(!F(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},$e.Component=N,$e.Fragment=r,$e.Profiler=o,$e.PureComponent=E,$e.StrictMode=i,$e.Suspense=f,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,$e.act=M,$e.cloneElement=function(P,K,we){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var V=S({},P.props),_e=P.key,Te=P.ref,ee=P._owner;if(K!=null){if(K.ref!==void 0&&(Te=K.ref,ee=O.current),K.key!==void 0&&(_e=""+K.key),P.type&&P.type.defaultProps)var je=P.type.defaultProps;for(Ie in K)$.call(K,Ie)&&!L.hasOwnProperty(Ie)&&(V[Ie]=K[Ie]===void 0&&je!==void 0?je[Ie]:K[Ie])}var Ie=arguments.length-2;if(Ie===1)V.children=we;else if(1<Ie){je=Array(Ie);for(var Le=0;Le<Ie;Le++)je[Le]=arguments[Le+2];V.children=je}return{$$typeof:e,type:P.type,key:_e,ref:Te,props:V,_owner:ee}},$e.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:l,_context:P},P.Consumer=P},$e.createElement=G,$e.createFactory=function(P){var K=G.bind(null,P);return K.type=P,K},$e.createRef=function(){return{current:null}},$e.forwardRef=function(P){return{$$typeof:d,render:P}},$e.isValidElement=F,$e.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ne}},$e.memo=function(P,K){return{$$typeof:m,type:P,compare:K===void 0?null:K}},$e.startTransition=function(P){var K=H.transition;H.transition={};try{P()}finally{H.transition=K}},$e.unstable_act=M,$e.useCallback=function(P,K){return de.current.useCallback(P,K)},$e.useContext=function(P){return de.current.useContext(P)},$e.useDebugValue=function(){},$e.useDeferredValue=function(P){return de.current.useDeferredValue(P)},$e.useEffect=function(P,K){return de.current.useEffect(P,K)},$e.useId=function(){return de.current.useId()},$e.useImperativeHandle=function(P,K,we){return de.current.useImperativeHandle(P,K,we)},$e.useInsertionEffect=function(P,K){return de.current.useInsertionEffect(P,K)},$e.useLayoutEffect=function(P,K){return de.current.useLayoutEffect(P,K)},$e.useMemo=function(P,K){return de.current.useMemo(P,K)},$e.useReducer=function(P,K,we){return de.current.useReducer(P,K,we)},$e.useRef=function(P){return de.current.useRef(P)},$e.useState=function(P){return de.current.useState(P)},$e.useSyncExternalStore=function(P,K,we){return de.current.useSyncExternalStore(P,K,we)},$e.useTransition=function(){return de.current.useTransition()},$e.version="18.3.1",$e}var ov;function dc(){return ov||(ov=1,Hd.exports=DS()),Hd.exports}var lv;function MS(){if(lv)return _i;lv=1;var e=dc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},j=null,b=null;m!==void 0&&(j=""+m),f.key!==void 0&&(j=""+f.key),f.ref!==void 0&&(b=f.ref);for(v in f)i.call(f,v)&&!l.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:t,type:d,key:j,ref:b,props:w,_owner:o.current}}return _i.Fragment=r,_i.jsx=u,_i.jsxs=u,_i}var cv;function LS(){return cv||(cv=1,Vd.exports=MS()),Vd.exports}var n=LS(),g=dc();const Ke=Jx(g),Xx=IS({__proto__:null,default:Ke},[g]);var yl={},Wd={exports:{}},Kt={},Kd={exports:{}},qd={};var uv;function $S(){return uv||(uv=1,(function(e){function t(H,W){var M=H.length;H.push(W);e:for(;0<M;){var P=M-1>>>1,K=H[P];if(0<o(K,W))H[P]=W,H[M]=K,M=P;else break e}}function r(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var W=H[0],M=H.pop();if(M!==W){H[0]=M;e:for(var P=0,K=H.length,we=K>>>1;P<we;){var V=2*(P+1)-1,_e=H[V],Te=V+1,ee=H[Te];if(0>o(_e,M))Te<K&&0>o(ee,_e)?(H[P]=ee,H[Te]=M,P=Te):(H[P]=_e,H[V]=M,P=V);else if(Te<K&&0>o(ee,M))H[P]=ee,H[Te]=M,P=Te;else break e}}return W}function o(H,W){var M=H.sortIndex-W.sortIndex;return M!==0?M:H.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,j=3,b=!1,S=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var W=r(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=H)i(m),W.sortIndex=W.expirationTime,t(f,W);else break;W=r(m)}}function T(H){if(y=!1,k(H),!S)if(r(f)!==null)S=!0,ne($);else{var W=r(m);W!==null&&de(T,W.startTime-H)}}function $(H,W){S=!1,y&&(y=!1,C(G),G=-1),b=!0;var M=j;try{for(k(W),w=r(f);w!==null&&(!(w.expirationTime>W)||H&&!Y());){var P=w.callback;if(typeof P=="function"){w.callback=null,j=w.priorityLevel;var K=P(w.expirationTime<=W);W=e.unstable_now(),typeof K=="function"?w.callback=K:w===r(f)&&i(f),k(W)}else i(f);w=r(f)}if(w!==null)var we=!0;else{var V=r(m);V!==null&&de(T,V.startTime-W),we=!1}return we}finally{w=null,j=M,b=!1}}var O=!1,L=null,G=-1,D=5,F=-1;function Y(){return!(e.unstable_now()-F<D)}function re(){if(L!==null){var H=e.unstable_now();F=H;var W=!0;try{W=L(!0,H)}finally{W?le():(O=!1,L=null)}}else O=!1}var le;if(typeof E=="function")le=function(){E(re)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,q=Q.port2;Q.port1.onmessage=re,le=function(){q.postMessage(null)}}else le=function(){N(re,0)};function ne(H){L=H,O||(O=!0,le())}function de(H,W){G=N(function(){H(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,ne($))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(H){switch(j){case 1:case 2:case 3:var W=3;break;default:W=j}var M=j;j=W;try{return H()}finally{j=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var M=j;j=H;try{return W()}finally{j=M}},e.unstable_scheduleCallback=function(H,W,M){var P=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?P+M:P):M=P,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=M+K,H={id:v++,callback:W,priorityLevel:H,startTime:M,expirationTime:K,sortIndex:-1},M>P?(H.sortIndex=M,t(m,H),r(f)===null&&H===r(m)&&(y?(C(G),G=-1):y=!0,de(T,M-P))):(H.sortIndex=K,t(f,H),S||b||(S=!0,ne($))),H},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(H){var W=j;return function(){var M=j;j=W;try{return H.apply(this,arguments)}finally{j=M}}}})(qd)),qd}var dv;function FS(){return dv||(dv=1,Kd.exports=$S()),Kd.exports}var hv;function US(){if(hv)return Kt;hv=1;var e=dc(),t=FS();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(o[s]=a,s=0;s<a.length;s++)i.add(a[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function j(s){return f.call(w,s)?!0:f.call(v,s)?!1:m.test(s)?w[s]=!0:(v[s]=!0,!1)}function b(s,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,c,h){if(a===null||typeof a>"u"||b(s,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function y(s,a,c,h,p,x,_){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=_}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new y(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];N[a]=new y(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new y(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new y(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new y(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new y(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new y(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new y(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new y(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,E);N[a]=new y(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,E);N[a]=new y(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,E);N[a]=new y(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new y(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new y(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,a,c,h){var p=N.hasOwnProperty(a)?N[a]:null;(p!==null?p.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,p,h)&&(c=null),h||p===null?j(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):p.mustUseProperty?s[p.propertyName]=c===null?p.type===3?!1:"":c:(a=p.attributeName,h=p.attributeNamespace,c===null?s.removeAttribute(a):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,h?s.setAttributeNS(h,a,c):s.setAttribute(a,c))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),O=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Y=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),H=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,P;function K(s){if(P===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||""}return`
`+P+s}var we=!1;function V(s,a){if(!s||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(B){var h=B}Reflect.construct(s,[],a)}else{try{a.call()}catch(B){h=B}s.call(a.prototype)}else{try{throw Error()}catch(B){h=B}s()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var p=B.stack.split(`
`),x=h.stack.split(`
`),_=p.length-1,R=x.length-1;1<=_&&0<=R&&p[_]!==x[R];)R--;for(;1<=_&&0<=R;_--,R--)if(p[_]!==x[R]){if(_!==1||R!==1)do if(_--,R--,0>R||p[_]!==x[R]){var A=`
`+p[_].replace(" at new "," at ");return s.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",s.displayName)),A}while(1<=_&&0<=R);break}}}finally{we=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?K(s):""}function _e(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=V(s.type,!1),s;case 11:return s=V(s.type.render,!1),s;case 1:return s=V(s.type,!0),s;default:return""}}function Te(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case O:return"Portal";case D:return"Profiler";case G:return"StrictMode";case le:return"Suspense";case Q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Y:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case re:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return a=s.displayName||null,a!==null?a:Te(s.type)||"Memo";case ne:a=s._payload,s=s._init;try{return Te(s(a))}catch{}}return null}function ee(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(a);case 8:return a===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function je(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ie(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Le(s){var a=Ie(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,x=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(_){h=""+_,x.call(this,_)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ve(s){s._valueTracker||(s._valueTracker=Le(s))}function tt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Ie(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function wt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function yr(s,a){var c=a.checked;return M({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Os(s,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=je(a.value!=null?a.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Is(s,a){a=a.checked,a!=null&&k(s,"checked",a,!1)}function rs(s,a){Is(s,a);var c=je(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Xc(s,a.type,c):a.hasOwnProperty("defaultValue")&&Xc(s,a.type,je(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function pm(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Xc(s,a,c){(a!=="number"||wt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Ua=Array.isArray;function Ds(s,a,c,h){if(s=s.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=a.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&h&&(s[c].defaultSelected=!0)}else{for(c=""+je(c),a=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function Zc(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return M({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function gm(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(r(92));if(Ua(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:je(c)}}function vm(s,a){var c=je(a.value),h=je(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function xm(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ym(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eu(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ym(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var uo,wm=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,p){MSApp.execUnsafeLocalFunction(function(){return s(a,c,h,p)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=uo.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function za(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$N=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(s){$N.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ba[a]=Ba[s]})});function jm(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Ba.hasOwnProperty(s)&&Ba[s]?(""+a).trim():a+"px"}function bm(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,p=jm(c,a[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,p):s[c]=p}}var FN=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tu(s,a){if(a){if(FN[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function ru(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function su(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var au=null,Ms=null,Ls=null;function Nm(s){if(s=ui(s)){if(typeof au!="function")throw Error(r(280));var a=s.stateNode;a&&(a=Io(a),au(s.stateNode,s.type,a))}}function Sm(s){Ms?Ls?Ls.push(s):Ls=[s]:Ms=s}function _m(){if(Ms){var s=Ms,a=Ls;if(Ls=Ms=null,Nm(s),a)for(s=0;s<a.length;s++)Nm(a[s])}}function Cm(s,a){return s(a)}function Em(){}var iu=!1;function km(s,a,c){if(iu)return s(a,c);iu=!0;try{return Cm(s,a,c)}finally{iu=!1,(Ms!==null||Ls!==null)&&(Em(),_m())}}function Va(s,a){var c=s.stateNode;if(c===null)return null;var h=Io(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var ou=!1;if(d)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{ou=!1}function UN(s,a,c,h,p,x,_,R,A){var B=Array.prototype.slice.call(arguments,3);try{a.apply(c,B)}catch(X){this.onError(X)}}var Wa=!1,ho=null,fo=!1,lu=null,zN={onError:function(s){Wa=!0,ho=s}};function BN(s,a,c,h,p,x,_,R,A){Wa=!1,ho=null,UN.apply(zN,arguments)}function VN(s,a,c,h,p,x,_,R,A){if(BN.apply(this,arguments),Wa){if(Wa){var B=ho;Wa=!1,ho=null}else throw Error(r(198));fo||(fo=!0,lu=B)}}function ns(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Rm(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Tm(s){if(ns(s)!==s)throw Error(r(188))}function HN(s){var a=s.alternate;if(!a){if(a=ns(s),a===null)throw Error(r(188));return a!==s?null:s}for(var c=s,h=a;;){var p=c.return;if(p===null)break;var x=p.alternate;if(x===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===c)return Tm(p),s;if(x===h)return Tm(p),a;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=p,h=x;else{for(var _=!1,R=p.child;R;){if(R===c){_=!0,c=p,h=x;break}if(R===h){_=!0,h=p,c=x;break}R=R.sibling}if(!_){for(R=x.child;R;){if(R===c){_=!0,c=x,h=p;break}if(R===h){_=!0,h=x,c=p;break}R=R.sibling}if(!_)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:a}function Pm(s){return s=HN(s),s!==null?Am(s):null}function Am(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Am(s);if(a!==null)return a;s=s.sibling}return null}var Om=t.unstable_scheduleCallback,Im=t.unstable_cancelCallback,WN=t.unstable_shouldYield,KN=t.unstable_requestPaint,it=t.unstable_now,qN=t.unstable_getCurrentPriorityLevel,cu=t.unstable_ImmediatePriority,Dm=t.unstable_UserBlockingPriority,mo=t.unstable_NormalPriority,GN=t.unstable_LowPriority,Mm=t.unstable_IdlePriority,po=null,Ur=null;function QN(s){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(po,s,void 0,(s.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:XN,YN=Math.log,JN=Math.LN2;function XN(s){return s>>>=0,s===0?32:31-(YN(s)/JN|0)|0}var go=64,vo=4194304;function Ka(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xo(s,a){var c=s.pendingLanes;if(c===0)return 0;var h=0,p=s.suspendedLanes,x=s.pingedLanes,_=c&268435455;if(_!==0){var R=_&~p;R!==0?h=Ka(R):(x&=_,x!==0&&(h=Ka(x)))}else _=c&~p,_!==0?h=Ka(_):x!==0&&(h=Ka(x));if(h===0)return 0;if(a!==0&&a!==h&&(a&p)===0&&(p=h&-h,x=a&-a,p>=x||p===16&&(x&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)c=31-wr(a),p=1<<c,h|=s[c],a&=~p;return h}function ZN(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e1(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,x=s.pendingLanes;0<x;){var _=31-wr(x),R=1<<_,A=p[_];A===-1?((R&c)===0||(R&h)!==0)&&(p[_]=ZN(R,a)):A<=a&&(s.expiredLanes|=R),x&=~R}}function uu(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Lm(){var s=go;return go<<=1,(go&4194240)===0&&(go=64),s}function du(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function qa(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-wr(a),s[a]=c}function t1(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-wr(c),x=1<<p;a[p]=0,h[p]=-1,s[p]=-1,c&=~x}}function hu(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-wr(c),p=1<<h;p&a|s[h]&a&&(s[h]|=a),c&=~p}}var He=0;function $m(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Fm,fu,Um,zm,Bm,mu=!1,yo=[],wn=null,jn=null,bn=null,Ga=new Map,Qa=new Map,Nn=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vm(s,a){switch(s){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Ga.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(a.pointerId)}}function Ya(s,a,c,h,p,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[p]},a!==null&&(a=ui(a),a!==null&&fu(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function n1(s,a,c,h,p){switch(a){case"focusin":return wn=Ya(wn,s,a,c,h,p),!0;case"dragenter":return jn=Ya(jn,s,a,c,h,p),!0;case"mouseover":return bn=Ya(bn,s,a,c,h,p),!0;case"pointerover":var x=p.pointerId;return Ga.set(x,Ya(Ga.get(x)||null,s,a,c,h,p)),!0;case"gotpointercapture":return x=p.pointerId,Qa.set(x,Ya(Qa.get(x)||null,s,a,c,h,p)),!0}return!1}function Hm(s){var a=ss(s.target);if(a!==null){var c=ns(a);if(c!==null){if(a=c.tag,a===13){if(a=Rm(c),a!==null){s.blockedOn=a,Bm(s.priority,function(){Um(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wo(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=gu(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);nu=h,c.target.dispatchEvent(h),nu=null}else return a=ui(c),a!==null&&fu(a),s.blockedOn=c,!1;a.shift()}return!0}function Wm(s,a,c){wo(s)&&c.delete(a)}function s1(){mu=!1,wn!==null&&wo(wn)&&(wn=null),jn!==null&&wo(jn)&&(jn=null),bn!==null&&wo(bn)&&(bn=null),Ga.forEach(Wm),Qa.forEach(Wm)}function Ja(s,a){s.blockedOn===a&&(s.blockedOn=null,mu||(mu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s1)))}function Xa(s){function a(p){return Ja(p,s)}if(0<yo.length){Ja(yo[0],s);for(var c=1;c<yo.length;c++){var h=yo[c];h.blockedOn===s&&(h.blockedOn=null)}}for(wn!==null&&Ja(wn,s),jn!==null&&Ja(jn,s),bn!==null&&Ja(bn,s),Ga.forEach(a),Qa.forEach(a),c=0;c<Nn.length;c++)h=Nn[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Nn.length&&(c=Nn[0],c.blockedOn===null);)Hm(c),c.blockedOn===null&&Nn.shift()}var $s=T.ReactCurrentBatchConfig,jo=!0;function a1(s,a,c,h){var p=He,x=$s.transition;$s.transition=null;try{He=1,pu(s,a,c,h)}finally{He=p,$s.transition=x}}function i1(s,a,c,h){var p=He,x=$s.transition;$s.transition=null;try{He=4,pu(s,a,c,h)}finally{He=p,$s.transition=x}}function pu(s,a,c,h){if(jo){var p=gu(s,a,c,h);if(p===null)Ou(s,a,h,bo,c),Vm(s,h);else if(n1(p,s,a,c,h))h.stopPropagation();else if(Vm(s,h),a&4&&-1<r1.indexOf(s)){for(;p!==null;){var x=ui(p);if(x!==null&&Fm(x),x=gu(s,a,c,h),x===null&&Ou(s,a,h,bo,c),x===p)break;p=x}p!==null&&h.stopPropagation()}else Ou(s,a,h,null,c)}}var bo=null;function gu(s,a,c,h){if(bo=null,s=su(h),s=ss(s),s!==null)if(a=ns(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Rm(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return bo=s,null}function Km(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qN()){case cu:return 1;case Dm:return 4;case mo:case GN:return 16;case Mm:return 536870912;default:return 16}default:return 16}}var Sn=null,vu=null,No=null;function qm(){if(No)return No;var s,a=vu,c=a.length,h,p="value"in Sn?Sn.value:Sn.textContent,x=p.length;for(s=0;s<c&&a[s]===p[s];s++);var _=c-s;for(h=1;h<=_&&a[c-h]===p[x-h];h++);return No=p.slice(s,1<h?1-h:void 0)}function So(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function _o(){return!0}function Gm(){return!1}function Gt(s){function a(c,h,p,x,_){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(c=s[R],this[R]=c?c(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_o:Gm,this.isPropagationStopped=Gm,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),a}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Gt(Fs),Za=M({},Fs,{view:0,detail:0}),o1=Gt(Za),yu,wu,ei,Co=M({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ei&&(ei&&s.type==="mousemove"?(yu=s.screenX-ei.screenX,wu=s.screenY-ei.screenY):wu=yu=0,ei=s),yu)},movementY:function(s){return"movementY"in s?s.movementY:wu}}),Qm=Gt(Co),l1=M({},Co,{dataTransfer:0}),c1=Gt(l1),u1=M({},Za,{relatedTarget:0}),ju=Gt(u1),d1=M({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),h1=Gt(d1),f1=M({},Fs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),m1=Gt(f1),p1=M({},Fs,{data:0}),Ym=Gt(p1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=x1[s])?!!a[s]:!1}function bu(){return y1}var w1=M({},Za,{key:function(s){if(s.key){var a=g1[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=So(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?v1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(s){return s.type==="keypress"?So(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?So(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),j1=Gt(w1),b1=M({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jm=Gt(b1),N1=M({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),S1=Gt(N1),_1=M({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C1=Gt(_1),E1=M({},Co,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),k1=Gt(E1),R1=[9,13,27,32],Nu=d&&"CompositionEvent"in window,ti=null;d&&"documentMode"in document&&(ti=document.documentMode);var T1=d&&"TextEvent"in window&&!ti,Xm=d&&(!Nu||ti&&8<ti&&11>=ti),Zm=" ",ep=!1;function tp(s,a){switch(s){case"keyup":return R1.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Us=!1;function P1(s,a){switch(s){case"compositionend":return rp(a);case"keypress":return a.which!==32?null:(ep=!0,Zm);case"textInput":return s=a.data,s===Zm&&ep?null:s;default:return null}}function A1(s,a){if(Us)return s==="compositionend"||!Nu&&tp(s,a)?(s=qm(),No=vu=Sn=null,Us=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xm&&a.locale!=="ko"?null:a.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!O1[s.type]:a==="textarea"}function sp(s,a,c,h){Sm(h),a=Po(a,"onChange"),0<a.length&&(c=new xu("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var ri=null,ni=null;function I1(s){bp(s,0)}function Eo(s){var a=Ws(s);if(tt(a))return s}function D1(s,a){if(s==="change")return a}var ap=!1;if(d){var Su;if(d){var _u="oninput"in document;if(!_u){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),_u=typeof ip.oninput=="function"}Su=_u}else Su=!1;ap=Su&&(!document.documentMode||9<document.documentMode)}function op(){ri&&(ri.detachEvent("onpropertychange",lp),ni=ri=null)}function lp(s){if(s.propertyName==="value"&&Eo(ni)){var a=[];sp(a,ni,s,su(s)),km(I1,a)}}function M1(s,a,c){s==="focusin"?(op(),ri=a,ni=c,ri.attachEvent("onpropertychange",lp)):s==="focusout"&&op()}function L1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Eo(ni)}function $1(s,a){if(s==="click")return Eo(a)}function F1(s,a){if(s==="input"||s==="change")return Eo(a)}function U1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var jr=typeof Object.is=="function"?Object.is:U1;function si(s,a){if(jr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!f.call(a,p)||!jr(s[p],a[p]))return!1}return!0}function cp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function up(s,a){var c=cp(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=cp(c)}}function dp(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?dp(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function hp(){for(var s=window,a=wt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=wt(s.document)}return a}function Cu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function z1(s){var a=hp(),c=s.focusedElem,h=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&dp(c.ownerDocument.documentElement,c)){if(h!==null&&Cu(c)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var p=c.textContent.length,x=Math.min(h.start,p);h=h.end===void 0?x:Math.min(h.end,p),!s.extend&&x>h&&(p=h,h=x,x=p),p=up(c,x);var _=up(c,h);p&&_&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(a=a.createRange(),a.setStart(p.node,p.offset),s.removeAllRanges(),x>h?(s.addRange(a),s.extend(_.node,_.offset)):(a.setEnd(_.node,_.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var B1=d&&"documentMode"in document&&11>=document.documentMode,zs=null,Eu=null,ai=null,ku=!1;function fp(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ku||zs==null||zs!==wt(h)||(h=zs,"selectionStart"in h&&Cu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ai&&si(ai,h)||(ai=h,h=Po(Eu,"onSelect"),0<h.length&&(a=new xu("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=zs)))}function ko(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Bs={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},Ru={},mp={};d&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ro(s){if(Ru[s])return Ru[s];if(!Bs[s])return s;var a=Bs[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in mp)return Ru[s]=a[c];return s}var pp=Ro("animationend"),gp=Ro("animationiteration"),vp=Ro("animationstart"),xp=Ro("transitionend"),yp=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(s,a){yp.set(s,a),l(a,[s])}for(var Tu=0;Tu<wp.length;Tu++){var Pu=wp[Tu],V1=Pu.toLowerCase(),H1=Pu[0].toUpperCase()+Pu.slice(1);_n(V1,"on"+H1)}_n(pp,"onAnimationEnd"),_n(gp,"onAnimationIteration"),_n(vp,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(xp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function jp(s,a,c){var h=s.type||"unknown-event";s.currentTarget=c,VN(h,a,void 0,s),s.currentTarget=null}function bp(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],p=h.event;h=h.listeners;e:{var x=void 0;if(a)for(var _=h.length-1;0<=_;_--){var R=h[_],A=R.instance,B=R.currentTarget;if(R=R.listener,A!==x&&p.isPropagationStopped())break e;jp(p,R,B),x=A}else for(_=0;_<h.length;_++){if(R=h[_],A=R.instance,B=R.currentTarget,R=R.listener,A!==x&&p.isPropagationStopped())break e;jp(p,R,B),x=A}}}if(fo)throw s=lu,fo=!1,lu=null,s}function Qe(s,a){var c=a[Fu];c===void 0&&(c=a[Fu]=new Set);var h=s+"__bubble";c.has(h)||(Np(a,s,2,!1),c.add(h))}function Au(s,a,c){var h=0;a&&(h|=4),Np(c,s,h,a)}var To="_reactListening"+Math.random().toString(36).slice(2);function oi(s){if(!s[To]){s[To]=!0,i.forEach(function(c){c!=="selectionchange"&&(W1.has(c)||Au(c,!1,s),Au(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[To]||(a[To]=!0,Au("selectionchange",!1,a))}}function Np(s,a,c,h){switch(Km(a)){case 1:var p=a1;break;case 4:p=i1;break;default:p=pu}c=p.bind(null,a,c,s),p=void 0,!ou||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(a,c,{capture:!0,passive:p}):s.addEventListener(a,c,!0):p!==void 0?s.addEventListener(a,c,{passive:p}):s.addEventListener(a,c,!1)}function Ou(s,a,c,h,p){var x=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var R=h.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(_===4)for(_=h.return;_!==null;){var A=_.tag;if((A===3||A===4)&&(A=_.stateNode.containerInfo,A===p||A.nodeType===8&&A.parentNode===p))return;_=_.return}for(;R!==null;){if(_=ss(R),_===null)return;if(A=_.tag,A===5||A===6){h=x=_;continue e}R=R.parentNode}}h=h.return}km(function(){var B=x,X=su(c),Z=[];e:{var J=yp.get(s);if(J!==void 0){var ue=xu,fe=s;switch(s){case"keypress":if(So(c)===0)break e;case"keydown":case"keyup":ue=j1;break;case"focusin":fe="focus",ue=ju;break;case"focusout":fe="blur",ue=ju;break;case"beforeblur":case"afterblur":ue=ju;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=c1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=S1;break;case pp:case gp:case vp:ue=h1;break;case xp:ue=C1;break;case"scroll":ue=o1;break;case"wheel":ue=k1;break;case"copy":case"cut":case"paste":ue=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Jm}var me=(a&4)!==0,ot=!me&&s==="scroll",U=me?J!==null?J+"Capture":null:J;me=[];for(var I=B,z;I!==null;){z=I;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,U!==null&&(te=Va(I,U),te!=null&&me.push(li(I,te,z)))),ot)break;I=I.return}0<me.length&&(J=new ue(J,fe,null,c,X),Z.push({event:J,listeners:me}))}}if((a&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",J&&c!==nu&&(fe=c.relatedTarget||c.fromElement)&&(ss(fe)||fe[Zr]))break e;if((ue||J)&&(J=X.window===X?X:(J=X.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(fe=c.relatedTarget||c.toElement,ue=B,fe=fe?ss(fe):null,fe!==null&&(ot=ns(fe),fe!==ot||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=B),ue!==fe)){if(me=Qm,te="onMouseLeave",U="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(me=Jm,te="onPointerLeave",U="onPointerEnter",I="pointer"),ot=ue==null?J:Ws(ue),z=fe==null?J:Ws(fe),J=new me(te,I+"leave",ue,c,X),J.target=ot,J.relatedTarget=z,te=null,ss(X)===B&&(me=new me(U,I+"enter",fe,c,X),me.target=z,me.relatedTarget=ot,te=me),ot=te,ue&&fe)t:{for(me=ue,U=fe,I=0,z=me;z;z=Vs(z))I++;for(z=0,te=U;te;te=Vs(te))z++;for(;0<I-z;)me=Vs(me),I--;for(;0<z-I;)U=Vs(U),z--;for(;I--;){if(me===U||U!==null&&me===U.alternate)break t;me=Vs(me),U=Vs(U)}me=null}else me=null;ue!==null&&Sp(Z,J,ue,me,!1),fe!==null&&ot!==null&&Sp(Z,ot,fe,me,!0)}}e:{if(J=B?Ws(B):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var ge=D1;else if(np(J))if(ap)ge=F1;else{ge=L1;var Ce=M1}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ge=$1);if(ge&&(ge=ge(s,B))){sp(Z,ge,c,X);break e}Ce&&Ce(s,J,B),s==="focusout"&&(Ce=J._wrapperState)&&Ce.controlled&&J.type==="number"&&Xc(J,"number",J.value)}switch(Ce=B?Ws(B):window,s){case"focusin":(np(Ce)||Ce.contentEditable==="true")&&(zs=Ce,Eu=B,ai=null);break;case"focusout":ai=Eu=zs=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,fp(Z,c,X);break;case"selectionchange":if(B1)break;case"keydown":case"keyup":fp(Z,c,X)}var Ee;if(Nu)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Us?tp(s,c)&&(Pe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(Xm&&c.locale!=="ko"&&(Us||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Us&&(Ee=qm()):(Sn=X,vu="value"in Sn?Sn.value:Sn.textContent,Us=!0)),Ce=Po(B,Pe),0<Ce.length&&(Pe=new Ym(Pe,s,null,c,X),Z.push({event:Pe,listeners:Ce}),Ee?Pe.data=Ee:(Ee=rp(c),Ee!==null&&(Pe.data=Ee)))),(Ee=T1?P1(s,c):A1(s,c))&&(B=Po(B,"onBeforeInput"),0<B.length&&(X=new Ym("onBeforeInput","beforeinput",null,c,X),Z.push({event:X,listeners:B}),X.data=Ee))}bp(Z,a)})}function li(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Po(s,a){for(var c=a+"Capture",h=[];s!==null;){var p=s,x=p.stateNode;p.tag===5&&x!==null&&(p=x,x=Va(s,c),x!=null&&h.unshift(li(s,x,p)),x=Va(s,a),x!=null&&h.push(li(s,x,p))),s=s.return}return h}function Vs(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Sp(s,a,c,h,p){for(var x=a._reactName,_=[];c!==null&&c!==h;){var R=c,A=R.alternate,B=R.stateNode;if(A!==null&&A===h)break;R.tag===5&&B!==null&&(R=B,p?(A=Va(c,x),A!=null&&_.unshift(li(c,A,R))):p||(A=Va(c,x),A!=null&&_.push(li(c,A,R)))),c=c.return}_.length!==0&&s.push({event:a,listeners:_})}var K1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function _p(s){return(typeof s=="string"?s:""+s).replace(K1,`
`).replace(q1,"")}function Ao(s,a,c){if(a=_p(a),_p(s)!==a&&c)throw Error(r(425))}function Oo(){}var Iu=null,Du=null;function Mu(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(s){return Cp.resolve(null).then(s).catch(Y1)}:Lu;function Y1(s){setTimeout(function(){throw s})}function $u(s,a){var c=a,h=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(h===0){s.removeChild(p),Xa(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=p}while(c);Xa(a)}function Cn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Ep(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),zr="__reactFiber$"+Hs,ci="__reactProps$"+Hs,Zr="__reactContainer$"+Hs,Fu="__reactEvents$"+Hs,J1="__reactListeners$"+Hs,X1="__reactHandles$"+Hs;function ss(s){var a=s[zr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Zr]||c[zr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Ep(s);s!==null;){if(c=s[zr])return c;s=Ep(s)}return a}s=c,c=s.parentNode}return null}function ui(s){return s=s[zr]||s[Zr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ws(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Io(s){return s[ci]||null}var Uu=[],Ks=-1;function En(s){return{current:s}}function Ye(s){0>Ks||(s.current=Uu[Ks],Uu[Ks]=null,Ks--)}function qe(s,a){Ks++,Uu[Ks]=s.current,s.current=a}var kn={},Rt=En(kn),zt=En(!1),as=kn;function qs(s,a){var c=s.type.contextTypes;if(!c)return kn;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var p={},x;for(x in c)p[x]=a[x];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=p),p}function Bt(s){return s=s.childContextTypes,s!=null}function Do(){Ye(zt),Ye(Rt)}function kp(s,a,c){if(Rt.current!==kn)throw Error(r(168));qe(Rt,a),qe(zt,c)}function Rp(s,a,c){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var p in h)if(!(p in a))throw Error(r(108,ee(s)||"Unknown",p));return M({},c,h)}function Mo(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||kn,as=Rt.current,qe(Rt,s),qe(zt,zt.current),!0}function Tp(s,a,c){var h=s.stateNode;if(!h)throw Error(r(169));c?(s=Rp(s,a,as),h.__reactInternalMemoizedMergedChildContext=s,Ye(zt),Ye(Rt),qe(Rt,s)):Ye(zt),qe(zt,c)}var en=null,Lo=!1,zu=!1;function Pp(s){en===null?en=[s]:en.push(s)}function Z1(s){Lo=!0,Pp(s)}function Rn(){if(!zu&&en!==null){zu=!0;var s=0,a=He;try{var c=en;for(He=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}en=null,Lo=!1}catch(p){throw en!==null&&(en=en.slice(s+1)),Om(cu,Rn),p}finally{He=a,zu=!1}}return null}var Gs=[],Qs=0,$o=null,Fo=0,ir=[],or=0,is=null,tn=1,rn="";function os(s,a){Gs[Qs++]=Fo,Gs[Qs++]=$o,$o=s,Fo=a}function Ap(s,a,c){ir[or++]=tn,ir[or++]=rn,ir[or++]=is,is=s;var h=tn;s=rn;var p=32-wr(h)-1;h&=~(1<<p),c+=1;var x=32-wr(a)+p;if(30<x){var _=p-p%5;x=(h&(1<<_)-1).toString(32),h>>=_,p-=_,tn=1<<32-wr(a)+p|c<<p|h,rn=x+s}else tn=1<<x|c<<p|h,rn=s}function Bu(s){s.return!==null&&(os(s,1),Ap(s,1,0))}function Vu(s){for(;s===$o;)$o=Gs[--Qs],Gs[Qs]=null,Fo=Gs[--Qs],Gs[Qs]=null;for(;s===is;)is=ir[--or],ir[or]=null,rn=ir[--or],ir[or]=null,tn=ir[--or],ir[or]=null}var Qt=null,Yt=null,Xe=!1,br=null;function Op(s,a){var c=dr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function Ip(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Qt=s,Yt=Cn(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Qt=s,Yt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=is!==null?{id:tn,overflow:rn}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=dr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Qt=s,Yt=null,!0):!1;default:return!1}}function Hu(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Wu(s){if(Xe){var a=Yt;if(a){var c=a;if(!Ip(s,a)){if(Hu(s))throw Error(r(418));a=Cn(c.nextSibling);var h=Qt;a&&Ip(s,a)?Op(h,c):(s.flags=s.flags&-4097|2,Xe=!1,Qt=s)}}else{if(Hu(s))throw Error(r(418));s.flags=s.flags&-4097|2,Xe=!1,Qt=s}}}function Dp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Qt=s}function Uo(s){if(s!==Qt)return!1;if(!Xe)return Dp(s),Xe=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Mu(s.type,s.memoizedProps)),a&&(a=Yt)){if(Hu(s))throw Mp(),Error(r(418));for(;a;)Op(s,a),a=Cn(a.nextSibling)}if(Dp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Yt=Cn(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Yt=null}}else Yt=Qt?Cn(s.stateNode.nextSibling):null;return!0}function Mp(){for(var s=Yt;s;)s=Cn(s.nextSibling)}function Ys(){Yt=Qt=null,Xe=!1}function Ku(s){br===null?br=[s]:br.push(s)}var eS=T.ReactCurrentBatchConfig;function di(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var h=c.stateNode}if(!h)throw Error(r(147,s));var p=h,x=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(_){var R=p.refs;_===null?delete R[x]:R[x]=_},a._stringRef=x,a)}if(typeof s!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,s))}return s}function zo(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Lp(s){var a=s._init;return a(s._payload)}function $p(s){function a(U,I){if(s){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function c(U,I){if(!s)return null;for(;I!==null;)a(U,I),I=I.sibling;return null}function h(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function p(U,I){return U=Ln(U,I),U.index=0,U.sibling=null,U}function x(U,I,z){return U.index=z,s?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=2,I):z):(U.flags|=2,I)):(U.flags|=1048576,I)}function _(U){return s&&U.alternate===null&&(U.flags|=2),U}function R(U,I,z,te){return I===null||I.tag!==6?(I=Ld(z,U.mode,te),I.return=U,I):(I=p(I,z),I.return=U,I)}function A(U,I,z,te){var ge=z.type;return ge===L?X(U,I,z.props.children,te,z.key):I!==null&&(I.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ne&&Lp(ge)===I.type)?(te=p(I,z.props),te.ref=di(U,I,z),te.return=U,te):(te=dl(z.type,z.key,z.props,null,U.mode,te),te.ref=di(U,I,z),te.return=U,te)}function B(U,I,z,te){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=$d(z,U.mode,te),I.return=U,I):(I=p(I,z.children||[]),I.return=U,I)}function X(U,I,z,te,ge){return I===null||I.tag!==7?(I=ps(z,U.mode,te,ge),I.return=U,I):(I=p(I,z),I.return=U,I)}function Z(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Ld(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $:return z=dl(I.type,I.key,I.props,null,U.mode,z),z.ref=di(U,null,I),z.return=U,z;case O:return I=$d(I,U.mode,z),I.return=U,I;case ne:var te=I._init;return Z(U,te(I._payload),z)}if(Ua(I)||W(I))return I=ps(I,U.mode,z,null),I.return=U,I;zo(U,I)}return null}function J(U,I,z,te){var ge=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:R(U,I,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===ge?A(U,I,z,te):null;case O:return z.key===ge?B(U,I,z,te):null;case ne:return ge=z._init,J(U,I,ge(z._payload),te)}if(Ua(z)||W(z))return ge!==null?null:X(U,I,z,te,null);zo(U,z)}return null}function ue(U,I,z,te,ge){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(z)||null,R(I,U,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case $:return U=U.get(te.key===null?z:te.key)||null,A(I,U,te,ge);case O:return U=U.get(te.key===null?z:te.key)||null,B(I,U,te,ge);case ne:var Ce=te._init;return ue(U,I,z,Ce(te._payload),ge)}if(Ua(te)||W(te))return U=U.get(z)||null,X(I,U,te,ge,null);zo(I,te)}return null}function fe(U,I,z,te){for(var ge=null,Ce=null,Ee=I,Pe=I=0,xt=null;Ee!==null&&Pe<z.length;Pe++){Ee.index>Pe?(xt=Ee,Ee=null):xt=Ee.sibling;var Be=J(U,Ee,z[Pe],te);if(Be===null){Ee===null&&(Ee=xt);break}s&&Ee&&Be.alternate===null&&a(U,Ee),I=x(Be,I,Pe),Ce===null?ge=Be:Ce.sibling=Be,Ce=Be,Ee=xt}if(Pe===z.length)return c(U,Ee),Xe&&os(U,Pe),ge;if(Ee===null){for(;Pe<z.length;Pe++)Ee=Z(U,z[Pe],te),Ee!==null&&(I=x(Ee,I,Pe),Ce===null?ge=Ee:Ce.sibling=Ee,Ce=Ee);return Xe&&os(U,Pe),ge}for(Ee=h(U,Ee);Pe<z.length;Pe++)xt=ue(Ee,U,Pe,z[Pe],te),xt!==null&&(s&&xt.alternate!==null&&Ee.delete(xt.key===null?Pe:xt.key),I=x(xt,I,Pe),Ce===null?ge=xt:Ce.sibling=xt,Ce=xt);return s&&Ee.forEach(function($n){return a(U,$n)}),Xe&&os(U,Pe),ge}function me(U,I,z,te){var ge=W(z);if(typeof ge!="function")throw Error(r(150));if(z=ge.call(z),z==null)throw Error(r(151));for(var Ce=ge=null,Ee=I,Pe=I=0,xt=null,Be=z.next();Ee!==null&&!Be.done;Pe++,Be=z.next()){Ee.index>Pe?(xt=Ee,Ee=null):xt=Ee.sibling;var $n=J(U,Ee,Be.value,te);if($n===null){Ee===null&&(Ee=xt);break}s&&Ee&&$n.alternate===null&&a(U,Ee),I=x($n,I,Pe),Ce===null?ge=$n:Ce.sibling=$n,Ce=$n,Ee=xt}if(Be.done)return c(U,Ee),Xe&&os(U,Pe),ge;if(Ee===null){for(;!Be.done;Pe++,Be=z.next())Be=Z(U,Be.value,te),Be!==null&&(I=x(Be,I,Pe),Ce===null?ge=Be:Ce.sibling=Be,Ce=Be);return Xe&&os(U,Pe),ge}for(Ee=h(U,Ee);!Be.done;Pe++,Be=z.next())Be=ue(Ee,U,Pe,Be.value,te),Be!==null&&(s&&Be.alternate!==null&&Ee.delete(Be.key===null?Pe:Be.key),I=x(Be,I,Pe),Ce===null?ge=Be:Ce.sibling=Be,Ce=Be);return s&&Ee.forEach(function(OS){return a(U,OS)}),Xe&&os(U,Pe),ge}function ot(U,I,z,te){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:e:{for(var ge=z.key,Ce=I;Ce!==null;){if(Ce.key===ge){if(ge=z.type,ge===L){if(Ce.tag===7){c(U,Ce.sibling),I=p(Ce,z.props.children),I.return=U,U=I;break e}}else if(Ce.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ne&&Lp(ge)===Ce.type){c(U,Ce.sibling),I=p(Ce,z.props),I.ref=di(U,Ce,z),I.return=U,U=I;break e}c(U,Ce);break}else a(U,Ce);Ce=Ce.sibling}z.type===L?(I=ps(z.props.children,U.mode,te,z.key),I.return=U,U=I):(te=dl(z.type,z.key,z.props,null,U.mode,te),te.ref=di(U,I,z),te.return=U,U=te)}return _(U);case O:e:{for(Ce=z.key;I!==null;){if(I.key===Ce)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){c(U,I.sibling),I=p(I,z.children||[]),I.return=U,U=I;break e}else{c(U,I);break}else a(U,I);I=I.sibling}I=$d(z,U.mode,te),I.return=U,U=I}return _(U);case ne:return Ce=z._init,ot(U,I,Ce(z._payload),te)}if(Ua(z))return fe(U,I,z,te);if(W(z))return me(U,I,z,te);zo(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,I!==null&&I.tag===6?(c(U,I.sibling),I=p(I,z),I.return=U,U=I):(c(U,I),I=Ld(z,U.mode,te),I.return=U,U=I),_(U)):c(U,I)}return ot}var Js=$p(!0),Fp=$p(!1),Bo=En(null),Vo=null,Xs=null,qu=null;function Gu(){qu=Xs=Vo=null}function Qu(s){var a=Bo.current;Ye(Bo),s._currentValue=a}function Yu(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function Zs(s,a){Vo=s,qu=Xs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Vt=!0),s.firstContext=null)}function lr(s){var a=s._currentValue;if(qu!==s)if(s={context:s,memoizedValue:a,next:null},Xs===null){if(Vo===null)throw Error(r(308));Xs=s,Vo.dependencies={lanes:0,firstContext:s}}else Xs=Xs.next=s;return a}var ls=null;function Ju(s){ls===null?ls=[s]:ls.push(s)}function Up(s,a,c,h){var p=a.interleaved;return p===null?(c.next=c,Ju(a)):(c.next=p.next,p.next=c),a.interleaved=c,nn(s,h)}function nn(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Tn=!1;function Xu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function sn(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Pn(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(ze&2)!==0){var p=h.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a,nn(s,c)}return p=h.interleaved,p===null?(a.next=a,Ju(h)):(a.next=p.next,p.next=a),h.interleaved=a,nn(s,c)}function Ho(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,hu(s,c)}}function Bp(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?p=x=_:x=x.next=_,c=c.next}while(c!==null);x===null?p=x=a:x=x.next=a}else p=x=a;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Wo(s,a,c,h){var p=s.updateQueue;Tn=!1;var x=p.firstBaseUpdate,_=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var A=R,B=A.next;A.next=null,_===null?x=B:_.next=B,_=A;var X=s.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==_&&(R===null?X.firstBaseUpdate=B:R.next=B,X.lastBaseUpdate=A))}if(x!==null){var Z=p.baseState;_=0,X=B=A=null,R=x;do{var J=R.lane,ue=R.eventTime;if((h&J)===J){X!==null&&(X=X.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var fe=s,me=R;switch(J=a,ue=c,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){Z=fe.call(ue,Z,J);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,J=typeof fe=="function"?fe.call(ue,Z,J):fe,J==null)break e;Z=M({},Z,J);break e;case 2:Tn=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,J=p.effects,J===null?p.effects=[R]:J.push(R))}else ue={eventTime:ue,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(B=X=ue,A=Z):X=X.next=ue,_|=J;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;J=R,R=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(X===null&&(A=Z),p.baseState=A,p.firstBaseUpdate=B,p.lastBaseUpdate=X,a=p.shared.interleaved,a!==null){p=a;do _|=p.lane,p=p.next;while(p!==a)}else x===null&&(p.shared.lanes=0);ds|=_,s.lanes=_,s.memoizedState=Z}}function Vp(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],p=h.callback;if(p!==null){if(h.callback=null,h=c,typeof p!="function")throw Error(r(191,p));p.call(h)}}}var hi={},Br=En(hi),fi=En(hi),mi=En(hi);function cs(s){if(s===hi)throw Error(r(174));return s}function Zu(s,a){switch(qe(mi,a),qe(fi,s),qe(Br,hi),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:eu(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=eu(a,s)}Ye(Br),qe(Br,a)}function ea(){Ye(Br),Ye(fi),Ye(mi)}function Hp(s){cs(mi.current);var a=cs(Br.current),c=eu(a,s.type);a!==c&&(qe(fi,s),qe(Br,c))}function ed(s){fi.current===s&&(Ye(Br),Ye(fi))}var rt=En(0);function Ko(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var td=[];function rd(){for(var s=0;s<td.length;s++)td[s]._workInProgressVersionPrimary=null;td.length=0}var qo=T.ReactCurrentDispatcher,nd=T.ReactCurrentBatchConfig,us=0,nt=null,dt=null,gt=null,Go=!1,pi=!1,gi=0,tS=0;function Tt(){throw Error(r(321))}function sd(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!jr(s[c],a[c]))return!1;return!0}function ad(s,a,c,h,p,x){if(us=x,nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,qo.current=s===null||s.memoizedState===null?aS:iS,s=c(h,p),pi){x=0;do{if(pi=!1,gi=0,25<=x)throw Error(r(301));x+=1,gt=dt=null,a.updateQueue=null,qo.current=oS,s=c(h,p)}while(pi)}if(qo.current=Jo,a=dt!==null&&dt.next!==null,us=0,gt=dt=nt=null,Go=!1,a)throw Error(r(300));return s}function id(){var s=gi!==0;return gi=0,s}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?nt.memoizedState=gt=s:gt=gt.next=s,gt}function cr(){if(dt===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=dt.next;var a=gt===null?nt.memoizedState:gt.next;if(a!==null)gt=a,dt=s;else{if(s===null)throw Error(r(310));dt=s,s={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},gt===null?nt.memoizedState=gt=s:gt=gt.next=s}return gt}function vi(s,a){return typeof a=="function"?a(s):a}function od(s){var a=cr(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=dt,p=h.baseQueue,x=c.pending;if(x!==null){if(p!==null){var _=p.next;p.next=x.next,x.next=_}h.baseQueue=p=x,c.pending=null}if(p!==null){x=p.next,h=h.baseState;var R=_=null,A=null,B=x;do{var X=B.lane;if((us&X)===X)A!==null&&(A=A.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:s(h,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};A===null?(R=A=Z,_=h):A=A.next=Z,nt.lanes|=X,ds|=X}B=B.next}while(B!==null&&B!==x);A===null?_=h:A.next=R,jr(h,a.memoizedState)||(Vt=!0),a.memoizedState=h,a.baseState=_,a.baseQueue=A,c.lastRenderedState=h}if(s=c.interleaved,s!==null){p=s;do x=p.lane,nt.lanes|=x,ds|=x,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function ld(s){var a=cr(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=c.dispatch,p=c.pending,x=a.memoizedState;if(p!==null){c.pending=null;var _=p=p.next;do x=s(x,_.action),_=_.next;while(_!==p);jr(x,a.memoizedState)||(Vt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,h]}function Wp(){}function Kp(s,a){var c=nt,h=cr(),p=a(),x=!jr(h.memoizedState,p);if(x&&(h.memoizedState=p,Vt=!0),h=h.queue,cd(Qp.bind(null,c,h,s),[s]),h.getSnapshot!==a||x||gt!==null&&gt.memoizedState.tag&1){if(c.flags|=2048,xi(9,Gp.bind(null,c,h,p,a),void 0,null),vt===null)throw Error(r(349));(us&30)!==0||qp(c,a,p)}return p}function qp(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=nt.updateQueue,a===null?(a={lastEffect:null,stores:null},nt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Gp(s,a,c,h){a.value=c,a.getSnapshot=h,Yp(a)&&Jp(s)}function Qp(s,a,c){return c(function(){Yp(a)&&Jp(s)})}function Yp(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!jr(s,c)}catch{return!0}}function Jp(s){var a=nn(s,1);a!==null&&Cr(a,s,1,-1)}function Xp(s){var a=Vr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:s},a.queue=s,s=s.dispatch=sS.bind(null,nt,s),[a.memoizedState,s]}function xi(s,a,c,h){return s={tag:s,create:a,destroy:c,deps:h,next:null},a=nt.updateQueue,a===null?(a={lastEffect:null,stores:null},nt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s)),s}function Zp(){return cr().memoizedState}function Qo(s,a,c,h){var p=Vr();nt.flags|=s,p.memoizedState=xi(1|a,c,void 0,h===void 0?null:h)}function Yo(s,a,c,h){var p=cr();h=h===void 0?null:h;var x=void 0;if(dt!==null){var _=dt.memoizedState;if(x=_.destroy,h!==null&&sd(h,_.deps)){p.memoizedState=xi(a,c,x,h);return}}nt.flags|=s,p.memoizedState=xi(1|a,c,x,h)}function eg(s,a){return Qo(8390656,8,s,a)}function cd(s,a){return Yo(2048,8,s,a)}function tg(s,a){return Yo(4,2,s,a)}function rg(s,a){return Yo(4,4,s,a)}function ng(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function sg(s,a,c){return c=c!=null?c.concat([s]):null,Yo(4,4,ng.bind(null,a,s),c)}function ud(){}function ag(s,a){var c=cr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&sd(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function ig(s,a){var c=cr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&sd(a,h[1])?h[0]:(s=s(),c.memoizedState=[s,a],s)}function og(s,a,c){return(us&21)===0?(s.baseState&&(s.baseState=!1,Vt=!0),s.memoizedState=c):(jr(c,a)||(c=Lm(),nt.lanes|=c,ds|=c,s.baseState=!0),a)}function rS(s,a){var c=He;He=c!==0&&4>c?c:4,s(!0);var h=nd.transition;nd.transition={};try{s(!1),a()}finally{He=c,nd.transition=h}}function lg(){return cr().memoizedState}function nS(s,a,c){var h=Dn(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},cg(s))ug(a,c);else if(c=Up(s,a,c,h),c!==null){var p=$t();Cr(c,s,h,p),dg(c,a,h)}}function sS(s,a,c){var h=Dn(s),p={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(cg(s))ug(a,p);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var _=a.lastRenderedState,R=x(_,c);if(p.hasEagerState=!0,p.eagerState=R,jr(R,_)){var A=a.interleaved;A===null?(p.next=p,Ju(a)):(p.next=A.next,A.next=p),a.interleaved=p;return}}catch{}c=Up(s,a,p,h),c!==null&&(p=$t(),Cr(c,s,h,p),dg(c,a,h))}}function cg(s){var a=s.alternate;return s===nt||a!==null&&a===nt}function ug(s,a){pi=Go=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function dg(s,a,c){if((c&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,hu(s,c)}}var Jo={readContext:lr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},aS={readContext:lr,useCallback:function(s,a){return Vr().memoizedState=[s,a===void 0?null:a],s},useContext:lr,useEffect:eg,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Qo(4194308,4,ng.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Qo(4194308,4,s,a)},useInsertionEffect:function(s,a){return Qo(4,2,s,a)},useMemo:function(s,a){var c=Vr();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var h=Vr();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=nS.bind(null,nt,s),[h.memoizedState,s]},useRef:function(s){var a=Vr();return s={current:s},a.memoizedState=s},useState:Xp,useDebugValue:ud,useDeferredValue:function(s){return Vr().memoizedState=s},useTransition:function(){var s=Xp(!1),a=s[0];return s=rS.bind(null,s[1]),Vr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var h=nt,p=Vr();if(Xe){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),vt===null)throw Error(r(349));(us&30)!==0||qp(h,a,c)}p.memoizedState=c;var x={value:c,getSnapshot:a};return p.queue=x,eg(Qp.bind(null,h,x,s),[s]),h.flags|=2048,xi(9,Gp.bind(null,h,x,c,a),void 0,null),c},useId:function(){var s=Vr(),a=vt.identifierPrefix;if(Xe){var c=rn,h=tn;c=(h&~(1<<32-wr(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=gi++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=tS++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},iS={readContext:lr,useCallback:ag,useContext:lr,useEffect:cd,useImperativeHandle:sg,useInsertionEffect:tg,useLayoutEffect:rg,useMemo:ig,useReducer:od,useRef:Zp,useState:function(){return od(vi)},useDebugValue:ud,useDeferredValue:function(s){var a=cr();return og(a,dt.memoizedState,s)},useTransition:function(){var s=od(vi)[0],a=cr().memoizedState;return[s,a]},useMutableSource:Wp,useSyncExternalStore:Kp,useId:lg,unstable_isNewReconciler:!1},oS={readContext:lr,useCallback:ag,useContext:lr,useEffect:cd,useImperativeHandle:sg,useInsertionEffect:tg,useLayoutEffect:rg,useMemo:ig,useReducer:ld,useRef:Zp,useState:function(){return ld(vi)},useDebugValue:ud,useDeferredValue:function(s){var a=cr();return dt===null?a.memoizedState=s:og(a,dt.memoizedState,s)},useTransition:function(){var s=ld(vi)[0],a=cr().memoizedState;return[s,a]},useMutableSource:Wp,useSyncExternalStore:Kp,useId:lg,unstable_isNewReconciler:!1};function Nr(s,a){if(s&&s.defaultProps){a=M({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function dd(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:M({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Xo={isMounted:function(s){return(s=s._reactInternals)?ns(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var h=$t(),p=Dn(s),x=sn(h,p);x.payload=a,c!=null&&(x.callback=c),a=Pn(s,x,p),a!==null&&(Cr(a,s,p,h),Ho(a,s,p))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=$t(),p=Dn(s),x=sn(h,p);x.tag=1,x.payload=a,c!=null&&(x.callback=c),a=Pn(s,x,p),a!==null&&(Cr(a,s,p,h),Ho(a,s,p))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=$t(),h=Dn(s),p=sn(c,h);p.tag=2,a!=null&&(p.callback=a),a=Pn(s,p,h),a!==null&&(Cr(a,s,h,c),Ho(a,s,h))}};function hg(s,a,c,h,p,x,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,_):a.prototype&&a.prototype.isPureReactComponent?!si(c,h)||!si(p,x):!0}function fg(s,a,c){var h=!1,p=kn,x=a.contextType;return typeof x=="object"&&x!==null?x=lr(x):(p=Bt(a)?as:Rt.current,h=a.contextTypes,x=(h=h!=null)?qs(s,p):kn),a=new a(c,x),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Xo,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=x),a}function mg(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Xo.enqueueReplaceState(a,a.state,null)}function hd(s,a,c,h){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs={},Xu(s);var x=a.contextType;typeof x=="object"&&x!==null?p.context=lr(x):(x=Bt(a)?as:Rt.current,p.context=qs(s,x)),p.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(dd(s,a,x,c),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(a=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),a!==p.state&&Xo.enqueueReplaceState(p,p.state,null),Wo(s,c,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function ta(s,a){try{var c="",h=a;do c+=_e(h),h=h.return;while(h);var p=c}catch(x){p=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:a,stack:p,digest:null}}function fd(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function md(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var lS=typeof WeakMap=="function"?WeakMap:Map;function pg(s,a,c){c=sn(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){al||(al=!0,Rd=h),md(s,a)},c}function gg(s,a,c){c=sn(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=a.value;c.payload=function(){return h(p)},c.callback=function(){md(s,a)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){md(s,a),typeof h!="function"&&(On===null?On=new Set([this]):On.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})}),c}function vg(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new lS;var p=new Set;h.set(a,p)}else p=h.get(a),p===void 0&&(p=new Set,h.set(a,p));p.has(c)||(p.add(c),s=bS.bind(null,s,a,c),a.then(s,s))}function xg(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function yg(s,a,c,h,p){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=sn(-1,1),a.tag=2,Pn(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var cS=T.ReactCurrentOwner,Vt=!1;function Lt(s,a,c,h){a.child=s===null?Fp(a,null,c,h):Js(a,s.child,c,h)}function wg(s,a,c,h,p){c=c.render;var x=a.ref;return Zs(a,p),h=ad(s,a,c,h,x,p),c=id(),s!==null&&!Vt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~p,an(s,a,p)):(Xe&&c&&Bu(a),a.flags|=1,Lt(s,a,h,p),a.child)}function jg(s,a,c,h,p){if(s===null){var x=c.type;return typeof x=="function"&&!Md(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=x,bg(s,a,x,h,p)):(s=dl(c.type,null,h,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,(s.lanes&p)===0){var _=x.memoizedProps;if(c=c.compare,c=c!==null?c:si,c(_,h)&&s.ref===a.ref)return an(s,a,p)}return a.flags|=1,s=Ln(x,h),s.ref=a.ref,s.return=a,a.child=s}function bg(s,a,c,h,p){if(s!==null){var x=s.memoizedProps;if(si(x,h)&&s.ref===a.ref)if(Vt=!1,a.pendingProps=h=x,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Vt=!0);else return a.lanes=s.lanes,an(s,a,p)}return pd(s,a,c,h,p)}function Ng(s,a,c){var h=a.pendingProps,p=h.children,x=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(na,Jt),Jt|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,qe(na,Jt),Jt|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,qe(na,Jt),Jt|=h}else x!==null?(h=x.baseLanes|c,a.memoizedState=null):h=c,qe(na,Jt),Jt|=h;return Lt(s,a,p,c),a.child}function Sg(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function pd(s,a,c,h,p){var x=Bt(c)?as:Rt.current;return x=qs(a,x),Zs(a,p),c=ad(s,a,c,h,x,p),h=id(),s!==null&&!Vt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~p,an(s,a,p)):(Xe&&h&&Bu(a),a.flags|=1,Lt(s,a,c,p),a.child)}function _g(s,a,c,h,p){if(Bt(c)){var x=!0;Mo(a)}else x=!1;if(Zs(a,p),a.stateNode===null)el(s,a),fg(a,c,h),hd(a,c,h,p),h=!0;else if(s===null){var _=a.stateNode,R=a.memoizedProps;_.props=R;var A=_.context,B=c.contextType;typeof B=="object"&&B!==null?B=lr(B):(B=Bt(c)?as:Rt.current,B=qs(a,B));var X=c.getDerivedStateFromProps,Z=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==h||A!==B)&&mg(a,_,h,B),Tn=!1;var J=a.memoizedState;_.state=J,Wo(a,h,_,p),A=a.memoizedState,R!==h||J!==A||zt.current||Tn?(typeof X=="function"&&(dd(a,c,X,h),A=a.memoizedState),(R=Tn||hg(a,c,R,h,J,A,B))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=A),_.props=h,_.state=A,_.context=B,h=R):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,zp(s,a),R=a.memoizedProps,B=a.type===a.elementType?R:Nr(a.type,R),_.props=B,Z=a.pendingProps,J=_.context,A=c.contextType,typeof A=="object"&&A!==null?A=lr(A):(A=Bt(c)?as:Rt.current,A=qs(a,A));var ue=c.getDerivedStateFromProps;(X=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==Z||J!==A)&&mg(a,_,h,A),Tn=!1,J=a.memoizedState,_.state=J,Wo(a,h,_,p);var fe=a.memoizedState;R!==Z||J!==fe||zt.current||Tn?(typeof ue=="function"&&(dd(a,c,ue,h),fe=a.memoizedState),(B=Tn||hg(a,c,B,h,J,fe,A)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,fe,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,fe,A)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=fe),_.props=h,_.state=fe,_.context=A,h=B):(typeof _.componentDidUpdate!="function"||R===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),h=!1)}return gd(s,a,c,h,x,p)}function gd(s,a,c,h,p,x){Sg(s,a);var _=(a.flags&128)!==0;if(!h&&!_)return p&&Tp(a,c,!1),an(s,a,x);h=a.stateNode,cS.current=a;var R=_&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&_?(a.child=Js(a,s.child,null,x),a.child=Js(a,null,R,x)):Lt(s,a,R,x),a.memoizedState=h.state,p&&Tp(a,c,!0),a.child}function Cg(s){var a=s.stateNode;a.pendingContext?kp(s,a.pendingContext,a.pendingContext!==a.context):a.context&&kp(s,a.context,!1),Zu(s,a.containerInfo)}function Eg(s,a,c,h,p){return Ys(),Ku(p),a.flags|=256,Lt(s,a,c,h),a.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function xd(s){return{baseLanes:s,cachePool:null,transitions:null}}function kg(s,a,c){var h=a.pendingProps,p=rt.current,x=!1,_=(a.flags&128)!==0,R;if((R=_)||(R=s!==null&&s.memoizedState===null?!1:(p&2)!==0),R?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),qe(rt,p&1),s===null)return Wu(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(_=h.children,s=h.fallback,x?(h=a.mode,x=a.child,_={mode:"hidden",children:_},(h&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=_):x=hl(_,h,0,null),s=ps(s,h,c,null),x.return=a,s.return=a,x.sibling=s,a.child=x,a.child.memoizedState=xd(c),a.memoizedState=vd,s):yd(a,_));if(p=s.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return uS(s,a,_,h,R,p,c);if(x){x=h.fallback,_=a.mode,p=s.child,R=p.sibling;var A={mode:"hidden",children:h.children};return(_&1)===0&&a.child!==p?(h=a.child,h.childLanes=0,h.pendingProps=A,a.deletions=null):(h=Ln(p,A),h.subtreeFlags=p.subtreeFlags&14680064),R!==null?x=Ln(R,x):(x=ps(x,_,c,null),x.flags|=2),x.return=a,h.return=a,h.sibling=x,a.child=h,h=x,x=a.child,_=s.child.memoizedState,_=_===null?xd(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},x.memoizedState=_,x.childLanes=s.childLanes&~c,a.memoizedState=vd,h}return x=s.child,s=x.sibling,h=Ln(x,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=h,a.memoizedState=null,h}function yd(s,a){return a=hl({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Zo(s,a,c,h){return h!==null&&Ku(h),Js(a,s.child,null,c),s=yd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function uS(s,a,c,h,p,x,_){if(c)return a.flags&256?(a.flags&=-257,h=fd(Error(r(422))),Zo(s,a,_,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(x=h.fallback,p=a.mode,h=hl({mode:"visible",children:h.children},p,0,null),x=ps(x,p,_,null),x.flags|=2,h.return=a,x.return=a,h.sibling=x,a.child=h,(a.mode&1)!==0&&Js(a,s.child,null,_),a.child.memoizedState=xd(_),a.memoizedState=vd,x);if((a.mode&1)===0)return Zo(s,a,_,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var R=h.dgst;return h=R,x=Error(r(419)),h=fd(x,h,void 0),Zo(s,a,_,h)}if(R=(_&s.childLanes)!==0,Vt||R){if(h=vt,h!==null){switch(_&-_){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|_))!==0?0:p,p!==0&&p!==x.retryLane&&(x.retryLane=p,nn(s,p),Cr(h,s,p,-1))}return Dd(),h=fd(Error(r(421))),Zo(s,a,_,h)}return p.data==="$?"?(a.flags|=128,a.child=s.child,a=NS.bind(null,s),p._reactRetry=a,null):(s=x.treeContext,Yt=Cn(p.nextSibling),Qt=a,Xe=!0,br=null,s!==null&&(ir[or++]=tn,ir[or++]=rn,ir[or++]=is,tn=s.id,rn=s.overflow,is=a),a=yd(a,h.children),a.flags|=4096,a)}function Rg(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Yu(s.return,a,c)}function wd(s,a,c,h,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=p)}function Tg(s,a,c){var h=a.pendingProps,p=h.revealOrder,x=h.tail;if(Lt(s,a,h.children,c),h=rt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rg(s,c,a);else if(s.tag===19)Rg(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(qe(rt,h),(a.mode&1)===0)a.memoizedState=null;else switch(p){case"forwards":for(c=a.child,p=null;c!==null;)s=c.alternate,s!==null&&Ko(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),wd(a,!1,p,c,x);break;case"backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Ko(s)===null){a.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}wd(a,!0,c,null,x);break;case"together":wd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function el(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function an(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),ds|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,c=Ln(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ln(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function dS(s,a,c){switch(a.tag){case 3:Cg(a),Ys();break;case 5:Hp(a);break;case 1:Bt(a.type)&&Mo(a);break;case 4:Zu(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,p=a.memoizedProps.value;qe(Bo,h._currentValue),h._currentValue=p;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(qe(rt,rt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?kg(s,a,c):(qe(rt,rt.current&1),s=an(s,a,c),s!==null?s.sibling:null);qe(rt,rt.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(s.flags&128)!==0){if(h)return Tg(s,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),qe(rt,rt.current),h)break;return null;case 22:case 23:return a.lanes=0,Ng(s,a,c)}return an(s,a,c)}var Pg,jd,Ag,Og;Pg=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},jd=function(){},Ag=function(s,a,c,h){var p=s.memoizedProps;if(p!==h){s=a.stateNode,cs(Br.current);var x=null;switch(c){case"input":p=yr(s,p),h=yr(s,h),x=[];break;case"select":p=M({},p,{value:void 0}),h=M({},h,{value:void 0}),x=[];break;case"textarea":p=Zc(s,p),h=Zc(s,h),x=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Oo)}tu(c,h);var _;c=null;for(B in p)if(!h.hasOwnProperty(B)&&p.hasOwnProperty(B)&&p[B]!=null)if(B==="style"){var R=p[B];for(_ in R)R.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?x||(x=[]):(x=x||[]).push(B,null));for(B in h){var A=h[B];if(R=p?.[B],h.hasOwnProperty(B)&&A!==R&&(A!=null||R!=null))if(B==="style")if(R){for(_ in R)!R.hasOwnProperty(_)||A&&A.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in A)A.hasOwnProperty(_)&&R[_]!==A[_]&&(c||(c={}),c[_]=A[_])}else c||(x||(x=[]),x.push(B,c)),c=A;else B==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,R=R?R.__html:void 0,A!=null&&R!==A&&(x=x||[]).push(B,A)):B==="children"?typeof A!="string"&&typeof A!="number"||(x=x||[]).push(B,""+A):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(A!=null&&B==="onScroll"&&Qe("scroll",s),x||R===A||(x=[])):(x=x||[]).push(B,A))}c&&(x=x||[]).push("style",c);var B=x;(a.updateQueue=B)&&(a.flags|=4)}},Og=function(s,a,c,h){c!==h&&(a.flags|=4)};function yi(s,a){if(!Xe)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Pt(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function hS(s,a,c){var h=a.pendingProps;switch(Vu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(a),null;case 1:return Bt(a.type)&&Do(),Pt(a),null;case 3:return h=a.stateNode,ea(),Ye(zt),Ye(Rt),rd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Uo(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,br!==null&&(Ad(br),br=null))),jd(s,a),Pt(a),null;case 5:ed(a);var p=cs(mi.current);if(c=a.type,s!==null&&a.stateNode!=null)Ag(s,a,c,h,p),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}if(s=cs(Br.current),Uo(a)){h=a.stateNode,c=a.type;var x=a.memoizedProps;switch(h[zr]=a,h[ci]=x,s=(a.mode&1)!==0,c){case"dialog":Qe("cancel",h),Qe("close",h);break;case"iframe":case"object":case"embed":Qe("load",h);break;case"video":case"audio":for(p=0;p<ii.length;p++)Qe(ii[p],h);break;case"source":Qe("error",h);break;case"img":case"image":case"link":Qe("error",h),Qe("load",h);break;case"details":Qe("toggle",h);break;case"input":Os(h,x),Qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!x.multiple},Qe("invalid",h);break;case"textarea":gm(h,x),Qe("invalid",h)}tu(c,x),p=null;for(var _ in x)if(x.hasOwnProperty(_)){var R=x[_];_==="children"?typeof R=="string"?h.textContent!==R&&(x.suppressHydrationWarning!==!0&&Ao(h.textContent,R,s),p=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(x.suppressHydrationWarning!==!0&&Ao(h.textContent,R,s),p=["children",""+R]):o.hasOwnProperty(_)&&R!=null&&_==="onScroll"&&Qe("scroll",h)}switch(c){case"input":Ve(h),pm(h,x,!0);break;case"textarea":Ve(h),xm(h);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(h.onclick=Oo)}h=p,a.updateQueue=h,h!==null&&(a.flags|=4)}else{_=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ym(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=_.createElement(c,{is:h.is}):(s=_.createElement(c),c==="select"&&(_=s,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):s=_.createElementNS(s,c),s[zr]=a,s[ci]=h,Pg(s,a,!1,!1),a.stateNode=s;e:{switch(_=ru(c,h),c){case"dialog":Qe("cancel",s),Qe("close",s),p=h;break;case"iframe":case"object":case"embed":Qe("load",s),p=h;break;case"video":case"audio":for(p=0;p<ii.length;p++)Qe(ii[p],s);p=h;break;case"source":Qe("error",s),p=h;break;case"img":case"image":case"link":Qe("error",s),Qe("load",s),p=h;break;case"details":Qe("toggle",s),p=h;break;case"input":Os(s,h),p=yr(s,h),Qe("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=M({},h,{value:void 0}),Qe("invalid",s);break;case"textarea":gm(s,h),p=Zc(s,h),Qe("invalid",s);break;default:p=h}tu(c,p),R=p;for(x in R)if(R.hasOwnProperty(x)){var A=R[x];x==="style"?bm(s,A):x==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&wm(s,A)):x==="children"?typeof A=="string"?(c!=="textarea"||A!=="")&&za(s,A):typeof A=="number"&&za(s,""+A):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?A!=null&&x==="onScroll"&&Qe("scroll",s):A!=null&&k(s,x,A,_))}switch(c){case"input":Ve(s),pm(s,h,!1);break;case"textarea":Ve(s),xm(s);break;case"option":h.value!=null&&s.setAttribute("value",""+je(h.value));break;case"select":s.multiple=!!h.multiple,x=h.value,x!=null?Ds(s,!!h.multiple,x,!1):h.defaultValue!=null&&Ds(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Oo)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Pt(a),null;case 6:if(s&&a.stateNode!=null)Og(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(c=cs(mi.current),cs(Br.current),Uo(a)){if(h=a.stateNode,c=a.memoizedProps,h[zr]=a,(x=h.nodeValue!==c)&&(s=Qt,s!==null))switch(s.tag){case 3:Ao(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ao(h.nodeValue,c,(s.mode&1)!==0)}x&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[zr]=a,a.stateNode=h}return Pt(a),null;case 13:if(Ye(rt),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Xe&&Yt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Mp(),Ys(),a.flags|=98560,x=!1;else if(x=Uo(a),h!==null&&h.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[zr]=a}else Ys(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pt(a),x=!1}else br!==null&&(Ad(br),br=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(rt.current&1)!==0?ht===0&&(ht=3):Dd())),a.updateQueue!==null&&(a.flags|=4),Pt(a),null);case 4:return ea(),jd(s,a),s===null&&oi(a.stateNode.containerInfo),Pt(a),null;case 10:return Qu(a.type._context),Pt(a),null;case 17:return Bt(a.type)&&Do(),Pt(a),null;case 19:if(Ye(rt),x=a.memoizedState,x===null)return Pt(a),null;if(h=(a.flags&128)!==0,_=x.rendering,_===null)if(h)yi(x,!1);else{if(ht!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Ko(s),_!==null){for(a.flags|=128,yi(x,!1),h=_.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)x=c,s=h,x.flags&=14680066,_=x.alternate,_===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=_.childLanes,x.lanes=_.lanes,x.child=_.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=_.memoizedProps,x.memoizedState=_.memoizedState,x.updateQueue=_.updateQueue,x.type=_.type,s=_.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return qe(rt,rt.current&1|2),a.child}s=s.sibling}x.tail!==null&&it()>sa&&(a.flags|=128,h=!0,yi(x,!1),a.lanes=4194304)}else{if(!h)if(s=Ko(_),s!==null){if(a.flags|=128,h=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),yi(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!Xe)return Pt(a),null}else 2*it()-x.renderingStartTime>sa&&c!==1073741824&&(a.flags|=128,h=!0,yi(x,!1),a.lanes=4194304);x.isBackwards?(_.sibling=a.child,a.child=_):(c=x.last,c!==null?c.sibling=_:a.child=_,x.last=_)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=it(),a.sibling=null,c=rt.current,qe(rt,h?c&1|2:c&1),a):(Pt(a),null);case 22:case 23:return Id(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(Jt&1073741824)!==0&&(Pt(a),a.subtreeFlags&6&&(a.flags|=8192)):Pt(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function fS(s,a){switch(Vu(a),a.tag){case 1:return Bt(a.type)&&Do(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ea(),Ye(zt),Ye(Rt),rd(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return ed(a),null;case 13:if(Ye(rt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ys()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ye(rt),null;case 4:return ea(),null;case 10:return Qu(a.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var tl=!1,At=!1,mS=typeof WeakSet=="function"?WeakSet:Set,he=null;function ra(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){st(s,a,h)}else c.current=null}function bd(s,a,c){try{c()}catch(h){st(s,a,h)}}var Ig=!1;function pS(s,a){if(Iu=jo,s=hp(),Cu(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var _=0,R=-1,A=-1,B=0,X=0,Z=s,J=null;t:for(;;){for(var ue;Z!==c||p!==0&&Z.nodeType!==3||(R=_+p),Z!==x||h!==0&&Z.nodeType!==3||(A=_+h),Z.nodeType===3&&(_+=Z.nodeValue.length),(ue=Z.firstChild)!==null;)J=Z,Z=ue;for(;;){if(Z===s)break t;if(J===c&&++B===p&&(R=_),J===x&&++X===h&&(A=_),(ue=Z.nextSibling)!==null)break;Z=J,J=Z.parentNode}Z=ue}c=R===-1||A===-1?null:{start:R,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(Du={focusedElem:s,selectionRange:c},jo=!1,he=a;he!==null;)if(a=he,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,he=s;else for(;he!==null;){a=he;try{var fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,ot=fe.memoizedState,U=a.stateNode,I=U.getSnapshotBeforeUpdate(a.elementType===a.type?me:Nr(a.type,me),ot);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var z=a.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(te){st(a,a.return,te)}if(s=a.sibling,s!==null){s.return=a.return,he=s;break}he=a.return}return fe=Ig,Ig=!1,fe}function wi(s,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var x=p.destroy;p.destroy=void 0,x!==void 0&&bd(a,c,x)}p=p.next}while(p!==h)}}function rl(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function Nd(s){var a=s.ref;if(a!==null){var c=s.stateNode;s.tag,s=c,typeof a=="function"?a(s):a.current=s}}function Dg(s){var a=s.alternate;a!==null&&(s.alternate=null,Dg(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zr],delete a[ci],delete a[Fu],delete a[J1],delete a[X1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Mg(s){return s.tag===5||s.tag===3||s.tag===4}function Lg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Mg(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sd(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Oo));else if(h!==4&&(s=s.child,s!==null))for(Sd(s,a,c),s=s.sibling;s!==null;)Sd(s,a,c),s=s.sibling}function _d(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(_d(s,a,c),s=s.sibling;s!==null;)_d(s,a,c),s=s.sibling}var jt=null,Sr=!1;function An(s,a,c){for(c=c.child;c!==null;)$g(s,a,c),c=c.sibling}function $g(s,a,c){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(po,c)}catch{}switch(c.tag){case 5:At||ra(c,a);case 6:var h=jt,p=Sr;jt=null,An(s,a,c),jt=h,Sr=p,jt!==null&&(Sr?(s=jt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):jt.removeChild(c.stateNode));break;case 18:jt!==null&&(Sr?(s=jt,c=c.stateNode,s.nodeType===8?$u(s.parentNode,c):s.nodeType===1&&$u(s,c),Xa(s)):$u(jt,c.stateNode));break;case 4:h=jt,p=Sr,jt=c.stateNode.containerInfo,Sr=!0,An(s,a,c),jt=h,Sr=p;break;case 0:case 11:case 14:case 15:if(!At&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var x=p,_=x.destroy;x=x.tag,_!==void 0&&((x&2)!==0||(x&4)!==0)&&bd(c,a,_),p=p.next}while(p!==h)}An(s,a,c);break;case 1:if(!At&&(ra(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(R){st(c,a,R)}An(s,a,c);break;case 21:An(s,a,c);break;case 22:c.mode&1?(At=(h=At)||c.memoizedState!==null,An(s,a,c),At=h):An(s,a,c);break;default:An(s,a,c)}}function Fg(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new mS),a.forEach(function(h){var p=SS.bind(null,s,h);c.has(h)||(c.add(h),h.then(p,p))})}}function _r(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];try{var x=s,_=a,R=_;e:for(;R!==null;){switch(R.tag){case 5:jt=R.stateNode,Sr=!1;break e;case 3:jt=R.stateNode.containerInfo,Sr=!0;break e;case 4:jt=R.stateNode.containerInfo,Sr=!0;break e}R=R.return}if(jt===null)throw Error(r(160));$g(x,_,p),jt=null,Sr=!1;var A=p.alternate;A!==null&&(A.return=null),p.return=null}catch(B){st(p,a,B)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ug(a,s),a=a.sibling}function Ug(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_r(a,s),Hr(s),h&4){try{wi(3,s,s.return),rl(3,s)}catch(me){st(s,s.return,me)}try{wi(5,s,s.return)}catch(me){st(s,s.return,me)}}break;case 1:_r(a,s),Hr(s),h&512&&c!==null&&ra(c,c.return);break;case 5:if(_r(a,s),Hr(s),h&512&&c!==null&&ra(c,c.return),s.flags&32){var p=s.stateNode;try{za(p,"")}catch(me){st(s,s.return,me)}}if(h&4&&(p=s.stateNode,p!=null)){var x=s.memoizedProps,_=c!==null?c.memoizedProps:x,R=s.type,A=s.updateQueue;if(s.updateQueue=null,A!==null)try{R==="input"&&x.type==="radio"&&x.name!=null&&Is(p,x),ru(R,_);var B=ru(R,x);for(_=0;_<A.length;_+=2){var X=A[_],Z=A[_+1];X==="style"?bm(p,Z):X==="dangerouslySetInnerHTML"?wm(p,Z):X==="children"?za(p,Z):k(p,X,Z,B)}switch(R){case"input":rs(p,x);break;case"textarea":vm(p,x);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?Ds(p,!!x.multiple,ue,!1):J!==!!x.multiple&&(x.defaultValue!=null?Ds(p,!!x.multiple,x.defaultValue,!0):Ds(p,!!x.multiple,x.multiple?[]:"",!1))}p[ci]=x}catch(me){st(s,s.return,me)}}break;case 6:if(_r(a,s),Hr(s),h&4){if(s.stateNode===null)throw Error(r(162));p=s.stateNode,x=s.memoizedProps;try{p.nodeValue=x}catch(me){st(s,s.return,me)}}break;case 3:if(_r(a,s),Hr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Xa(a.containerInfo)}catch(me){st(s,s.return,me)}break;case 4:_r(a,s),Hr(s);break;case 13:_r(a,s),Hr(s),p=s.child,p.flags&8192&&(x=p.memoizedState!==null,p.stateNode.isHidden=x,!x||p.alternate!==null&&p.alternate.memoizedState!==null||(kd=it())),h&4&&Fg(s);break;case 22:if(X=c!==null&&c.memoizedState!==null,s.mode&1?(At=(B=At)||X,_r(a,s),At=B):_r(a,s),Hr(s),h&8192){if(B=s.memoizedState!==null,(s.stateNode.isHidden=B)&&!X&&(s.mode&1)!==0)for(he=s,X=s.child;X!==null;){for(Z=he=X;he!==null;){switch(J=he,ue=J.child,J.tag){case 0:case 11:case 14:case 15:wi(4,J,J.return);break;case 1:ra(J,J.return);var fe=J.stateNode;if(typeof fe.componentWillUnmount=="function"){h=J,c=J.return;try{a=h,fe.props=a.memoizedProps,fe.state=a.memoizedState,fe.componentWillUnmount()}catch(me){st(h,c,me)}}break;case 5:ra(J,J.return);break;case 22:if(J.memoizedState!==null){Vg(Z);continue}}ue!==null?(ue.return=J,he=ue):Vg(Z)}X=X.sibling}e:for(X=null,Z=s;;){if(Z.tag===5){if(X===null){X=Z;try{p=Z.stateNode,B?(x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(R=Z.stateNode,A=Z.memoizedProps.style,_=A!=null&&A.hasOwnProperty("display")?A.display:null,R.style.display=jm("display",_))}catch(me){st(s,s.return,me)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(me){st(s,s.return,me)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===s)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===s)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===s)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:_r(a,s),Hr(s),h&4&&Fg(s);break;case 21:break;default:_r(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(Mg(c)){var h=c;break e}c=c.return}throw Error(r(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(za(p,""),h.flags&=-33);var x=Lg(s);_d(s,x,p);break;case 3:case 4:var _=h.stateNode.containerInfo,R=Lg(s);Sd(s,R,_);break;default:throw Error(r(161))}}catch(A){st(s,s.return,A)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function gS(s,a,c){he=s,zg(s)}function zg(s,a,c){for(var h=(s.mode&1)!==0;he!==null;){var p=he,x=p.child;if(p.tag===22&&h){var _=p.memoizedState!==null||tl;if(!_){var R=p.alternate,A=R!==null&&R.memoizedState!==null||At;R=tl;var B=At;if(tl=_,(At=A)&&!B)for(he=p;he!==null;)_=he,A=_.child,_.tag===22&&_.memoizedState!==null?Hg(p):A!==null?(A.return=_,he=A):Hg(p);for(;x!==null;)he=x,zg(x),x=x.sibling;he=p,tl=R,At=B}Bg(s)}else(p.subtreeFlags&8772)!==0&&x!==null?(x.return=p,he=x):Bg(s)}}function Bg(s){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:At||rl(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!At)if(c===null)h.componentDidMount();else{var p=a.elementType===a.type?c.memoizedProps:Nr(a.type,c.memoizedProps);h.componentDidUpdate(p,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Vp(a,x,h);break;case 3:var _=a.updateQueue;if(_!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Vp(a,_,c)}break;case 5:var R=a.stateNode;if(c===null&&a.flags&4){c=R;var A=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&c.focus();break;case"img":A.src&&(c.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var B=a.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&Xa(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}At||a.flags&512&&Nd(a)}catch(J){st(a,a.return,J)}}if(a===s){he=null;break}if(c=a.sibling,c!==null){c.return=a.return,he=c;break}he=a.return}}function Vg(s){for(;he!==null;){var a=he;if(a===s){he=null;break}var c=a.sibling;if(c!==null){c.return=a.return,he=c;break}he=a.return}}function Hg(s){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{rl(4,a)}catch(A){st(a,c,A)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var p=a.return;try{h.componentDidMount()}catch(A){st(a,p,A)}}var x=a.return;try{Nd(a)}catch(A){st(a,x,A)}break;case 5:var _=a.return;try{Nd(a)}catch(A){st(a,_,A)}}}catch(A){st(a,a.return,A)}if(a===s){he=null;break}var R=a.sibling;if(R!==null){R.return=a.return,he=R;break}he=a.return}}var vS=Math.ceil,nl=T.ReactCurrentDispatcher,Cd=T.ReactCurrentOwner,ur=T.ReactCurrentBatchConfig,ze=0,vt=null,ct=null,bt=0,Jt=0,na=En(0),ht=0,ji=null,ds=0,sl=0,Ed=0,bi=null,Ht=null,kd=0,sa=1/0,on=null,al=!1,Rd=null,On=null,il=!1,In=null,ol=0,Ni=0,Td=null,ll=-1,cl=0;function $t(){return(ze&6)!==0?it():ll!==-1?ll:ll=it()}function Dn(s){return(s.mode&1)===0?1:(ze&2)!==0&&bt!==0?bt&-bt:eS.transition!==null?(cl===0&&(cl=Lm()),cl):(s=He,s!==0||(s=window.event,s=s===void 0?16:Km(s.type)),s)}function Cr(s,a,c,h){if(50<Ni)throw Ni=0,Td=null,Error(r(185));qa(s,c,h),((ze&2)===0||s!==vt)&&(s===vt&&((ze&2)===0&&(sl|=c),ht===4&&Mn(s,bt)),Wt(s,h),c===1&&ze===0&&(a.mode&1)===0&&(sa=it()+500,Lo&&Rn()))}function Wt(s,a){var c=s.callbackNode;e1(s,a);var h=xo(s,s===vt?bt:0);if(h===0)c!==null&&Im(c),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(c!=null&&Im(c),a===1)s.tag===0?Z1(Kg.bind(null,s)):Pp(Kg.bind(null,s)),Q1(function(){(ze&6)===0&&Rn()}),c=null;else{switch($m(h)){case 1:c=cu;break;case 4:c=Dm;break;case 16:c=mo;break;case 536870912:c=Mm;break;default:c=mo}c=ev(c,Wg.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Wg(s,a){if(ll=-1,cl=0,(ze&6)!==0)throw Error(r(327));var c=s.callbackNode;if(aa()&&s.callbackNode!==c)return null;var h=xo(s,s===vt?bt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=ul(s,h);else{a=h;var p=ze;ze|=2;var x=Gg();(vt!==s||bt!==a)&&(on=null,sa=it()+500,fs(s,a));do try{wS();break}catch(R){qg(s,R)}while(!0);Gu(),nl.current=x,ze=p,ct!==null?a=0:(vt=null,bt=0,a=ht)}if(a!==0){if(a===2&&(p=uu(s),p!==0&&(h=p,a=Pd(s,p))),a===1)throw c=ji,fs(s,0),Mn(s,h),Wt(s,it()),c;if(a===6)Mn(s,h);else{if(p=s.current.alternate,(h&30)===0&&!xS(p)&&(a=ul(s,h),a===2&&(x=uu(s),x!==0&&(h=x,a=Pd(s,x))),a===1))throw c=ji,fs(s,0),Mn(s,h),Wt(s,it()),c;switch(s.finishedWork=p,s.finishedLanes=h,a){case 0:case 1:throw Error(r(345));case 2:ms(s,Ht,on);break;case 3:if(Mn(s,h),(h&130023424)===h&&(a=kd+500-it(),10<a)){if(xo(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){$t(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Lu(ms.bind(null,s,Ht,on),a);break}ms(s,Ht,on);break;case 4:if(Mn(s,h),(h&4194240)===h)break;for(a=s.eventTimes,p=-1;0<h;){var _=31-wr(h);x=1<<_,_=a[_],_>p&&(p=_),h&=~x}if(h=p,h=it()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*vS(h/1960))-h,10<h){s.timeoutHandle=Lu(ms.bind(null,s,Ht,on),h);break}ms(s,Ht,on);break;case 5:ms(s,Ht,on);break;default:throw Error(r(329))}}}return Wt(s,it()),s.callbackNode===c?Wg.bind(null,s):null}function Pd(s,a){var c=bi;return s.current.memoizedState.isDehydrated&&(fs(s,a).flags|=256),s=ul(s,a),s!==2&&(a=Ht,Ht=c,a!==null&&Ad(a)),s}function Ad(s){Ht===null?Ht=s:Ht.push.apply(Ht,s)}function xS(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var p=c[h],x=p.getSnapshot;p=p.value;try{if(!jr(x(),p))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mn(s,a){for(a&=~Ed,a&=~sl,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-wr(a),h=1<<c;s[c]=-1,a&=~h}}function Kg(s){if((ze&6)!==0)throw Error(r(327));aa();var a=xo(s,0);if((a&1)===0)return Wt(s,it()),null;var c=ul(s,a);if(s.tag!==0&&c===2){var h=uu(s);h!==0&&(a=h,c=Pd(s,h))}if(c===1)throw c=ji,fs(s,0),Mn(s,a),Wt(s,it()),c;if(c===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ms(s,Ht,on),Wt(s,it()),null}function Od(s,a){var c=ze;ze|=1;try{return s(a)}finally{ze=c,ze===0&&(sa=it()+500,Lo&&Rn())}}function hs(s){In!==null&&In.tag===0&&(ze&6)===0&&aa();var a=ze;ze|=1;var c=ur.transition,h=He;try{if(ur.transition=null,He=1,s)return s()}finally{He=h,ur.transition=c,ze=a,(ze&6)===0&&Rn()}}function Id(){Jt=na.current,Ye(na)}function fs(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,G1(c)),ct!==null)for(c=ct.return;c!==null;){var h=c;switch(Vu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Do();break;case 3:ea(),Ye(zt),Ye(Rt),rd();break;case 5:ed(h);break;case 4:ea();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:Qu(h.type._context);break;case 22:case 23:Id()}c=c.return}if(vt=s,ct=s=Ln(s.current,null),bt=Jt=a,ht=0,ji=null,Ed=sl=ds=0,Ht=bi=null,ls!==null){for(a=0;a<ls.length;a++)if(c=ls[a],h=c.interleaved,h!==null){c.interleaved=null;var p=h.next,x=c.pending;if(x!==null){var _=x.next;x.next=p,h.next=_}c.pending=h}ls=null}return s}function qg(s,a){do{var c=ct;try{if(Gu(),qo.current=Jo,Go){for(var h=nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Go=!1}if(us=0,gt=dt=nt=null,pi=!1,gi=0,Cd.current=null,c===null||c.return===null){ht=1,ji=a,ct=null;break}e:{var x=s,_=c.return,R=c,A=a;if(a=bt,R.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var B=A,X=R,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var J=X.alternate;J?(X.updateQueue=J.updateQueue,X.memoizedState=J.memoizedState,X.lanes=J.lanes):(X.updateQueue=null,X.memoizedState=null)}var ue=xg(_);if(ue!==null){ue.flags&=-257,yg(ue,_,R,x,a),ue.mode&1&&vg(x,B,a),a=ue,A=B;var fe=a.updateQueue;if(fe===null){var me=new Set;me.add(A),a.updateQueue=me}else fe.add(A);break e}else{if((a&1)===0){vg(x,B,a),Dd();break e}A=Error(r(426))}}else if(Xe&&R.mode&1){var ot=xg(_);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),yg(ot,_,R,x,a),Ku(ta(A,R));break e}}x=A=ta(A,R),ht!==4&&(ht=2),bi===null?bi=[x]:bi.push(x),x=_;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var U=pg(x,A,a);Bp(x,U);break e;case 1:R=A;var I=x.type,z=x.stateNode;if((x.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(On===null||!On.has(z)))){x.flags|=65536,a&=-a,x.lanes|=a;var te=gg(x,R,a);Bp(x,te);break e}}x=x.return}while(x!==null)}Yg(c)}catch(ge){a=ge,ct===c&&c!==null&&(ct=c=c.return);continue}break}while(!0)}function Gg(){var s=nl.current;return nl.current=Jo,s===null?Jo:s}function Dd(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||(ds&268435455)===0&&(sl&268435455)===0||Mn(vt,bt)}function ul(s,a){var c=ze;ze|=2;var h=Gg();(vt!==s||bt!==a)&&(on=null,fs(s,a));do try{yS();break}catch(p){qg(s,p)}while(!0);if(Gu(),ze=c,nl.current=h,ct!==null)throw Error(r(261));return vt=null,bt=0,ht}function yS(){for(;ct!==null;)Qg(ct)}function wS(){for(;ct!==null&&!WN();)Qg(ct)}function Qg(s){var a=Zg(s.alternate,s,Jt);s.memoizedProps=s.pendingProps,a===null?Yg(s):ct=a,Cd.current=null}function Yg(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=hS(c,a,Jt),c!==null){ct=c;return}}else{if(c=fS(c,a),c!==null){c.flags&=32767,ct=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ht=6,ct=null;return}}if(a=a.sibling,a!==null){ct=a;return}ct=a=s}while(a!==null);ht===0&&(ht=5)}function ms(s,a,c){var h=He,p=ur.transition;try{ur.transition=null,He=1,jS(s,a,c,h)}finally{ur.transition=p,He=h}return null}function jS(s,a,c,h){do aa();while(In!==null);if((ze&6)!==0)throw Error(r(327));c=s.finishedWork;var p=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(t1(s,x),s===vt&&(ct=vt=null,bt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||il||(il=!0,ev(mo,function(){return aa(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=ur.transition,ur.transition=null;var _=He;He=1;var R=ze;ze|=4,Cd.current=null,pS(s,c),Ug(c,s),z1(Du),jo=!!Iu,Du=Iu=null,s.current=c,gS(c),KN(),ze=R,He=_,ur.transition=x}else s.current=c;if(il&&(il=!1,In=s,ol=p),x=s.pendingLanes,x===0&&(On=null),QN(c.stateNode),Wt(s,it()),a!==null)for(h=s.onRecoverableError,c=0;c<a.length;c++)p=a[c],h(p.value,{componentStack:p.stack,digest:p.digest});if(al)throw al=!1,s=Rd,Rd=null,s;return(ol&1)!==0&&s.tag!==0&&aa(),x=s.pendingLanes,(x&1)!==0?s===Td?Ni++:(Ni=0,Td=s):Ni=0,Rn(),null}function aa(){if(In!==null){var s=$m(ol),a=ur.transition,c=He;try{if(ur.transition=null,He=16>s?16:s,In===null)var h=!1;else{if(s=In,In=null,ol=0,(ze&6)!==0)throw Error(r(331));var p=ze;for(ze|=4,he=s.current;he!==null;){var x=he,_=x.child;if((he.flags&16)!==0){var R=x.deletions;if(R!==null){for(var A=0;A<R.length;A++){var B=R[A];for(he=B;he!==null;){var X=he;switch(X.tag){case 0:case 11:case 15:wi(8,X,x)}var Z=X.child;if(Z!==null)Z.return=X,he=Z;else for(;he!==null;){X=he;var J=X.sibling,ue=X.return;if(Dg(X),X===B){he=null;break}if(J!==null){J.return=ue,he=J;break}he=ue}}}var fe=x.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var ot=me.sibling;me.sibling=null,me=ot}while(me!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&_!==null)_.return=x,he=_;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:wi(9,x,x.return)}var U=x.sibling;if(U!==null){U.return=x.return,he=U;break e}he=x.return}}var I=s.current;for(he=I;he!==null;){_=he;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,he=z;else e:for(_=I;he!==null;){if(R=he,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:rl(9,R)}}catch(ge){st(R,R.return,ge)}if(R===_){he=null;break e}var te=R.sibling;if(te!==null){te.return=R.return,he=te;break e}he=R.return}}if(ze=p,Rn(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(po,s)}catch{}h=!0}return h}finally{He=c,ur.transition=a}}return!1}function Jg(s,a,c){a=ta(c,a),a=pg(s,a,1),s=Pn(s,a,1),a=$t(),s!==null&&(qa(s,1,a),Wt(s,a))}function st(s,a,c){if(s.tag===3)Jg(s,s,c);else for(;a!==null;){if(a.tag===3){Jg(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(On===null||!On.has(h))){s=ta(c,s),s=gg(a,s,1),a=Pn(a,s,1),s=$t(),a!==null&&(qa(a,1,s),Wt(a,s));break}}a=a.return}}function bS(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),a=$t(),s.pingedLanes|=s.suspendedLanes&c,vt===s&&(bt&c)===c&&(ht===4||ht===3&&(bt&130023424)===bt&&500>it()-kd?fs(s,0):Ed|=c),Wt(s,a)}function Xg(s,a){a===0&&((s.mode&1)===0?a=1:(a=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var c=$t();s=nn(s,a),s!==null&&(qa(s,a,c),Wt(s,c))}function NS(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Xg(s,c)}function SS(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(a),Xg(s,c)}var Zg;Zg=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||zt.current)Vt=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Vt=!1,dS(s,a,c);Vt=(s.flags&131072)!==0}else Vt=!1,Xe&&(a.flags&1048576)!==0&&Ap(a,Fo,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;el(s,a),s=a.pendingProps;var p=qs(a,Rt.current);Zs(a,c),p=ad(null,a,h,s,p,c);var x=id();return a.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Bt(h)?(x=!0,Mo(a)):x=!1,a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Xu(a),p.updater=Xo,a.stateNode=p,p._reactInternals=a,hd(a,h,s,c),a=gd(null,a,h,!0,x,c)):(a.tag=0,Xe&&x&&Bu(a),Lt(null,a,p,c),a=a.child),a;case 16:h=a.elementType;e:{switch(el(s,a),s=a.pendingProps,p=h._init,h=p(h._payload),a.type=h,p=a.tag=CS(h),s=Nr(h,s),p){case 0:a=pd(null,a,h,s,c);break e;case 1:a=_g(null,a,h,s,c);break e;case 11:a=wg(null,a,h,s,c);break e;case 14:a=jg(null,a,h,Nr(h.type,s),c);break e}throw Error(r(306,h,""))}return a;case 0:return h=a.type,p=a.pendingProps,p=a.elementType===h?p:Nr(h,p),pd(s,a,h,p,c);case 1:return h=a.type,p=a.pendingProps,p=a.elementType===h?p:Nr(h,p),_g(s,a,h,p,c);case 3:e:{if(Cg(a),s===null)throw Error(r(387));h=a.pendingProps,x=a.memoizedState,p=x.element,zp(s,a),Wo(a,h,null,c);var _=a.memoizedState;if(h=_.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){p=ta(Error(r(423)),a),a=Eg(s,a,h,c,p);break e}else if(h!==p){p=ta(Error(r(424)),a),a=Eg(s,a,h,c,p);break e}else for(Yt=Cn(a.stateNode.containerInfo.firstChild),Qt=a,Xe=!0,br=null,c=Fp(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ys(),h===p){a=an(s,a,c);break e}Lt(s,a,h,c)}a=a.child}return a;case 5:return Hp(a),s===null&&Wu(a),h=a.type,p=a.pendingProps,x=s!==null?s.memoizedProps:null,_=p.children,Mu(h,p)?_=null:x!==null&&Mu(h,x)&&(a.flags|=32),Sg(s,a),Lt(s,a,_,c),a.child;case 6:return s===null&&Wu(a),null;case 13:return kg(s,a,c);case 4:return Zu(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Js(a,null,h,c):Lt(s,a,h,c),a.child;case 11:return h=a.type,p=a.pendingProps,p=a.elementType===h?p:Nr(h,p),wg(s,a,h,p,c);case 7:return Lt(s,a,a.pendingProps,c),a.child;case 8:return Lt(s,a,a.pendingProps.children,c),a.child;case 12:return Lt(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,p=a.pendingProps,x=a.memoizedProps,_=p.value,qe(Bo,h._currentValue),h._currentValue=_,x!==null)if(jr(x.value,_)){if(x.children===p.children&&!zt.current){a=an(s,a,c);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var R=x.dependencies;if(R!==null){_=x.child;for(var A=R.firstContext;A!==null;){if(A.context===h){if(x.tag===1){A=sn(-1,c&-c),A.tag=2;var B=x.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?A.next=A:(A.next=X.next,X.next=A),B.pending=A}}x.lanes|=c,A=x.alternate,A!==null&&(A.lanes|=c),Yu(x.return,c,a),R.lanes|=c;break}A=A.next}}else if(x.tag===10)_=x.type===a.type?null:x.child;else if(x.tag===18){if(_=x.return,_===null)throw Error(r(341));_.lanes|=c,R=_.alternate,R!==null&&(R.lanes|=c),Yu(_,c,a),_=x.sibling}else _=x.child;if(_!==null)_.return=x;else for(_=x;_!==null;){if(_===a){_=null;break}if(x=_.sibling,x!==null){x.return=_.return,_=x;break}_=_.return}x=_}Lt(s,a,p.children,c),a=a.child}return a;case 9:return p=a.type,h=a.pendingProps.children,Zs(a,c),p=lr(p),h=h(p),a.flags|=1,Lt(s,a,h,c),a.child;case 14:return h=a.type,p=Nr(h,a.pendingProps),p=Nr(h.type,p),jg(s,a,h,p,c);case 15:return bg(s,a,a.type,a.pendingProps,c);case 17:return h=a.type,p=a.pendingProps,p=a.elementType===h?p:Nr(h,p),el(s,a),a.tag=1,Bt(h)?(s=!0,Mo(a)):s=!1,Zs(a,c),fg(a,h,p),hd(a,h,p,c),gd(null,a,h,!0,s,c);case 19:return Tg(s,a,c);case 22:return Ng(s,a,c)}throw Error(r(156,a.tag))};function ev(s,a){return Om(s,a)}function _S(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(s,a,c,h){return new _S(s,a,c,h)}function Md(s){return s=s.prototype,!(!s||!s.isReactComponent)}function CS(s){if(typeof s=="function")return Md(s)?1:0;if(s!=null){if(s=s.$$typeof,s===re)return 11;if(s===q)return 14}return 2}function Ln(s,a){var c=s.alternate;return c===null?(c=dr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function dl(s,a,c,h,p,x){var _=2;if(h=s,typeof s=="function")Md(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case L:return ps(c.children,p,x,a);case G:_=8,p|=8;break;case D:return s=dr(12,c,a,p|2),s.elementType=D,s.lanes=x,s;case le:return s=dr(13,c,a,p),s.elementType=le,s.lanes=x,s;case Q:return s=dr(19,c,a,p),s.elementType=Q,s.lanes=x,s;case de:return hl(c,p,x,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:_=10;break e;case Y:_=9;break e;case re:_=11;break e;case q:_=14;break e;case ne:_=16,h=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=dr(_,c,a,p),a.elementType=s,a.type=h,a.lanes=x,a}function ps(s,a,c,h){return s=dr(7,s,h,a),s.lanes=c,s}function hl(s,a,c,h){return s=dr(22,s,h,a),s.elementType=de,s.lanes=c,s.stateNode={isHidden:!1},s}function Ld(s,a,c){return s=dr(6,s,null,a),s.lanes=c,s}function $d(s,a,c){return a=dr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function ES(s,a,c,h,p){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=du(0),this.expirationTimes=du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=du(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Fd(s,a,c,h,p,x,_,R,A){return s=new ES(s,a,c,R,A),a===1?(a=1,x===!0&&(a|=8)):a=0,x=dr(3,null,null,a),s.current=x,x.stateNode=s,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xu(x),s}function kS(s,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:h==null?null:""+h,children:s,containerInfo:a,implementation:c}}function tv(s){if(!s)return kn;s=s._reactInternals;e:{if(ns(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Bt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var c=s.type;if(Bt(c))return Rp(s,c,a)}return a}function rv(s,a,c,h,p,x,_,R,A){return s=Fd(c,h,!0,s,p,x,_,R,A),s.context=tv(null),c=s.current,h=$t(),p=Dn(c),x=sn(h,p),x.callback=a??null,Pn(c,x,p),s.current.lanes=p,qa(s,p,h),Wt(s,h),s}function fl(s,a,c,h){var p=a.current,x=$t(),_=Dn(p);return c=tv(c),a.context===null?a.context=c:a.pendingContext=c,a=sn(x,_),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=Pn(p,a,_),s!==null&&(Cr(s,p,_,x),Ho(s,p,_)),_}function ml(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function nv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Ud(s,a){nv(s,a),(s=s.alternate)&&nv(s,a)}function RS(){return null}var sv=typeof reportError=="function"?reportError:function(s){console.error(s)};function zd(s){this._internalRoot=s}pl.prototype.render=zd.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));fl(s,a,null,null)},pl.prototype.unmount=zd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;hs(function(){fl(null,s,null,null)}),a[Zr]=null}};function pl(s){this._internalRoot=s}pl.prototype.unstable_scheduleHydration=function(s){if(s){var a=zm();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Nn.length&&a!==0&&a<Nn[c].priority;c++);Nn.splice(c,0,s),c===0&&Hm(s)}};function Bd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function gl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function av(){}function TS(s,a,c,h,p){if(p){if(typeof h=="function"){var x=h;h=function(){var B=ml(_);x.call(B)}}var _=rv(a,h,s,0,null,!1,!1,"",av);return s._reactRootContainer=_,s[Zr]=_.current,oi(s.nodeType===8?s.parentNode:s),hs(),_}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var R=h;h=function(){var B=ml(A);R.call(B)}}var A=Fd(s,0,!1,null,null,!1,!1,"",av);return s._reactRootContainer=A,s[Zr]=A.current,oi(s.nodeType===8?s.parentNode:s),hs(function(){fl(a,A,c,h)}),A}function vl(s,a,c,h,p){var x=c._reactRootContainer;if(x){var _=x;if(typeof p=="function"){var R=p;p=function(){var A=ml(_);R.call(A)}}fl(a,_,s,p)}else _=TS(c,a,s,p,h);return ml(_)}Fm=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ka(a.pendingLanes);c!==0&&(hu(a,c|1),Wt(a,it()),(ze&6)===0&&(sa=it()+500,Rn()))}break;case 13:hs(function(){var h=nn(s,1);if(h!==null){var p=$t();Cr(h,s,1,p)}}),Ud(s,1)}},fu=function(s){if(s.tag===13){var a=nn(s,134217728);if(a!==null){var c=$t();Cr(a,s,134217728,c)}Ud(s,134217728)}},Um=function(s){if(s.tag===13){var a=Dn(s),c=nn(s,a);if(c!==null){var h=$t();Cr(c,s,a,h)}Ud(s,a)}},zm=function(){return He},Bm=function(s,a){var c=He;try{return He=s,a()}finally{He=c}},au=function(s,a,c){switch(a){case"input":if(rs(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var p=Io(h);if(!p)throw Error(r(90));tt(h),rs(h,p)}}}break;case"textarea":vm(s,c);break;case"select":a=c.value,a!=null&&Ds(s,!!c.multiple,a,!1)}},Cm=Od,Em=hs;var PS={usingClientEntryPoint:!1,Events:[ui,Ws,Io,Sm,_m,Od]},Si={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AS={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Pm(s),s===null?null:s.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||RS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{po=xl.inject(AS),Ur=xl}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PS,Kt.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bd(a))throw Error(r(200));return kS(s,a,null,c)},Kt.createRoot=function(s,a){if(!Bd(s))throw Error(r(299));var c=!1,h="",p=sv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(p=a.onRecoverableError)),a=Fd(s,1,!1,null,null,c,!1,h,p),s[Zr]=a.current,oi(s.nodeType===8?s.parentNode:s),new zd(a)},Kt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Pm(a),s=s===null?null:s.stateNode,s},Kt.flushSync=function(s){return hs(s)},Kt.hydrate=function(s,a,c){if(!gl(a))throw Error(r(200));return vl(null,s,a,!0,c)},Kt.hydrateRoot=function(s,a,c){if(!Bd(s))throw Error(r(405));var h=c!=null&&c.hydratedSources||null,p=!1,x="",_=sv;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),a=rv(a,null,s,1,c??null,p,!1,x,_),s[Zr]=a.current,oi(s),h)for(s=0;s<h.length;s++)c=h[s],p=c._getVersion,p=p(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,p]:a.mutableSourceEagerHydrationData.push(c,p);return new pl(a)},Kt.render=function(s,a,c){if(!gl(a))throw Error(r(200));return vl(null,s,a,!1,c)},Kt.unmountComponentAtNode=function(s){if(!gl(s))throw Error(r(40));return s._reactRootContainer?(hs(function(){vl(null,null,s,!1,function(){s._reactRootContainer=null,s[Zr]=null})}),!0):!1},Kt.unstable_batchedUpdates=Od,Kt.unstable_renderSubtreeIntoContainer=function(s,a,c,h){if(!gl(c))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return vl(s,a,c,!1,h)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var fv;function Zx(){if(fv)return Wd.exports;fv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wd.exports=US(),Wd.exports}var mv;function zS(){if(mv)return yl;mv=1;var e=Zx();return yl.createRoot=e.createRoot,yl.hydrateRoot=e.hydrateRoot,yl}var BS=zS();const VS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ey=(...e)=>e.filter((t,r,i)=>!!t&&i.indexOf(t)===r).join(" ");var HS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WS=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...d},f)=>g.createElement("svg",{ref:f,...HS,width:t,height:t,stroke:e,strokeWidth:i?Number(r)*24/Number(t):r,className:ey("lucide",o),...d},[...u.map(([m,v])=>g.createElement(m,v)),...Array.isArray(l)?l:[l]]));const ce=(e,t)=>{const r=g.forwardRef(({className:i,...o},l)=>g.createElement(WS,{ref:l,iconNode:t,className:ey(`lucide-${VS(e)}`,i),...o}));return r.displayName=`${e}`,r};const pv=ce("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const KS=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const qS=ce("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const GS=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const ia=ce("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const _a=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const yh=ce("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const Dl=ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const QS=ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const gv=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Vl=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const hc=ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const fc=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const af=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const ty=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const mc=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const YS=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const pc=ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Hl=ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Ai=ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const ry=ce("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const JS=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const rr=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const vv=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Ar=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Ml=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const ny=ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const XS=ce("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const ZS=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const xv=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const sy=ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const e_=ce("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const t_=ce("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const r_=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const yv=ce("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const n_=ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const s_=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ay=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const mr=ce("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const pt=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const a_=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const i_=ce("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);const Hn=ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const o_=ce("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const wh=ce("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const l_=ce("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);const pn=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Wn=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const c_=ce("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const iy=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const oy=ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Yi=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ly=ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const u_=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const wv=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const un=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const gr=ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Wl=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const Ir=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const of=ce("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);const d_=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const lf=ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const jh=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ns=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const dn=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Oi=ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const h_=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Kl=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const f_=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const bh=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const qr=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Yn=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const jv=ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function bv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gc(...e){return t=>{let r=!1;const i=e.map(o=>{const l=bv(o,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():bv(e[o],null)}}}}function Me(...e){return g.useCallback(gc(...e),e)}function Ss(e){const t=m_(e),r=g.forwardRef((i,o)=>{const{children:l,...u}=i,d=g.Children.toArray(l),f=d.find(g_);if(f){const m=f.props.children,v=d.map(w=>w===f?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:w);return n.jsx(t,{...u,ref:o,children:g.isValidElement(m)?g.cloneElement(m,void 0,v):null})}return n.jsx(t,{...u,ref:o,children:l})});return r.displayName=`${e}.Slot`,r}var cf=Ss("Slot");function m_(e){const t=g.forwardRef((r,i)=>{const{children:o,...l}=r;if(g.isValidElement(o)){const u=x_(o),d=v_(l,o.props);return o.type!==g.Fragment&&(d.ref=i?gc(i,u):u),g.cloneElement(o,d)}return g.Children.count(o)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cy=Symbol("radix.slottable");function p_(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=cy,t}function g_(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cy}function v_(e,t){const r={...t};for(const i in t){const o=e[i],l=t[i];/^on[A-Z]/.test(i)?o&&l?r[i]=(...d)=>{l(...d),o(...d)}:o&&(r[i]=o):i==="style"?r[i]={...o,...l}:i==="className"&&(r[i]=[o,l].filter(Boolean).join(" "))}return{...e,...r}}function x_(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function uy(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=uy(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function dy(){for(var e,t,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=uy(e))&&(i&&(i+=" "),i+=t);return i}const Nv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sv=dy,Ts=(e,t)=>r=>{var i;if(t?.variants==null)return Sv(e,r?.class,r?.className);const{variants:o,defaultVariants:l}=t,u=Object.keys(o).map(m=>{const v=r?.[m],w=l?.[m];if(v===null)return null;const j=Nv(v)||Nv(w);return o[m][j]}),d=r&&Object.entries(r).reduce((m,v)=>{let[w,j]=v;return j===void 0||(m[w]=j),m},{}),f=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((m,v)=>{let{class:w,className:j,...b}=v;return Object.entries(b).every(S=>{let[y,N]=S;return Array.isArray(N)?N.includes({...l,...d}[y]):{...l,...d}[y]===N})?[...m,w,j]:m},[]);return Sv(e,u,f,r?.class,r?.className)},uf="-",y_=e=>{const t=j_(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{const d=u.split(uf);return d[0]===""&&d.length!==1&&d.shift(),hy(d,t)||w_(u)},getConflictingClassGroupIds:(u,d)=>{const f=r[u]||[];return d&&i[u]?[...f,...i[u]]:f}}},hy=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),o=i?hy(e.slice(1),i):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(uf);return t.validators.find(({validator:u})=>u(l))?.classGroupId},_v=/^\[(.+)\]$/,w_=e=>{if(_v.test(e)){const t=_v.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},j_=e=>{const{theme:t,prefix:r}=e,i={nextPart:new Map,validators:[]};return N_(Object.entries(e.classGroups),r).forEach(([l,u])=>{Nh(u,i,l,t)}),i},Nh=(e,t,r,i)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:Cv(t,o);l.classGroupId=r;return}if(typeof o=="function"){if(b_(o)){Nh(o(i),t,r,i);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,u])=>{Nh(u,Cv(t,l),r,i)})})},Cv=(e,t)=>{let r=e;return t.split(uf).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},b_=e=>e.isThemeGetter,N_=(e,t)=>t?e.map(([r,i])=>{const o=i.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,d])=>[t+u,d])):l);return[r,o]}):e,S_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,i=new Map;const o=(l,u)=>{r.set(l,u),t++,t>e&&(t=0,i=r,r=new Map)};return{get(l){let u=r.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return o(l,u),u},set(l,u){r.has(l)?r.set(l,u):o(l,u)}}},fy="!",__=e=>{const{separator:t,experimentalParseClassName:r}=e,i=t.length===1,o=t[0],l=t.length,u=d=>{const f=[];let m=0,v=0,w;for(let N=0;N<d.length;N++){let C=d[N];if(m===0){if(C===o&&(i||d.slice(N,N+l)===t)){f.push(d.slice(v,N)),v=N+l;continue}if(C==="/"){w=N;continue}}C==="["?m++:C==="]"&&m--}const j=f.length===0?d:d.substring(v),b=j.startsWith(fy),S=b?j.substring(1):j,y=w&&w>v?w-v:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:y}};return r?d=>r({className:d,parseClassName:u}):u},C_=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(i=>{i[0]==="["?(t.push(...r.sort(),i),r=[]):r.push(i)}),t.push(...r.sort()),t},E_=e=>({cache:S_(e.cacheSize),parseClassName:__(e),...y_(e)}),k_=/\s+/,R_=(e,t)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:o}=t,l=[],u=e.trim().split(k_);let d="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{modifiers:v,hasImportantModifier:w,baseClassName:j,maybePostfixModifierPosition:b}=r(m);let S=!!b,y=i(S?j.substring(0,b):j);if(!y){if(!S){d=m+(d.length>0?" "+d:d);continue}if(y=i(j),!y){d=m+(d.length>0?" "+d:d);continue}S=!1}const N=C_(v).join(":"),C=w?N+fy:N,E=C+y;if(l.includes(E))continue;l.push(E);const k=o(y,S);for(let T=0;T<k.length;++T){const $=k[T];l.push(C+$)}d=m+(d.length>0?" "+d:d)}return d};function T_(){let e=0,t,r,i="";for(;e<arguments.length;)(t=arguments[e++])&&(r=my(t))&&(i&&(i+=" "),i+=r);return i}const my=e=>{if(typeof e=="string")return e;let t,r="";for(let i=0;i<e.length;i++)e[i]&&(t=my(e[i]))&&(r&&(r+=" "),r+=t);return r};function P_(e,...t){let r,i,o,l=u;function u(f){const m=t.reduce((v,w)=>w(v),e());return r=E_(m),i=r.cache.get,o=r.cache.set,l=d,d(f)}function d(f){const m=i(f);if(m)return m;const v=R_(f,r);return o(f,v),v}return function(){return l(T_.apply(null,arguments))}}const Je=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},py=/^\[(?:([a-z-]+):)?(.+)\]$/i,A_=/^\d+\/\d+$/,O_=new Set(["px","full","screen"]),I_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,L_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ln=e=>wa(e)||O_.has(e)||A_.test(e),Fn=e=>Ra(e,"length",K_),wa=e=>!!e&&!Number.isNaN(Number(e)),Gd=e=>Ra(e,"number",wa),Ci=e=>!!e&&Number.isInteger(Number(e)),F_=e=>e.endsWith("%")&&wa(e.slice(0,-1)),Oe=e=>py.test(e),Un=e=>I_.test(e),U_=new Set(["length","size","percentage"]),z_=e=>Ra(e,U_,gy),B_=e=>Ra(e,"position",gy),V_=new Set(["image","url"]),H_=e=>Ra(e,V_,G_),W_=e=>Ra(e,"",q_),Ei=()=>!0,Ra=(e,t,r)=>{const i=py.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):r(i[2]):!1},K_=e=>D_.test(e)&&!M_.test(e),gy=()=>!1,q_=e=>L_.test(e),G_=e=>$_.test(e),Q_=()=>{const e=Je("colors"),t=Je("spacing"),r=Je("blur"),i=Je("brightness"),o=Je("borderColor"),l=Je("borderRadius"),u=Je("borderSpacing"),d=Je("borderWidth"),f=Je("contrast"),m=Je("grayscale"),v=Je("hueRotate"),w=Je("invert"),j=Je("gap"),b=Je("gradientColorStops"),S=Je("gradientColorStopPositions"),y=Je("inset"),N=Je("margin"),C=Je("opacity"),E=Je("padding"),k=Je("saturate"),T=Je("scale"),$=Je("sepia"),O=Je("skew"),L=Je("space"),G=Je("translate"),D=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",Oe,t],re=()=>[Oe,t],le=()=>["",ln,Fn],Q=()=>["auto",wa,Oe],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Oe],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[wa,Oe];return{cacheSize:500,separator:":",theme:{colors:[Ei],spacing:[ln,Fn],blur:["none","",Un,Oe],brightness:P(),borderColor:[e],borderRadius:["none","","full",Un,Oe],borderSpacing:re(),borderWidth:le(),contrast:P(),grayscale:W(),hueRotate:P(),invert:W(),gap:re(),gradientColorStops:[e],gradientColorStopPositions:[F_,Fn],inset:Y(),margin:Y(),opacity:P(),padding:re(),saturate:P(),scale:P(),sepia:W(),skew:P(),space:re(),translate:re()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Un]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Oe]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ci,Oe]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Ci,Oe]}],"grid-cols":[{"grid-cols":[Ei]}],"col-start-end":[{col:["auto",{span:["full",Ci,Oe]},Oe]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Ei]}],"row-start-end":[{row:["auto",{span:[Ci,Oe]},Oe]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[j]}],"gap-x":[{"gap-x":[j]}],"gap-y":[{"gap-y":[j]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,t]}],"min-w":[{"min-w":[Oe,t,"min","max","fit"]}],"max-w":[{"max-w":[Oe,t,"none","full","min","max","fit","prose",{screen:[Un]},Un]}],h:[{h:[Oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Un,Fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gd]}],"font-family":[{font:[Ei]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",wa,Gd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ln,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ln,Fn]}],"underline-offset":[{"underline-offset":["auto",ln,Oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:re()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),B_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},H_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ne()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[ln,Oe]}],"outline-w":[{outline:[ln,Fn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[ln,Fn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Un,W_]}],"shadow-color":[{shadow:[Ei]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Un,Oe]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[k]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Ci,Oe]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":re()}],"scroll-mx":[{"scroll-mx":re()}],"scroll-my":[{"scroll-my":re()}],"scroll-ms":[{"scroll-ms":re()}],"scroll-me":[{"scroll-me":re()}],"scroll-mt":[{"scroll-mt":re()}],"scroll-mr":[{"scroll-mr":re()}],"scroll-mb":[{"scroll-mb":re()}],"scroll-ml":[{"scroll-ml":re()}],"scroll-p":[{"scroll-p":re()}],"scroll-px":[{"scroll-px":re()}],"scroll-py":[{"scroll-py":re()}],"scroll-ps":[{"scroll-ps":re()}],"scroll-pe":[{"scroll-pe":re()}],"scroll-pt":[{"scroll-pt":re()}],"scroll-pr":[{"scroll-pr":re()}],"scroll-pb":[{"scroll-pb":re()}],"scroll-pl":[{"scroll-pl":re()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ln,Fn,Gd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Y_=P_(Q_);function ae(...e){return Y_(dy(e))}const J_=Ts("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),oe=g.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...o},l)=>{const u=i?cf:"button";return n.jsx(u,{className:ae(J_({variant:t,size:r,className:e})),ref:l,...o})});oe.displayName="Button";const ie=g.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ae("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const be=g.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));be.displayName="CardHeader";const Ne=g.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ne.displayName="CardTitle";const qt=g.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));qt.displayName="CardDescription";const ve=g.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ae("p-6 pt-0",e),...t}));ve.displayName="CardContent";const vc=g.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ae("flex items-center p-6 pt-0",e),...t}));vc.displayName="CardFooter";class X_ extends g.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},this.handleGoHome=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){this.setState({errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs(ie,{className:"w-full max-w-md border-destructive/50",children:[n.jsxs(be,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:n.jsx(dn,{className:"h-6 w-6 text-destructive"})}),n.jsx(Ne,{className:"text-xl",children:"Algo sali mal"})]}),n.jsxs(ve,{className:"text-center",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"Ha ocurrido un error inesperado. Por favor intente recargar la pgina."}),!1]}),n.jsxs(vc,{className:"flex gap-2 justify-center",children:[n.jsxs(oe,{variant:"outline",onClick:this.handleGoHome,children:[n.jsx(sy,{className:"h-4 w-4 mr-2"}),"Inicio"]}),n.jsxs(oe,{onClick:this.handleReset,children:[n.jsx(iy,{className:"h-4 w-4 mr-2"}),"Recargar"]})]})]})}):this.props.children}}function Z_(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,i,o,l,u=[],d="",f=e.split("/");for(f[0]||f.shift();o=f.shift();)r=o[0],r==="*"?(u.push(r),d+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(i=o.indexOf("?",1),l=o.indexOf(".",1),u.push(o.substring(1,~i?i:~l?l:o.length)),d+=~i&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(d+=(~i?"?":"")+"\\"+o.substring(l))):d+="/"+o;return{keys:u,pattern:new RegExp("^"+d+(t?"(?=$|/)":"/?$"),"i")}}var Qd={exports:{}},Yd={};var Ev;function eC(){if(Ev)return Yd;Ev=1;var e=dc();function t(w,j){return w===j&&(w!==0||1/w===1/j)||w!==w&&j!==j}var r=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function d(w,j){var b=j(),S=i({inst:{value:b,getSnapshot:j}}),y=S[0].inst,N=S[1];return l(function(){y.value=b,y.getSnapshot=j,f(y)&&N({inst:y})},[w,b,j]),o(function(){return f(y)&&N({inst:y}),w(function(){f(y)&&N({inst:y})})},[w]),u(b),b}function f(w){var j=w.getSnapshot;w=w.value;try{var b=j();return!r(w,b)}catch{return!0}}function m(w,j){return j()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Yd.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,Yd}var kv;function tC(){return kv||(kv=1,Qd.exports=eC()),Qd.exports}var rC=tC();const nC=Xx.useInsertionEffect,sC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aC=sC?g.useLayoutEffect:g.useEffect,iC=nC||aC,vy=e=>{const t=g.useRef([e,(...r)=>t[0](...r)]).current;return iC(()=>{t[0]=e}),t[1]},oC="popstate",df="pushState",hf="replaceState",lC="hashchange",Rv=[oC,df,hf,lC],cC=e=>{for(const t of Rv)addEventListener(t,e);return()=>{for(const t of Rv)removeEventListener(t,e)}},xy=(e,t)=>rC.useSyncExternalStore(cC,e,t),uC=()=>location.search,dC=({ssrSearch:e=""}={})=>xy(uC,()=>e),Tv=()=>location.pathname,hC=({ssrPath:e}={})=>xy(Tv,e?()=>e:Tv),fC=(e,{replace:t=!1,state:r=null}={})=>history[t?hf:df](r,"",e),mC=(e={})=>[hC(e),fC],Pv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Pv]>"u"){for(const e of[df,hf]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),r}}Object.defineProperty(window,Pv,{value:!0})}const pC=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",yy=(e="")=>e==="/"?"":e,gC=(e,t)=>e[0]==="~"?e.slice(1):yy(t)+e,vC=(e="",t)=>pC(Av(yy(e)),Av(t)),Av=e=>{try{return decodeURI(e)}catch{return e}},wy={hook:mC,searchHook:dC,parser:Z_,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},jy=g.createContext(wy),Ji=()=>g.useContext(jy),by={},Ny=g.createContext(by),xC=()=>g.useContext(Ny),xc=e=>{const[t,r]=e.hook(e);return[vC(e.base,t),vy((i,o)=>r(gC(i,e.base),o))]},Sy=()=>xc(Ji()),_y=(e,t,r,i)=>{const{pattern:o,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),u=o.exec(r)||[],[d,...f]=u;return d!==void 0?[!0,(()=>{const m=l!==!1?Object.fromEntries(l.map((w,j)=>[w,f[j]])):u.groups;let v={...f};return m&&Object.assign(v,m),v})(),...i?[d]:[]]:[!1,null]},yC=({children:e,...t})=>{const r=Ji(),i=t.hook?wy:r;let o=i;const[l,u]=t.ssrPath?.split("?")??[];u&&(t.ssrSearch=u,t.ssrPath=l),t.hrefs=t.hrefs??t.hook?.hrefs;let d=g.useRef({}),f=d.current,m=f;for(let v in i){const w=v==="base"?i[v]+(t[v]||""):t[v]||i[v];f===m&&w!==m[v]&&(d.current=m={...m}),m[v]=w,w!==i[v]&&(o=m)}return g.createElement(jy.Provider,{value:o,children:e})},Ov=({children:e,component:t},r)=>t?g.createElement(t,{params:r}):typeof e=="function"?e(r):e,wC=e=>{let t=g.useRef(by),r=t.current;for(const i in e)e[i]!==r[i]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Er=({path:e,nest:t,match:r,...i})=>{const o=Ji(),[l]=xc(o),[u,d,f]=r??_y(o.parser,e,l,t),m=wC({...xC(),...d});if(!u)return null;const v=f?g.createElement(yC,{base:f},Ov(i,m)):Ov(i,m);return g.createElement(Ny.Provider,{value:m,children:v})},ql=g.forwardRef((e,t)=>{const r=Ji(),[i,o]=xc(r),{to:l="",href:u=l,onClick:d,asChild:f,children:m,className:v,replace:w,state:j,...b}=e,S=vy(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(d?.(N),N.defaultPrevented||(N.preventDefault(),o(u,e)))}),y=r.hrefs(u[0]==="~"?u.slice(1):r.base+u,r);return f&&g.isValidElement(m)?g.cloneElement(m,{onClick:S,href:y}):g.createElement("a",{...b,onClick:S,href:y,className:v?.call?v(i===u):v,children:m,ref:t})}),Cy=e=>Array.isArray(e)?e.flatMap(t=>Cy(t&&t.type===g.Fragment?t.props.children:t)):[e],jC=({children:e,location:t})=>{const r=Ji(),[i]=xc(r);for(const o of Cy(e)){let l=0;if(g.isValidElement(o)&&(l=_y(r.parser,o.props.path,t||i,o.props.nest))[0])return g.cloneElement(o,{match:l})}return null};var Xi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_s=typeof window>"u"||"Deno"in globalThis;function hr(){}function bC(e,t){return typeof e=="function"?e(t):e}function Sh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ey(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ja(e,t){return typeof e=="function"?e(t):e}function Or(e,t){return typeof e=="function"?e(t):e}function Iv(e,t){const{type:r="all",exact:i,fetchStatus:o,predicate:l,queryKey:u,stale:d}=e;if(u){if(i){if(t.queryHash!==ff(u,t.options))return!1}else if(!$i(t.queryKey,u))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||l&&!l(t))}function Dv(e,t){const{exact:r,status:i,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Li(t.options.mutationKey)!==Li(l))return!1}else if(!$i(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function ff(e,t){return(t?.queryKeyHashFn||Li)(e)}function Li(e){return JSON.stringify(e,(t,r)=>Ch(r)?Object.keys(r).sort().reduce((i,o)=>(i[o]=r[o],i),{}):r)}function $i(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!$i(e[r],t[r])):!1}function ky(e,t){if(e===t)return e;const r=Mv(e)&&Mv(t);if(r||Ch(e)&&Ch(t)){const i=r?e:Object.keys(e),o=i.length,l=r?t:Object.keys(t),u=l.length,d=r?[]:{};let f=0;for(let m=0;m<u;m++){const v=r?m:l[m];(!r&&i.includes(v)||r)&&e[v]===void 0&&t[v]===void 0?(d[v]=void 0,f++):(d[v]=ky(e[v],t[v]),d[v]===e[v]&&e[v]!==void 0&&f++)}return o===u&&f===o?e:d}return t}function _h(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Mv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ch(e){if(!Lv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Lv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Lv(e){return Object.prototype.toString.call(e)==="[object Object]"}function NC(e){return new Promise(t=>{setTimeout(t,e)})}function Eh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ky(e,t):t}function SC(e,t,r=0){const i=[...e,t];return r&&i.length>r?i.slice(1):i}function _C(e,t,r=0){const i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var mf=Symbol();function Ry(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===mf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var CC=class extends Xi{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!_s&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},pf=new CC,EC=class extends Xi{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!_s&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Gl=new EC;function kh(){let e,t;const r=new Promise((o,l)=>{e=o,t=l});r.status="pending",r.catch(()=>{});function i(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},r.reject=o=>{i({status:"rejected",reason:o}),t(o)},r}function kC(e){return Math.min(1e3*2**e,3e4)}function Ty(e){return(e??"online")==="online"?Gl.isOnline():!0}var Py=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Jd(e){return e instanceof Py}function Ay(e){let t=!1,r=0,i=!1,o;const l=kh(),u=y=>{i||(j(new Py(y)),e.abort?.())},d=()=>{t=!0},f=()=>{t=!1},m=()=>pf.isFocused()&&(e.networkMode==="always"||Gl.isOnline())&&e.canRun(),v=()=>Ty(e.networkMode)&&e.canRun(),w=y=>{i||(i=!0,e.onSuccess?.(y),o?.(),l.resolve(y))},j=y=>{i||(i=!0,e.onError?.(y),o?.(),l.reject(y))},b=()=>new Promise(y=>{o=N=>{(i||m())&&y(N)},e.onPause?.()}).then(()=>{o=void 0,i||e.onContinue?.()}),S=()=>{if(i)return;let y;const N=r===0?e.initialPromise:void 0;try{y=N??e.fn()}catch(C){y=Promise.reject(C)}Promise.resolve(y).then(w).catch(C=>{if(i)return;const E=e.retry??(_s?0:3),k=e.retryDelay??kC,T=typeof k=="function"?k(r,C):k,$=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,C);if(t||!$){j(C);return}r++,e.onFail?.(r,C),NC(T).then(()=>m()?void 0:b()).then(()=>{t?j(C):S()})})};return{promise:l,cancel:u,continue:()=>(o?.(),l),cancelRetry:d,continueRetry:f,canStart:v,start:()=>(v()?S():b().then(S),l)}}function RC(){let e=[],t=0,r=d=>{d()},i=d=>{d()},o=d=>setTimeout(d,0);const l=d=>{t?e.push(d):o(()=>{r(d)})},u=()=>{const d=e;e=[],d.length&&o(()=>{i(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||u()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{o=d}}}var Et=RC(),Oy=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sh(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_s?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},TC=class extends Oy{#e;#t;#n;#r;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=PC(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=Eh(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Or(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Ey(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},o=()=>{const d=Ry(this.options,t),f={queryKey:this.queryKey,meta:this.meta};return i(f),this.#a=!1,this.options.persister?this.options.persister(d,f,this):d(f)},l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta});const u=d=>{Jd(d)&&d.silent||this.#s({type:"error",error:d}),Jd(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=Ay({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){u(f);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Iy(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Jd(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Et.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Iy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ty(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function PC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var AC=class extends Xi{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const i=t.queryKey,o=t.queryHash??ff(i,t);let l=this.get(o);return l||(l=new TC({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Iv(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Iv(e,r)):t}notify(e){Et.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},OC=class extends Oy{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||IC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=Ay({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Et.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function IC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var DC=class extends Xi{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const i=new OC({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=wl(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=wl(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(i=>i!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(wl(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(wl(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Dv(t,r))}findAll(e={}){return this.getAll().filter(t=>Dv(e,t))}notify(e){Et.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Et.batch(()=>Promise.all(e.map(t=>t.continue().catch(hr))))}};function wl(e){return e.options.scope?.id??String(e.mutationId)}function $v(e){return{onFetch:(t,r)=>{const i=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const m=async()=>{let v=!1;const w=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},j=Ry(t.options,t.fetchOptions),b=async(S,y,N)=>{if(v)return Promise.reject();if(y==null&&S.pages.length)return Promise.resolve(S);const C={queryKey:t.queryKey,pageParam:y,direction:N?"backward":"forward",meta:t.options.meta};w(C);const E=await j(C),{maxPages:k}=t.options,T=N?_C:SC;return{pages:T(S.pages,E,k),pageParams:T(S.pageParams,y,k)}};if(o&&l.length){const S=o==="backward",y=S?MC:Fv,N={pages:l,pageParams:u},C=y(i,N);d=await b(N,C,S)}else{const S=e??l.length;do{const y=f===0?u[0]??i.initialPageParam:Fv(i,d);if(f>0&&y==null)break;d=await b(d,y),f++}while(f<S)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function Fv(e,{pages:t,pageParams:r}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,r[i],r):void 0}function MC(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var LC=class{#e;#t;#n;#r;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new AC,this.#t=e.mutationCache||new DC,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=pf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Gl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),i=this.#e.build(this,r);return e.revalidateIfStale&&i.isStaleByTime(ja(r.staleTime,i))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(i.queryHash)?.state.data,u=bC(t,l);if(u!==void 0)return this.#e.build(this,i).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return Et.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Et.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,i={type:"active",...e};return Et.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},i=Et.batch(()=>this.#e.findAll(e).map(o=>o.cancel(r)));return Promise.all(i).then(hr).catch(hr)}invalidateQueries(e={},t={}){return Et.batch(()=>{if(this.#e.findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},i=Et.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()).map(o=>{let l=o.fetch(void 0,r);return r.throwOnError||(l=l.catch(hr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(hr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(ja(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(hr).catch(hr)}fetchInfiniteQuery(e){return e.behavior=$v(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(hr).catch(hr)}ensureInfiniteQueryData(e){return e.behavior=$v(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Li(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()];let r={};return t.forEach(i=>{$i(e,i.queryKey)&&(r={...r,...i.defaultOptions})}),r}setMutationDefaults(e,t){this.#i.set(Li(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let r={};return t.forEach(i=>{$i(e,i.mutationKey)&&(r={...r,...i.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ff(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===mf&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},$C=class extends Xi{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#s=kh(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#s;#o;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Uv(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rh(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rh(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#j(),this.#t.removeObserver(this)}setOptions(e,t){const r=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Or(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#t.setOptions(this.options),r._defaulted&&!_h(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&zv(this.#t,i,this.options,r)&&this.#d(),this.updateResult(t),o&&(this.#t!==i||Or(this.options.enabled,this.#t)!==Or(r.enabled,this.#t)||ja(this.options.staleTime,this.#t)!==ja(r.staleTime,this.#t))&&this.#g();const l=this.#v();o&&(this.#t!==i||Or(this.options.enabled,this.#t)!==Or(r.enabled,this.#t)||l!==this.#l)&&this.#x(l)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return UC(this,r)&&(this.#r=r,this.#a=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,t){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t?.(i),e[i])})}),r}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#b();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(hr)),t}#g(){this.#w();const e=ja(this.options.staleTime,this.#t);if(_s||this.#r.isStale||!Sh(e))return;const r=Ey(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#j(),this.#l=e,!(_s||Or(this.options.enabled,this.#t)===!1||!Sh(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||pf.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#j(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,i=this.options,o=this.#r,l=this.#i,u=this.#a,f=e!==r?e.state:this.#n,{state:m}=e;let v={...m},w=!1,j;if(t._optimisticResults){const L=this.hasListeners(),G=!L&&Uv(e,t),D=L&&zv(e,r,t,i);(G||D)&&(v={...v,...Iy(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:b,errorUpdatedAt:S,status:y}=v;if(t.select&&v.data!==void 0)if(o&&v.data===l?.data&&t.select===this.#p)j=this.#h;else try{this.#p=t.select,j=t.select(v.data),j=Eh(o?.data,j,t),this.#h=j,this.#o=null}catch(L){this.#o=L}else j=v.data;if(t.placeholderData!==void 0&&j===void 0&&y==="pending"){let L;if(o?.isPlaceholderData&&t.placeholderData===u?.placeholderData)L=o.data;else if(L=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,t.select&&L!==void 0)try{L=t.select(L),this.#o=null}catch(G){this.#o=G}L!==void 0&&(y="success",j=Eh(o?.data,L,t),w=!0)}this.#o&&(b=this.#o,j=this.#h,S=Date.now(),y="error");const N=v.fetchStatus==="fetching",C=y==="pending",E=y==="error",k=C&&N,T=j!==void 0,O={status:y,fetchStatus:v.fetchStatus,isPending:C,isSuccess:y==="success",isError:E,isInitialLoading:k,isLoading:k,data:j,dataUpdatedAt:v.dataUpdatedAt,error:b,errorUpdatedAt:S,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>f.dataUpdateCount||v.errorUpdateCount>f.errorUpdateCount,isFetching:N,isRefetching:N&&!C,isLoadingError:E&&!T,isPaused:v.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:E&&T,isStale:gf(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const L=F=>{O.status==="error"?F.reject(O.error):O.data!==void 0&&F.resolve(O.data)},G=()=>{const F=this.#s=O.promise=kh();L(F)},D=this.#s;switch(D.status){case"pending":e.queryHash===r.queryHash&&L(D);break;case"fulfilled":(O.status==="error"||O.data!==D.value)&&G();break;case"rejected":(O.status!=="error"||O.error!==D.reason)&&G();break}}return O}updateResult(e){const t=this.#r,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#t),_h(r,t))return;this.#r=r;const i={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,u=typeof l=="function"?l():l;if(u==="all"||!u&&!this.#m.size)return!0;const d=new Set(u??this.#m);return this.options.throwOnError&&d.add("error"),Object.keys(this.#r).some(f=>{const m=f;return this.#r[m]!==t[m]&&d.has(m)})};e?.listeners!==!1&&o()&&(i.listeners=!0),this.#N({...i,...e})}#b(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Et.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function FC(e,t){return Or(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Uv(e,t){return FC(e,t)||e.state.data!==void 0&&Rh(e,t,t.refetchOnMount)}function Rh(e,t,r){if(Or(t.enabled,e)!==!1){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&gf(e,t)}return!1}function zv(e,t,r,i){return(e!==t||Or(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&gf(e,r)}function gf(e,t){return Or(t.enabled,e)!==!1&&e.isStaleByTime(ja(t.staleTime,e))}function UC(e,t){return!_h(e.getCurrentResult(),t)}var Dy=g.createContext(void 0),zC=e=>{const t=g.useContext(Dy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},BC=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Dy.Provider,{value:e,children:t})),My=g.createContext(!1),VC=()=>g.useContext(My);My.Provider;function HC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var WC=g.createContext(HC()),KC=()=>g.useContext(WC);function qC(e,t){return typeof e=="function"?e(...t):!!e}function Bv(){}var GC=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},QC=e=>{g.useEffect(()=>{e.clearReset()},[e])},YC=({result:e,errorResetBoundary:t,throwOnError:r,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&qC(r,[e.error,i]),JC=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},XC=(e,t)=>e.isLoading&&e.isFetching&&!t,ZC=(e,t)=>e?.suspense&&t.isPending,Vv=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function e2(e,t,r){const i=zC(),o=VC(),l=KC(),u=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=o?"isRestoring":"optimistic",JC(u),GC(u,l),QC(l);const d=!i.getQueryCache().get(u.queryHash),[f]=g.useState(()=>new t(i,u)),m=f.getOptimisticResult(u);if(g.useSyncExternalStore(g.useCallback(v=>{const w=o?Bv:f.subscribe(Et.batchCalls(v));return f.updateResult(),w},[f,o]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),g.useEffect(()=>{f.setOptions(u,{listeners:!1})},[u,f]),ZC(u,m))throw Vv(u,f,l);if(YC({result:m,errorResetBoundary:l,throwOnError:u.throwOnError,query:i.getQueryCache().get(u.queryHash)}))throw m.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!_s&&XC(m,o)&&(d?Vv(u,f,l):i.getQueryCache().get(u.queryHash)?.promise)?.catch(Bv).finally(()=>{f.updateResult()}),u.notifyOnChangeProps?m:f.trackResult(m)}function kt(e,t){return e2(e,$C)}async function t2(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const r2=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return await t2(r),await r.json()},n2=new LC({defaultOptions:{queries:{queryFn:r2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),s2=1,a2=1e6;let Xd=0;function i2(){return Xd=(Xd+1)%Number.MAX_SAFE_INTEGER,Xd.toString()}const Zd=new Map,Hv=e=>{if(Zd.has(e))return;const t=setTimeout(()=>{Zd.delete(e),Ii({type:"REMOVE_TOAST",toastId:e})},a2);Zd.set(e,t)},o2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,s2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Hv(r):e.toasts.forEach(i=>{Hv(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ll=[];let $l={toasts:[]};function Ii(e){$l=o2($l,e),Ll.forEach(t=>{t($l)})}function l2({...e}){const t=i2(),r=o=>Ii({type:"UPDATE_TOAST",toast:{...o,id:t}}),i=()=>Ii({type:"DISMISS_TOAST",toastId:t});return Ii({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||i()}}}),{id:t,dismiss:i,update:r}}function c2(){const[e,t]=g.useState($l);return g.useEffect(()=>(Ll.push(t),()=>{const r=Ll.indexOf(t);r>-1&&Ll.splice(r,1)}),[e]),{...e,toast:l2,dismiss:r=>Ii({type:"DISMISS_TOAST",toastId:r})}}var Ta=Zx();const u2=Jx(Ta);function se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}function d2(e,t){const r=g.createContext(t),i=l=>{const{children:u,...d}=l,f=g.useMemo(()=>d,Object.values(d));return n.jsx(r.Provider,{value:f,children:u})};i.displayName=e+"Provider";function o(l){const u=g.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[i,o]}function Ft(e,t=[]){let r=[];function i(l,u){const d=g.createContext(u),f=r.length;r=[...r,u];const m=w=>{const{scope:j,children:b,...S}=w,y=j?.[e]?.[f]||d,N=g.useMemo(()=>S,Object.values(S));return n.jsx(y.Provider,{value:N,children:b})};m.displayName=l+"Provider";function v(w,j){const b=j?.[e]?.[f]||d,S=g.useContext(b);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${l}\``)}return[m,v]}const o=()=>{const l=r.map(u=>g.createContext(u));return function(d){const f=d?.[e]||l;return g.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return o.scopeName=e,[i,h2(o,...t)]}function h2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=i.reduce((d,{useScope:f,scopeName:m})=>{const w=f(l)[`__scope${m}`];return{...d,...w}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function Zi(e){const t=e+"CollectionProvider",[r,i]=Ft(t),[o,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=y=>{const{scope:N,children:C}=y,E=Ke.useRef(null),k=Ke.useRef(new Map).current;return n.jsx(o,{scope:N,itemMap:k,collectionRef:E,children:C})};u.displayName=t;const d=e+"CollectionSlot",f=Ss(d),m=Ke.forwardRef((y,N)=>{const{scope:C,children:E}=y,k=l(d,C),T=Me(N,k.collectionRef);return n.jsx(f,{ref:T,children:E})});m.displayName=d;const v=e+"CollectionItemSlot",w="data-radix-collection-item",j=Ss(v),b=Ke.forwardRef((y,N)=>{const{scope:C,children:E,...k}=y,T=Ke.useRef(null),$=Me(N,T),O=l(v,C);return Ke.useEffect(()=>(O.itemMap.set(T,{ref:T,...k}),()=>{O.itemMap.delete(T)})),n.jsx(j,{[w]:"",ref:$,children:E})});b.displayName=v;function S(y){const N=l(e+"CollectionConsumer",y);return Ke.useCallback(()=>{const E=N.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${w}]`));return Array.from(N.itemMap.values()).sort((O,L)=>k.indexOf(O.ref.current)-k.indexOf(L.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:m,ItemSlot:b},S,i]}var f2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pe=f2.reduce((e,t)=>{const r=Ss(`Primitive.${t}`),i=g.forwardRef((o,l)=>{const{asChild:u,...d}=o,f=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:l})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function vf(e,t){e&&Ta.flushSync(()=>e.dispatchEvent(t))}function et(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>t.current?.(...r),[])}function m2(e,t=globalThis?.document){const r=et(e);g.useEffect(()=>{const i=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[r,t])}var p2="DismissableLayer",Th="dismissableLayer.update",g2="dismissableLayer.pointerDownOutside",v2="dismissableLayer.focusOutside",Wv,Ly=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pa=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...f}=e,m=g.useContext(Ly),[v,w]=g.useState(null),j=v?.ownerDocument??globalThis?.document,[,b]=g.useState({}),S=Me(t,L=>w(L)),y=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(N),E=v?y.indexOf(v):-1,k=m.layersWithOutsidePointerEventsDisabled.size>0,T=E>=C,$=y2(L=>{const G=L.target,D=[...m.branches].some(F=>F.contains(G));!T||D||(o?.(L),u?.(L),L.defaultPrevented||d?.())},j),O=w2(L=>{const G=L.target;[...m.branches].some(F=>F.contains(G))||(l?.(L),u?.(L),L.defaultPrevented||d?.())},j);return m2(L=>{E===m.layers.size-1&&(i?.(L),!L.defaultPrevented&&d&&(L.preventDefault(),d()))},j),g.useEffect(()=>{if(v)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Wv=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),Kv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=Wv)}},[v,j,r,m]),g.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),Kv())},[v,m]),g.useEffect(()=>{const L=()=>b({});return document.addEventListener(Th,L),()=>document.removeEventListener(Th,L)},[]),n.jsx(pe.div,{...f,ref:S,style:{pointerEvents:k?T?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,O.onFocusCapture),onBlurCapture:se(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,$.onPointerDownCapture)})});Pa.displayName=p2;var x2="DismissableLayerBranch",$y=g.forwardRef((e,t)=>{const r=g.useContext(Ly),i=g.useRef(null),o=Me(t,i);return g.useEffect(()=>{const l=i.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),n.jsx(pe.div,{...e,ref:o})});$y.displayName=x2;function y2(e,t=globalThis?.document){const r=et(e),i=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const l=d=>{if(d.target&&!i.current){let f=function(){Fy(g2,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}function w2(e,t=globalThis?.document){const r=et(e),i=g.useRef(!1);return g.useEffect(()=>{const o=l=>{l.target&&!i.current&&Fy(v2,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Kv(){const e=new CustomEvent(Th);document.dispatchEvent(e)}function Fy(e,t,r,{discrete:i}){const o=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),i?vf(o,l):o.dispatchEvent(l)}var j2=Pa,b2=$y,lt=globalThis?.document?g.useLayoutEffect:()=>{},N2="Portal",eo=g.forwardRef((e,t)=>{const{container:r,...i}=e,[o,l]=g.useState(!1);lt(()=>l(!0),[]);const u=r||o&&globalThis?.document?.body;return u?u2.createPortal(n.jsx(pe.div,{...i,ref:t}),u):null});eo.displayName=N2;function S2(e,t){return g.useReducer((r,i)=>t[r][i]??r,e)}var Mt=e=>{const{present:t,children:r}=e,i=_2(t),o=typeof r=="function"?r({present:i.isPresent}):g.Children.only(r),l=Me(i.ref,C2(o));return typeof r=="function"||i.isPresent?g.cloneElement(o,{ref:l}):null};Mt.displayName="Presence";function _2(e){const[t,r]=g.useState(),i=g.useRef({}),o=g.useRef(e),l=g.useRef("none"),u=e?"mounted":"unmounted",[d,f]=S2(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const m=jl(i.current);l.current=d==="mounted"?m:"none"},[d]),lt(()=>{const m=i.current,v=o.current;if(v!==e){const j=l.current,b=jl(m);e?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(v&&j!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),lt(()=>{if(t){let m;const v=t.ownerDocument.defaultView??window,w=b=>{const y=jl(i.current).includes(b.animationName);if(b.target===t&&y&&(f("ANIMATION_END"),!o.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},j=b=>{b.target===t&&(l.current=jl(i.current))};return t.addEventListener("animationstart",j),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{v.clearTimeout(m),t.removeEventListener("animationstart",j),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:g.useCallback(m=>{m&&(i.current=getComputedStyle(m)),r(m)},[])}}function jl(e){return e?.animationName||"none"}function C2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function vr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[i,o]=E2({defaultProp:t,onChange:r}),l=e!==void 0,u=l?e:i,d=et(r),f=g.useCallback(m=>{if(l){const w=typeof m=="function"?m(e):m;w!==e&&d(w)}else o(m)},[l,e,o,d]);return[u,f]}function E2({defaultProp:e,onChange:t}){const r=g.useState(e),[i]=r,o=g.useRef(i),l=et(t);return g.useEffect(()=>{o.current!==i&&(l(i),o.current=i)},[i,o,l]),r}var k2="VisuallyHidden",to=g.forwardRef((e,t)=>n.jsx(pe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));to.displayName=k2;var R2=to,xf="ToastProvider",[yf,T2,P2]=Zi("Toast"),[Uy]=Ft("Toast",[P2]),[A2,yc]=Uy(xf),zy=e=>{const{__scopeToast:t,label:r="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:u}=e,[d,f]=g.useState(null),[m,v]=g.useState(0),w=g.useRef(!1),j=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xf}\`. Expected non-empty \`string\`.`),n.jsx(yf.Provider,{scope:t,children:n.jsx(A2,{scope:t,label:r,duration:i,swipeDirection:o,swipeThreshold:l,toastCount:m,viewport:d,onViewportChange:f,onToastAdd:g.useCallback(()=>v(b=>b+1),[]),onToastRemove:g.useCallback(()=>v(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:j,children:u})})};zy.displayName=xf;var By="ToastViewport",O2=["F8"],Ph="toast.viewportPause",Ah="toast.viewportResume",Vy=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:i=O2,label:o="Notifications ({hotkey})",...l}=e,u=yc(By,r),d=T2(r),f=g.useRef(null),m=g.useRef(null),v=g.useRef(null),w=g.useRef(null),j=Me(t,w,u.onViewportChange),b=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=u.toastCount>0;g.useEffect(()=>{const N=C=>{i.length!==0&&i.every(k=>C[k]||C.code===k)&&w.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[i]),g.useEffect(()=>{const N=f.current,C=w.current;if(S&&N&&C){const E=()=>{if(!u.isClosePausedRef.current){const O=new CustomEvent(Ph);C.dispatchEvent(O),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const O=new CustomEvent(Ah);C.dispatchEvent(O),u.isClosePausedRef.current=!1}},T=O=>{!N.contains(O.relatedTarget)&&k()},$=()=>{N.contains(document.activeElement)||k()};return N.addEventListener("focusin",E),N.addEventListener("focusout",T),N.addEventListener("pointermove",E),N.addEventListener("pointerleave",$),window.addEventListener("blur",E),window.addEventListener("focus",k),()=>{N.removeEventListener("focusin",E),N.removeEventListener("focusout",T),N.removeEventListener("pointermove",E),N.removeEventListener("pointerleave",$),window.removeEventListener("blur",E),window.removeEventListener("focus",k)}}},[S,u.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:N})=>{const E=d().map(k=>{const T=k.ref.current,$=[T,...K2(T)];return N==="forwards"?$:$.reverse()});return(N==="forwards"?E.reverse():E).flat()},[d]);return g.useEffect(()=>{const N=w.current;if(N){const C=E=>{const k=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!k){const $=document.activeElement,O=E.shiftKey;if(E.target===N&&O){m.current?.focus();return}const D=y({tabbingDirection:O?"backwards":"forwards"}),F=D.findIndex(Y=>Y===$);eh(D.slice(F+1))?E.preventDefault():O?m.current?.focus():v.current?.focus()}};return N.addEventListener("keydown",C),()=>N.removeEventListener("keydown",C)}},[d,y]),n.jsxs(b2,{ref:f,role:"region","aria-label":o.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&n.jsx(Oh,{ref:m,onFocusFromOutsideViewport:()=>{const N=y({tabbingDirection:"forwards"});eh(N)}}),n.jsx(yf.Slot,{scope:r,children:n.jsx(pe.ol,{tabIndex:-1,...l,ref:j})}),S&&n.jsx(Oh,{ref:v,onFocusFromOutsideViewport:()=>{const N=y({tabbingDirection:"backwards"});eh(N)}})]})});Vy.displayName=By;var Hy="ToastFocusProxy",Oh=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:i,...o}=e,l=yc(Hy,r);return n.jsx(to,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!l.viewport?.contains(d)&&i()}})});Oh.displayName=Hy;var wc="Toast",I2="toast.swipeStart",D2="toast.swipeMove",M2="toast.swipeCancel",L2="toast.swipeEnd",Wy=g.forwardRef((e,t)=>{const{forceMount:r,open:i,defaultOpen:o,onOpenChange:l,...u}=e,[d=!0,f]=vr({prop:i,defaultProp:o,onChange:l});return n.jsx(Mt,{present:r||d,children:n.jsx(U2,{open:d,...u,ref:t,onClose:()=>f(!1),onPause:et(e.onPause),onResume:et(e.onResume),onSwipeStart:se(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,m=>{const{x:v,y:w}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:se(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,m=>{const{x:v,y:w}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});Wy.displayName=wc;var[$2,F2]=Uy(wc,{onClose(){}}),U2=g.forwardRef((e,t)=>{const{__scopeToast:r,type:i="foreground",duration:o,open:l,onClose:u,onEscapeKeyDown:d,onPause:f,onResume:m,onSwipeStart:v,onSwipeMove:w,onSwipeCancel:j,onSwipeEnd:b,...S}=e,y=yc(wc,r),[N,C]=g.useState(null),E=Me(t,Q=>C(Q)),k=g.useRef(null),T=g.useRef(null),$=o||y.duration,O=g.useRef(0),L=g.useRef($),G=g.useRef(0),{onToastAdd:D,onToastRemove:F}=y,Y=et(()=>{N?.contains(document.activeElement)&&y.viewport?.focus(),u()}),re=g.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(G.current),O.current=new Date().getTime(),G.current=window.setTimeout(Y,Q))},[Y]);g.useEffect(()=>{const Q=y.viewport;if(Q){const q=()=>{re(L.current),m?.()},ne=()=>{const de=new Date().getTime()-O.current;L.current=L.current-de,window.clearTimeout(G.current),f?.()};return Q.addEventListener(Ph,ne),Q.addEventListener(Ah,q),()=>{Q.removeEventListener(Ph,ne),Q.removeEventListener(Ah,q)}}},[y.viewport,$,f,m,re]),g.useEffect(()=>{l&&!y.isClosePausedRef.current&&re($)},[l,$,y.isClosePausedRef,re]),g.useEffect(()=>(D(),()=>F()),[D,F]);const le=g.useMemo(()=>N?Xy(N):null,[N]);return y.viewport?n.jsxs(n.Fragment,{children:[le&&n.jsx(z2,{__scopeToast:r,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:le}),n.jsx($2,{scope:r,onClose:Y,children:Ta.createPortal(n.jsx(yf.ItemSlot,{scope:r,children:n.jsx(j2,{asChild:!0,onEscapeKeyDown:se(d,()=>{y.isFocusedToastEscapeKeyDownRef.current||Y(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":y.swipeDirection,...S,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,Q=>{Q.key==="Escape"&&(d?.(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:se(e.onPointerDown,Q=>{Q.button===0&&(k.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:se(e.onPointerMove,Q=>{if(!k.current)return;const q=Q.clientX-k.current.x,ne=Q.clientY-k.current.y,de=!!T.current,H=["left","right"].includes(y.swipeDirection),W=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,M=H?W(0,q):0,P=H?0:W(0,ne),K=Q.pointerType==="touch"?10:2,we={x:M,y:P},V={originalEvent:Q,delta:we};de?(T.current=we,bl(D2,w,V,{discrete:!1})):qv(we,y.swipeDirection,K)?(T.current=we,bl(I2,v,V,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(q)>K||Math.abs(ne)>K)&&(k.current=null)}),onPointerUp:se(e.onPointerUp,Q=>{const q=T.current,ne=Q.target;if(ne.hasPointerCapture(Q.pointerId)&&ne.releasePointerCapture(Q.pointerId),T.current=null,k.current=null,q){const de=Q.currentTarget,H={originalEvent:Q,delta:q};qv(q,y.swipeDirection,y.swipeThreshold)?bl(L2,b,H,{discrete:!0}):bl(M2,j,H,{discrete:!0}),de.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),z2=e=>{const{__scopeToast:t,children:r,...i}=e,o=yc(wc,t),[l,u]=g.useState(!1),[d,f]=g.useState(!1);return H2(()=>u(!0)),g.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:n.jsx(eo,{asChild:!0,children:n.jsx(to,{...i,children:l&&n.jsxs(n.Fragment,{children:[o.label," ",r]})})})},B2="ToastTitle",Ky=g.forwardRef((e,t)=>{const{__scopeToast:r,...i}=e;return n.jsx(pe.div,{...i,ref:t})});Ky.displayName=B2;var V2="ToastDescription",qy=g.forwardRef((e,t)=>{const{__scopeToast:r,...i}=e;return n.jsx(pe.div,{...i,ref:t})});qy.displayName=V2;var Gy="ToastAction",Qy=g.forwardRef((e,t)=>{const{altText:r,...i}=e;return r.trim()?n.jsx(Jy,{altText:r,asChild:!0,children:n.jsx(wf,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Gy}\`. Expected non-empty \`string\`.`),null)});Qy.displayName=Gy;var Yy="ToastClose",wf=g.forwardRef((e,t)=>{const{__scopeToast:r,...i}=e,o=F2(Yy,r);return n.jsx(Jy,{asChild:!0,children:n.jsx(pe.button,{type:"button",...i,ref:t,onClick:se(e.onClick,o.onClose)})})});wf.displayName=Yy;var Jy=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:i,...o}=e;return n.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:t})});function Xy(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),W2(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",l=i.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const u=i.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...Xy(i))}}),t}function bl(e,t,r,{discrete:i}){const o=r.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),i?vf(o,l):o.dispatchEvent(l)}var qv=(e,t,r=0)=>{const i=Math.abs(e.x),o=Math.abs(e.y),l=i>o;return t==="left"||t==="right"?l&&i>r:!l&&o>r};function H2(e=()=>{}){const t=et(e);lt(()=>{let r=0,i=0;return r=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(i)}},[t])}function W2(e){return e.nodeType===e.ELEMENT_NODE}function K2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var q2=zy,Zy=Vy,ew=Wy,tw=Ky,rw=qy,nw=Qy,sw=wf;const G2=q2,aw=g.forwardRef(({className:e,...t},r)=>n.jsx(Zy,{ref:r,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));aw.displayName=Zy.displayName;const Q2=Ts("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iw=g.forwardRef(({className:e,variant:t,...r},i)=>n.jsx(ew,{ref:i,className:ae(Q2({variant:t}),e),...r}));iw.displayName=ew.displayName;const Y2=g.forwardRef(({className:e,...t},r)=>n.jsx(nw,{ref:r,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Y2.displayName=nw.displayName;const ow=g.forwardRef(({className:e,...t},r)=>n.jsx(sw,{ref:r,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Yn,{className:"h-4 w-4"})}));ow.displayName=sw.displayName;const lw=g.forwardRef(({className:e,...t},r)=>n.jsx(tw,{ref:r,className:ae("text-sm font-semibold",e),...t}));lw.displayName=tw.displayName;const cw=g.forwardRef(({className:e,...t},r)=>n.jsx(rw,{ref:r,className:ae("text-sm opacity-90",e),...t}));cw.displayName=rw.displayName;function J2(){const{toasts:e}=c2();return n.jsxs(G2,{children:[e.map(function({id:t,title:r,description:i,action:o,...l}){return n.jsxs(iw,{...l,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(lw,{children:r}),i&&n.jsx(cw,{children:i})]}),o,n.jsx(ow,{})]},t)}),n.jsx(aw,{})]})}var X2=Xx[" useId ".trim().toString()]||(()=>{}),Z2=0;function nr(e){const[t,r]=g.useState(X2());return lt(()=>{r(i=>i??String(Z2++))},[e]),t?`radix-${t}`:""}const eE=["top","right","bottom","left"],Jn=Math.min,er=Math.max,Ql=Math.round,Nl=Math.floor,Gr=e=>({x:e,y:e}),tE={left:"right",right:"left",bottom:"top",top:"bottom"},rE={start:"end",end:"start"};function Ih(e,t,r){return er(e,Jn(t,r))}function gn(e,t){return typeof e=="function"?e(t):e}function vn(e){return e.split("-")[0]}function Aa(e){return e.split("-")[1]}function jf(e){return e==="x"?"y":"x"}function bf(e){return e==="y"?"height":"width"}function Xn(e){return["top","bottom"].includes(vn(e))?"y":"x"}function Nf(e){return jf(Xn(e))}function nE(e,t,r){r===void 0&&(r=!1);const i=Aa(e),o=Nf(e),l=bf(o);let u=o==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=Yl(u)),[u,Yl(u)]}function sE(e){const t=Yl(e);return[Dh(e),t,Dh(t)]}function Dh(e){return e.replace(/start|end/g,t=>rE[t])}function aE(e,t,r){const i=["left","right"],o=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:i:t?i:o;case"left":case"right":return t?l:u;default:return[]}}function iE(e,t,r,i){const o=Aa(e);let l=aE(vn(e),r==="start",i);return o&&(l=l.map(u=>u+"-"+o),t&&(l=l.concat(l.map(Dh)))),l}function Yl(e){return e.replace(/left|right|bottom|top/g,t=>tE[t])}function oE(e){return{top:0,right:0,bottom:0,left:0,...e}}function uw(e){return typeof e!="number"?oE(e):{top:e,right:e,bottom:e,left:e}}function Jl(e){const{x:t,y:r,width:i,height:o}=e;return{width:i,height:o,top:r,left:t,right:t+i,bottom:r+o,x:t,y:r}}function Gv(e,t,r){let{reference:i,floating:o}=e;const l=Xn(t),u=Nf(t),d=bf(u),f=vn(t),m=l==="y",v=i.x+i.width/2-o.width/2,w=i.y+i.height/2-o.height/2,j=i[d]/2-o[d]/2;let b;switch(f){case"top":b={x:v,y:i.y-o.height};break;case"bottom":b={x:v,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y:w};break;case"left":b={x:i.x-o.width,y:w};break;default:b={x:i.x,y:i.y}}switch(Aa(t)){case"start":b[u]-=j*(r&&m?-1:1);break;case"end":b[u]+=j*(r&&m?-1:1);break}return b}const lE=async(e,t,r)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:u}=r,d=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:w}=Gv(m,i,f),j=i,b={},S=0;for(let y=0;y<d.length;y++){const{name:N,fn:C}=d[y],{x:E,y:k,data:T,reset:$}=await C({x:v,y:w,initialPlacement:i,placement:j,strategy:o,middlewareData:b,rects:m,platform:u,elements:{reference:e,floating:t}});v=E??v,w=k??w,b={...b,[N]:{...b[N],...T}},$&&S<=50&&(S++,typeof $=="object"&&($.placement&&(j=$.placement),$.rects&&(m=$.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):$.rects),{x:v,y:w}=Gv(m,j,f)),y=-1)}return{x:v,y:w,placement:j,strategy:o,middlewareData:b}};async function Fi(e,t){var r;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:u,elements:d,strategy:f}=e,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:j=!1,padding:b=0}=gn(t,e),S=uw(b),N=d[j?w==="floating"?"reference":"floating":w],C=Jl(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(N)))==null||r?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:f})),E=w==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),T=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},$=Jl(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:k,strategy:f}):E);return{top:(C.top-$.top+S.top)/T.y,bottom:($.bottom-C.bottom+S.bottom)/T.y,left:(C.left-$.left+S.left)/T.x,right:($.right-C.right+S.right)/T.x}}const cE=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:o,rects:l,platform:u,elements:d,middlewareData:f}=t,{element:m,padding:v=0}=gn(e,t)||{};if(m==null)return{};const w=uw(v),j={x:r,y:i},b=Nf(o),S=bf(b),y=await u.getDimensions(m),N=b==="y",C=N?"top":"left",E=N?"bottom":"right",k=N?"clientHeight":"clientWidth",T=l.reference[S]+l.reference[b]-j[b]-l.floating[S],$=j[b]-l.reference[b],O=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let L=O?O[k]:0;(!L||!await(u.isElement==null?void 0:u.isElement(O)))&&(L=d.floating[k]||l.floating[S]);const G=T/2-$/2,D=L/2-y[S]/2-1,F=Jn(w[C],D),Y=Jn(w[E],D),re=F,le=L-y[S]-Y,Q=L/2-y[S]/2+G,q=Ih(re,Q,le),ne=!f.arrow&&Aa(o)!=null&&Q!==q&&l.reference[S]/2-(Q<re?F:Y)-y[S]/2<0,de=ne?Q<re?Q-re:Q-le:0;return{[b]:j[b]+de,data:{[b]:q,centerOffset:Q-q-de,...ne&&{alignmentOffset:de}},reset:ne}}}),uE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:o,middlewareData:l,rects:u,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:j,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...N}=gn(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const C=vn(o),E=Xn(d),k=vn(d)===d,T=await(f.isRTL==null?void 0:f.isRTL(m.floating)),$=j||(k||!y?[Yl(d)]:sE(d)),O=S!=="none";!j&&O&&$.push(...iE(d,y,S,T));const L=[d,...$],G=await Fi(t,N),D=[];let F=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&D.push(G[C]),w){const Q=nE(o,u,T);D.push(G[Q[0]],G[Q[1]])}if(F=[...F,{placement:o,overflows:D}],!D.every(Q=>Q<=0)){var Y,re;const Q=(((Y=l.flip)==null?void 0:Y.index)||0)+1,q=L[Q];if(q)return{data:{index:Q,overflows:F},reset:{placement:q}};let ne=(re=F.filter(de=>de.overflows[0]<=0).sort((de,H)=>de.overflows[1]-H.overflows[1])[0])==null?void 0:re.placement;if(!ne)switch(b){case"bestFit":{var le;const de=(le=F.filter(H=>{if(O){const W=Xn(H.placement);return W===E||W==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(W=>W>0).reduce((W,M)=>W+M,0)]).sort((H,W)=>H[1]-W[1])[0])==null?void 0:le[0];de&&(ne=de);break}case"initialPlacement":ne=d;break}if(o!==ne)return{reset:{placement:ne}}}return{}}}};function Qv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yv(e){return eE.some(t=>e[t]>=0)}const dE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...o}=gn(e,t);switch(i){case"referenceHidden":{const l=await Fi(t,{...o,elementContext:"reference"}),u=Qv(l,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Yv(u)}}}case"escaped":{const l=await Fi(t,{...o,altBoundary:!0}),u=Qv(l,r.floating);return{data:{escapedOffsets:u,escaped:Yv(u)}}}default:return{}}}}};async function hE(e,t){const{placement:r,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=vn(r),d=Aa(r),f=Xn(r)==="y",m=["left","top"].includes(u)?-1:1,v=l&&f?-1:1,w=gn(t,e);let{mainAxis:j,crossAxis:b,alignmentAxis:S}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof S=="number"&&(b=d==="end"?S*-1:S),f?{x:b*v,y:j*m}:{x:j*m,y:b*v}}const fE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:o,y:l,placement:u,middlewareData:d}=t,f=await hE(t,e);return u===((r=d.offset)==null?void 0:r.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:u}}}}},mE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:N=>{let{x:C,y:E}=N;return{x:C,y:E}}},...f}=gn(e,t),m={x:r,y:i},v=await Fi(t,f),w=Xn(vn(o)),j=jf(w);let b=m[j],S=m[w];if(l){const N=j==="y"?"top":"left",C=j==="y"?"bottom":"right",E=b+v[N],k=b-v[C];b=Ih(E,b,k)}if(u){const N=w==="y"?"top":"left",C=w==="y"?"bottom":"right",E=S+v[N],k=S-v[C];S=Ih(E,S,k)}const y=d.fn({...t,[j]:b,[w]:S});return{...y,data:{x:y.x-r,y:y.y-i,enabled:{[j]:l,[w]:u}}}}}},pE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:o,rects:l,middlewareData:u}=t,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=gn(e,t),v={x:r,y:i},w=Xn(o),j=jf(w);let b=v[j],S=v[w];const y=gn(d,t),N=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const k=j==="y"?"height":"width",T=l.reference[j]-l.floating[k]+N.mainAxis,$=l.reference[j]+l.reference[k]-N.mainAxis;b<T?b=T:b>$&&(b=$)}if(m){var C,E;const k=j==="y"?"width":"height",T=["top","left"].includes(vn(o)),$=l.reference[w]-l.floating[k]+(T&&((C=u.offset)==null?void 0:C[w])||0)+(T?0:N.crossAxis),O=l.reference[w]+l.reference[k]+(T?0:((E=u.offset)==null?void 0:E[w])||0)-(T?N.crossAxis:0);S<$?S=$:S>O&&(S=O)}return{[j]:b,[w]:S}}}},gE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:o,rects:l,platform:u,elements:d}=t,{apply:f=()=>{},...m}=gn(e,t),v=await Fi(t,m),w=vn(o),j=Aa(o),b=Xn(o)==="y",{width:S,height:y}=l.floating;let N,C;w==="top"||w==="bottom"?(N=w,C=j===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(C=w,N=j==="end"?"top":"bottom");const E=y-v.top-v.bottom,k=S-v.left-v.right,T=Jn(y-v[N],E),$=Jn(S-v[C],k),O=!t.middlewareData.shift;let L=T,G=$;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(G=k),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(L=E),O&&!j){const F=er(v.left,0),Y=er(v.right,0),re=er(v.top,0),le=er(v.bottom,0);b?G=S-2*(F!==0||Y!==0?F+Y:er(v.left,v.right)):L=y-2*(re!==0||le!==0?re+le:er(v.top,v.bottom))}await f({...t,availableWidth:G,availableHeight:L});const D=await u.getDimensions(d.floating);return S!==D.width||y!==D.height?{reset:{rects:!0}}:{}}}};function jc(){return typeof window<"u"}function Oa(e){return dw(e)?(e.nodeName||"").toLowerCase():"#document"}function sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(dw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dw(e){return jc()?e instanceof Node||e instanceof sr(e).Node:!1}function Lr(e){return jc()?e instanceof Element||e instanceof sr(e).Element:!1}function Yr(e){return jc()?e instanceof HTMLElement||e instanceof sr(e).HTMLElement:!1}function Jv(e){return!jc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sr(e).ShadowRoot}function ro(e){const{overflow:t,overflowX:r,overflowY:i,display:o}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(o)}function vE(e){return["table","td","th"].includes(Oa(e))}function bc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Sf(e){const t=_f(),r=Lr(e)?$r(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function xE(e){let t=Zn(e);for(;Yr(t)&&!Ca(t);){if(Sf(t))return t;if(bc(t))return null;t=Zn(t)}return null}function _f(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ca(e){return["html","body","#document"].includes(Oa(e))}function $r(e){return sr(e).getComputedStyle(e)}function Nc(e){return Lr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zn(e){if(Oa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jv(e)&&e.host||Jr(e);return Jv(t)?t.host:t}function hw(e){const t=Zn(e);return Ca(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(t)&&ro(t)?t:hw(t)}function Ui(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=hw(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),u=sr(o);if(l){const d=Mh(u);return t.concat(u,u.visualViewport||[],ro(o)?o:[],d&&r?Ui(d):[])}return t.concat(o,Ui(o,[],r))}function Mh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fw(e){const t=$r(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Yr(e),l=o?e.offsetWidth:r,u=o?e.offsetHeight:i,d=Ql(r)!==l||Ql(i)!==u;return d&&(r=l,i=u),{width:r,height:i,$:d}}function Cf(e){return Lr(e)?e:e.contextElement}function ba(e){const t=Cf(e);if(!Yr(t))return Gr(1);const r=t.getBoundingClientRect(),{width:i,height:o,$:l}=fw(t);let u=(l?Ql(r.width):r.width)/i,d=(l?Ql(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const yE=Gr(0);function mw(e){const t=sr(e);return!_f()||!t.visualViewport?yE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wE(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==sr(e)?!1:t}function Cs(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),l=Cf(e);let u=Gr(1);t&&(i?Lr(i)&&(u=ba(i)):u=ba(e));const d=wE(l,r,i)?mw(l):Gr(0);let f=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,v=o.width/u.x,w=o.height/u.y;if(l){const j=sr(l),b=i&&Lr(i)?sr(i):i;let S=j,y=Mh(S);for(;y&&i&&b!==S;){const N=ba(y),C=y.getBoundingClientRect(),E=$r(y),k=C.left+(y.clientLeft+parseFloat(E.paddingLeft))*N.x,T=C.top+(y.clientTop+parseFloat(E.paddingTop))*N.y;f*=N.x,m*=N.y,v*=N.x,w*=N.y,f+=k,m+=T,S=sr(y),y=Mh(S)}}return Jl({width:v,height:w,x:f,y:m})}function Ef(e,t){const r=Nc(e).scrollLeft;return t?t.left+r:Cs(Jr(e)).left+r}function pw(e,t,r){r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(r?0:Ef(e,i)),l=i.top+t.scrollTop;return{x:o,y:l}}function jE(e){let{elements:t,rect:r,offsetParent:i,strategy:o}=e;const l=o==="fixed",u=Jr(i),d=t?bc(t.floating):!1;if(i===u||d&&l)return r;let f={scrollLeft:0,scrollTop:0},m=Gr(1);const v=Gr(0),w=Yr(i);if((w||!w&&!l)&&((Oa(i)!=="body"||ro(u))&&(f=Nc(i)),Yr(i))){const b=Cs(i);m=ba(i),v.x=b.x+i.clientLeft,v.y=b.y+i.clientTop}const j=u&&!w&&!l?pw(u,f,!0):Gr(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-f.scrollLeft*m.x+v.x+j.x,y:r.y*m.y-f.scrollTop*m.y+v.y+j.y}}function bE(e){return Array.from(e.getClientRects())}function NE(e){const t=Jr(e),r=Nc(e),i=e.ownerDocument.body,o=er(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=er(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-r.scrollLeft+Ef(e);const d=-r.scrollTop;return $r(i).direction==="rtl"&&(u+=er(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:u,y:d}}function SE(e,t){const r=sr(e),i=Jr(e),o=r.visualViewport;let l=i.clientWidth,u=i.clientHeight,d=0,f=0;if(o){l=o.width,u=o.height;const m=_f();(!m||m&&t==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}return{width:l,height:u,x:d,y:f}}function _E(e,t){const r=Cs(e,!0,t==="fixed"),i=r.top+e.clientTop,o=r.left+e.clientLeft,l=Yr(e)?ba(e):Gr(1),u=e.clientWidth*l.x,d=e.clientHeight*l.y,f=o*l.x,m=i*l.y;return{width:u,height:d,x:f,y:m}}function Xv(e,t,r){let i;if(t==="viewport")i=SE(e,r);else if(t==="document")i=NE(Jr(e));else if(Lr(t))i=_E(t,r);else{const o=mw(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Jl(i)}function gw(e,t){const r=Zn(e);return r===t||!Lr(r)||Ca(r)?!1:$r(r).position==="fixed"||gw(r,t)}function CE(e,t){const r=t.get(e);if(r)return r;let i=Ui(e,[],!1).filter(d=>Lr(d)&&Oa(d)!=="body"),o=null;const l=$r(e).position==="fixed";let u=l?Zn(e):e;for(;Lr(u)&&!Ca(u);){const d=$r(u),f=Sf(u);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ro(u)&&!f&&gw(e,u))?i=i.filter(v=>v!==u):o=d,u=Zn(u)}return t.set(e,i),i}function EE(e){let{element:t,boundary:r,rootBoundary:i,strategy:o}=e;const u=[...r==="clippingAncestors"?bc(t)?[]:CE(t,this._c):[].concat(r),i],d=u[0],f=u.reduce((m,v)=>{const w=Xv(t,v,o);return m.top=er(w.top,m.top),m.right=Jn(w.right,m.right),m.bottom=Jn(w.bottom,m.bottom),m.left=er(w.left,m.left),m},Xv(t,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function kE(e){const{width:t,height:r}=fw(e);return{width:t,height:r}}function RE(e,t,r){const i=Yr(t),o=Jr(t),l=r==="fixed",u=Cs(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=Gr(0);if(i||!i&&!l)if((Oa(t)!=="body"||ro(o))&&(d=Nc(t)),i){const j=Cs(t,!0,l,t);f.x=j.x+t.clientLeft,f.y=j.y+t.clientTop}else o&&(f.x=Ef(o));const m=o&&!i&&!l?pw(o,d):Gr(0),v=u.left+d.scrollLeft-f.x-m.x,w=u.top+d.scrollTop-f.y-m.y;return{x:v,y:w,width:u.width,height:u.height}}function th(e){return $r(e).position==="static"}function Zv(e,t){if(!Yr(e)||$r(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Jr(e)===r&&(r=r.ownerDocument.body),r}function vw(e,t){const r=sr(e);if(bc(e))return r;if(!Yr(e)){let o=Zn(e);for(;o&&!Ca(o);){if(Lr(o)&&!th(o))return o;o=Zn(o)}return r}let i=Zv(e,t);for(;i&&vE(i)&&th(i);)i=Zv(i,t);return i&&Ca(i)&&th(i)&&!Sf(i)?r:i||xE(e)||r}const TE=async function(e){const t=this.getOffsetParent||vw,r=this.getDimensions,i=await r(e.floating);return{reference:RE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function PE(e){return $r(e).direction==="rtl"}const AE={convertOffsetParentRelativeRectToViewportRelativeRect:jE,getDocumentElement:Jr,getClippingRect:EE,getOffsetParent:vw,getElementRects:TE,getClientRects:bE,getDimensions:kE,getScale:ba,isElement:Lr,isRTL:PE};function xw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function OE(e,t){let r=null,i;const o=Jr(e);function l(){var d;clearTimeout(i),(d=r)==null||d.disconnect(),r=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const m=e.getBoundingClientRect(),{left:v,top:w,width:j,height:b}=m;if(d||t(),!j||!b)return;const S=Nl(w),y=Nl(o.clientWidth-(v+j)),N=Nl(o.clientHeight-(w+b)),C=Nl(v),k={rootMargin:-S+"px "+-y+"px "+-N+"px "+-C+"px",threshold:er(0,Jn(1,f))||1};let T=!0;function $(O){const L=O[0].intersectionRatio;if(L!==f){if(!T)return u();L?u(!1,L):i=setTimeout(()=>{u(!1,1e-7)},1e3)}L===1&&!xw(m,e.getBoundingClientRect())&&u(),T=!1}try{r=new IntersectionObserver($,{...k,root:o.ownerDocument})}catch{r=new IntersectionObserver($,k)}r.observe(e)}return u(!0),l}function IE(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,m=Cf(e),v=o||l?[...m?Ui(m):[],...Ui(t)]:[];v.forEach(C=>{o&&C.addEventListener("scroll",r,{passive:!0}),l&&C.addEventListener("resize",r)});const w=m&&d?OE(m,r):null;let j=-1,b=null;u&&(b=new ResizeObserver(C=>{let[E]=C;E&&E.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var k;(k=b)==null||k.observe(t)})),r()}),m&&!f&&b.observe(m),b.observe(t));let S,y=f?Cs(e):null;f&&N();function N(){const C=Cs(e);y&&!xw(y,C)&&r(),y=C,S=requestAnimationFrame(N)}return r(),()=>{var C;v.forEach(E=>{o&&E.removeEventListener("scroll",r),l&&E.removeEventListener("resize",r)}),w?.(),(C=b)==null||C.disconnect(),b=null,f&&cancelAnimationFrame(S)}}const DE=fE,ME=mE,LE=uE,$E=gE,FE=dE,ex=cE,UE=pE,zE=(e,t,r)=>{const i=new Map,o={platform:AE,...r},l={...o.platform,_c:i};return lE(e,t,{...o,platform:l})};var Fl=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Xl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!Xl(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Xl(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function yw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tx(e,t){const r=yw(e);return Math.round(t*r)/r}function rh(e){const t=g.useRef(e);return Fl(()=>{t.current=e}),t}function BE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:f,open:m}=e,[v,w]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[j,b]=g.useState(i);Xl(j,i)||b(i);const[S,y]=g.useState(null),[N,C]=g.useState(null),E=g.useCallback(H=>{H!==O.current&&(O.current=H,y(H))},[]),k=g.useCallback(H=>{H!==L.current&&(L.current=H,C(H))},[]),T=l||S,$=u||N,O=g.useRef(null),L=g.useRef(null),G=g.useRef(v),D=f!=null,F=rh(f),Y=rh(o),re=rh(m),le=g.useCallback(()=>{if(!O.current||!L.current)return;const H={placement:t,strategy:r,middleware:j};Y.current&&(H.platform=Y.current),zE(O.current,L.current,H).then(W=>{const M={...W,isPositioned:re.current!==!1};Q.current&&!Xl(G.current,M)&&(G.current=M,Ta.flushSync(()=>{w(M)}))})},[j,t,r,Y,re]);Fl(()=>{m===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,w(H=>({...H,isPositioned:!1})))},[m]);const Q=g.useRef(!1);Fl(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Fl(()=>{if(T&&(O.current=T),$&&(L.current=$),T&&$){if(F.current)return F.current(T,$,le);le()}},[T,$,le,F,D]);const q=g.useMemo(()=>({reference:O,floating:L,setReference:E,setFloating:k}),[E,k]),ne=g.useMemo(()=>({reference:T,floating:$}),[T,$]),de=g.useMemo(()=>{const H={position:r,left:0,top:0};if(!ne.floating)return H;const W=tx(ne.floating,v.x),M=tx(ne.floating,v.y);return d?{...H,transform:"translate("+W+"px, "+M+"px)",...yw(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:M}},[r,d,ne.floating,v.x,v.y]);return g.useMemo(()=>({...v,update:le,refs:q,elements:ne,floatingStyles:de}),[v,le,q,ne,de])}const VE=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:o}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?ex({element:i.current,padding:o}).fn(r):{}:i?ex({element:i,padding:o}).fn(r):{}}}},HE=(e,t)=>({...DE(e),options:[e,t]}),WE=(e,t)=>({...ME(e),options:[e,t]}),KE=(e,t)=>({...UE(e),options:[e,t]}),qE=(e,t)=>({...LE(e),options:[e,t]}),GE=(e,t)=>({...$E(e),options:[e,t]}),QE=(e,t)=>({...FE(e),options:[e,t]}),YE=(e,t)=>({...VE(e),options:[e,t]});var JE="Arrow",ww=g.forwardRef((e,t)=>{const{children:r,width:i=10,height:o=5,...l}=e;return n.jsx(pe.svg,{...l,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});ww.displayName=JE;var XE=ww;function jw(e){const[t,r]=g.useState(void 0);return lt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,d;if("borderBoxSize"in l){const f=l.borderBoxSize,m=Array.isArray(f)?f[0]:f;u=m.inlineSize,d=m.blockSize}else u=e.offsetWidth,d=e.offsetHeight;r({width:u,height:d})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}var kf="Popper",[bw,Ia]=Ft(kf),[ZE,Nw]=bw(kf),Sw=e=>{const{__scopePopper:t,children:r}=e,[i,o]=g.useState(null);return n.jsx(ZE,{scope:t,anchor:i,onAnchorChange:o,children:r})};Sw.displayName=kf;var _w="PopperAnchor",Cw=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:i,...o}=e,l=Nw(_w,r),u=g.useRef(null),d=Me(t,u);return g.useEffect(()=>{l.onAnchorChange(i?.current||u.current)}),i?null:n.jsx(pe.div,{...o,ref:d})});Cw.displayName=_w;var Rf="PopperContent",[ek,tk]=bw(Rf),Ew=g.forwardRef((e,t)=>{const{__scopePopper:r,side:i="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:j=!1,updatePositionStrategy:b="optimized",onPlaced:S,...y}=e,N=Nw(Rf,r),[C,E]=g.useState(null),k=Me(t,ee=>E(ee)),[T,$]=g.useState(null),O=jw(T),L=O?.width??0,G=O?.height??0,D=i+(l!=="center"?"-"+l:""),F=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Y=Array.isArray(m)?m:[m],re=Y.length>0,le={padding:F,boundary:Y.filter(nk),altBoundary:re},{refs:Q,floatingStyles:q,placement:ne,isPositioned:de,middlewareData:H}=BE({strategy:"fixed",placement:D,whileElementsMounted:(...ee)=>IE(...ee,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[HE({mainAxis:o+G,alignmentAxis:u}),f&&WE({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?KE():void 0,...le}),f&&qE({...le}),GE({...le,apply:({elements:ee,rects:je,availableWidth:Ie,availableHeight:Le})=>{const{width:Ve,height:tt}=je.reference,wt=ee.floating.style;wt.setProperty("--radix-popper-available-width",`${Ie}px`),wt.setProperty("--radix-popper-available-height",`${Le}px`),wt.setProperty("--radix-popper-anchor-width",`${Ve}px`),wt.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),T&&YE({element:T,padding:d}),sk({arrowWidth:L,arrowHeight:G}),j&&QE({strategy:"referenceHidden",...le})]}),[W,M]=Tw(ne),P=et(S);lt(()=>{de&&P?.()},[de,P]);const K=H.arrow?.x,we=H.arrow?.y,V=H.arrow?.centerOffset!==0,[_e,Te]=g.useState();return lt(()=>{C&&Te(window.getComputedStyle(C).zIndex)},[C]),n.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:de?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(ek,{scope:r,placedSide:W,onArrowChange:$,arrowX:K,arrowY:we,shouldHideArrow:V,children:n.jsx(pe.div,{"data-side":W,"data-align":M,...y,ref:k,style:{...y.style,animation:de?void 0:"none"}})})})});Ew.displayName=Rf;var kw="PopperArrow",rk={top:"bottom",right:"left",bottom:"top",left:"right"},Rw=g.forwardRef(function(t,r){const{__scopePopper:i,...o}=t,l=tk(kw,i),u=rk[l.placedSide];return n.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:n.jsx(XE,{...o,ref:r,style:{...o.style,display:"block"}})})});Rw.displayName=kw;function nk(e){return e!==null}var sk=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:i,middlewareData:o}=t,u=o.arrow?.centerOffset!==0,d=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[m,v]=Tw(r),w={start:"0%",center:"50%",end:"100%"}[v],j=(o.arrow?.x??0)+d/2,b=(o.arrow?.y??0)+f/2;let S="",y="";return m==="bottom"?(S=u?w:`${j}px`,y=`${-f}px`):m==="top"?(S=u?w:`${j}px`,y=`${i.floating.height+f}px`):m==="right"?(S=`${-f}px`,y=u?w:`${b}px`):m==="left"&&(S=`${i.floating.width+f}px`,y=u?w:`${b}px`),{data:{x:S,y}}}});function Tw(e){const[t,r="center"]=e.split("-");return[t,r]}var Tf=Sw,Pf=Cw,Af=Ew,Of=Rw,[Sc]=Ft("Tooltip",[Ia]),_c=Ia(),Pw="TooltipProvider",ak=700,Lh="tooltip.open",[ik,If]=Sc(Pw),Aw=e=>{const{__scopeTooltip:t,delayDuration:r=ak,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:l}=e,u=g.useRef(!0),d=g.useRef(!1),f=g.useRef(0);return g.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),n.jsx(ik,{scope:t,isOpenDelayedRef:u,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,i)},[i]),isPointerInTransitRef:d,onPointerInTransitChange:g.useCallback(m=>{d.current=m},[]),disableHoverableContent:o,children:l})};Aw.displayName=Pw;var Cc="Tooltip",[ok,Ec]=Sc(Cc),Ow=e=>{const{__scopeTooltip:t,children:r,open:i,defaultOpen:o=!1,onOpenChange:l,disableHoverableContent:u,delayDuration:d}=e,f=If(Cc,e.__scopeTooltip),m=_c(t),[v,w]=g.useState(null),j=nr(),b=g.useRef(0),S=u??f.disableHoverableContent,y=d??f.delayDuration,N=g.useRef(!1),[C=!1,E]=vr({prop:i,defaultProp:o,onChange:L=>{L?(f.onOpen(),document.dispatchEvent(new CustomEvent(Lh))):f.onClose(),l?.(L)}}),k=g.useMemo(()=>C?N.current?"delayed-open":"instant-open":"closed",[C]),T=g.useCallback(()=>{window.clearTimeout(b.current),b.current=0,N.current=!1,E(!0)},[E]),$=g.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E(!1)},[E]),O=g.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{N.current=!0,E(!0),b.current=0},y)},[y,E]);return g.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),n.jsx(Tf,{...m,children:n.jsx(ok,{scope:t,contentId:j,open:C,stateAttribute:k,trigger:v,onTriggerChange:w,onTriggerEnter:g.useCallback(()=>{f.isOpenDelayedRef.current?O():T()},[f.isOpenDelayedRef,O,T]),onTriggerLeave:g.useCallback(()=>{S?$():(window.clearTimeout(b.current),b.current=0)},[$,S]),onOpen:T,onClose:$,disableHoverableContent:S,children:r})})};Ow.displayName=Cc;var $h="TooltipTrigger",Iw=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...i}=e,o=Ec($h,r),l=If($h,r),u=_c(r),d=g.useRef(null),f=Me(t,d,o.onTriggerChange),m=g.useRef(!1),v=g.useRef(!1),w=g.useCallback(()=>m.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),n.jsx(Pf,{asChild:!0,...u,children:n.jsx(pe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:f,onPointerMove:se(e.onPointerMove,j=>{j.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:se(e.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:se(e.onFocus,()=>{m.current||o.onOpen()}),onBlur:se(e.onBlur,o.onClose),onClick:se(e.onClick,o.onClose)})})});Iw.displayName=$h;var lk="TooltipPortal",[dD,ck]=Sc(lk,{forceMount:void 0}),Ea="TooltipContent",Dw=g.forwardRef((e,t)=>{const r=ck(Ea,e.__scopeTooltip),{forceMount:i=r.forceMount,side:o="top",...l}=e,u=Ec(Ea,e.__scopeTooltip);return n.jsx(Mt,{present:i||u.open,children:u.disableHoverableContent?n.jsx(Mw,{side:o,...l,ref:t}):n.jsx(uk,{side:o,...l,ref:t})})}),uk=g.forwardRef((e,t)=>{const r=Ec(Ea,e.__scopeTooltip),i=If(Ea,e.__scopeTooltip),o=g.useRef(null),l=Me(t,o),[u,d]=g.useState(null),{trigger:f,onClose:m}=r,v=o.current,{onPointerInTransitChange:w}=i,j=g.useCallback(()=>{d(null),w(!1)},[w]),b=g.useCallback((S,y)=>{const N=S.currentTarget,C={x:S.clientX,y:S.clientY},E=pk(C,N.getBoundingClientRect()),k=gk(C,E),T=vk(y.getBoundingClientRect()),$=yk([...k,...T]);d($),w(!0)},[w]);return g.useEffect(()=>()=>j(),[j]),g.useEffect(()=>{if(f&&v){const S=N=>b(N,v),y=N=>b(N,f);return f.addEventListener("pointerleave",S),v.addEventListener("pointerleave",y),()=>{f.removeEventListener("pointerleave",S),v.removeEventListener("pointerleave",y)}}},[f,v,b,j]),g.useEffect(()=>{if(u){const S=y=>{const N=y.target,C={x:y.clientX,y:y.clientY},E=f?.contains(N)||v?.contains(N),k=!xk(C,u);E?j():k&&(j(),m())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,v,u,m,j]),n.jsx(Mw,{...e,ref:l})}),[dk,hk]=Sc(Cc,{isInside:!1}),fk=p_("TooltipContent"),Mw=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:i,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:u,...d}=e,f=Ec(Ea,r),m=_c(r),{onClose:v}=f;return g.useEffect(()=>(document.addEventListener(Lh,v),()=>document.removeEventListener(Lh,v)),[v]),g.useEffect(()=>{if(f.trigger){const w=j=>{j.target?.contains(f.trigger)&&v()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,v]),n.jsx(Pa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:w=>w.preventDefault(),onDismiss:v,children:n.jsxs(Af,{"data-state":f.stateAttribute,...m,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(fk,{children:i}),n.jsx(dk,{scope:r,isInside:!0,children:n.jsx(R2,{id:f.contentId,role:"tooltip",children:o||i})})]})})});Dw.displayName=Ea;var Lw="TooltipArrow",mk=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...i}=e,o=_c(r);return hk(Lw,r).isInside?null:n.jsx(Of,{...o,...i,ref:t})});mk.displayName=Lw;function pk(e,t){const r=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(r,i,o,l)){case l:return"left";case o:return"right";case r:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function gk(e,t,r=5){const i=[];switch(t){case"top":i.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":i.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":i.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":i.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return i}function vk(e){const{top:t,right:r,bottom:i,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:i},{x:o,y:i}]}function xk(e,t){const{x:r,y:i}=e;let o=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const d=t[l].x,f=t[l].y,m=t[u].x,v=t[u].y;f>i!=v>i&&r<(m-d)*(i-f)/(v-f)+d&&(o=!o)}return o}function yk(e){const t=e.slice();return t.sort((r,i)=>r.x<i.x?-1:r.x>i.x?1:r.y<i.y?-1:r.y>i.y?1:0),wk(t)}function wk(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const o=e[i];for(;t.length>=2;){const l=t[t.length-1],u=t[t.length-2];if((l.x-u.x)*(o.y-u.y)>=(l.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let i=e.length-1;i>=0;i--){const o=e[i];for(;r.length>=2;){const l=r[r.length-1],u=r[r.length-2];if((l.x-u.x)*(o.y-u.y)>=(l.y-u.y)*(o.x-u.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var jk=Aw,bk=Ow,Nk=Iw,$w=Dw;const Fw=jk,Sk=bk,_k=Nk,Uw=g.forwardRef(({className:e,sideOffset:t=4,...r},i)=>n.jsx($w,{ref:i,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Uw.displayName=$w.displayName;const nh=768;function Ck(){const[e,t]=g.useState(void 0);return g.useEffect(()=>{const r=window.matchMedia(`(max-width: ${nh-1}px)`),i=()=>{t(window.innerWidth<nh)};return r.addEventListener("change",i),t(window.innerWidth<nh),()=>r.removeEventListener("change",i)},[]),!!e}const Ue=g.forwardRef(({className:e,type:t,...r},i)=>n.jsx("input",{type:t,className:ae("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));Ue.displayName="Input";var Ek="Separator",rx="horizontal",kk=["horizontal","vertical"],zw=g.forwardRef((e,t)=>{const{decorative:r,orientation:i=rx,...o}=e,l=Rk(i)?i:rx,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return n.jsx(pe.div,{"data-orientation":l,...d,...o,ref:t})});zw.displayName=Ek;function Rk(e){return kk.includes(e)}var Bw=zw;const Ze=g.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...i},o)=>n.jsx(Bw,{ref:o,decorative:r,orientation:t,className:ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...i}));Ze.displayName=Bw.displayName;var sh="focusScope.autoFocusOnMount",ah="focusScope.autoFocusOnUnmount",nx={bubbles:!1,cancelable:!0},Tk="FocusScope",kc=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=e,[d,f]=g.useState(null),m=et(o),v=et(l),w=g.useRef(null),j=Me(t,y=>f(y)),b=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(i){let y=function(k){if(b.paused||!d)return;const T=k.target;d.contains(T)?w.current=T:zn(w.current,{select:!0})},N=function(k){if(b.paused||!d)return;const T=k.relatedTarget;T!==null&&(d.contains(T)||zn(w.current,{select:!0}))},C=function(k){if(document.activeElement===document.body)for(const $ of k)$.removedNodes.length>0&&zn(d)};document.addEventListener("focusin",y),document.addEventListener("focusout",N);const E=new MutationObserver(C);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",N),E.disconnect()}}},[i,d,b.paused]),g.useEffect(()=>{if(d){ax.add(b);const y=document.activeElement;if(!d.contains(y)){const C=new CustomEvent(sh,nx);d.addEventListener(sh,m),d.dispatchEvent(C),C.defaultPrevented||(Pk(Mk(Vw(d)),{select:!0}),document.activeElement===y&&zn(d))}return()=>{d.removeEventListener(sh,m),setTimeout(()=>{const C=new CustomEvent(ah,nx);d.addEventListener(ah,v),d.dispatchEvent(C),C.defaultPrevented||zn(y??document.body,{select:!0}),d.removeEventListener(ah,v),ax.remove(b)},0)}}},[d,m,v,b]);const S=g.useCallback(y=>{if(!r&&!i||b.paused)return;const N=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(N&&C){const E=y.currentTarget,[k,T]=Ak(E);k&&T?!y.shiftKey&&C===T?(y.preventDefault(),r&&zn(k,{select:!0})):y.shiftKey&&C===k&&(y.preventDefault(),r&&zn(T,{select:!0})):C===E&&y.preventDefault()}},[r,i,b.paused]);return n.jsx(pe.div,{tabIndex:-1,...u,ref:j,onKeyDown:S})});kc.displayName=Tk;function Pk(e,{select:t=!1}={}){const r=document.activeElement;for(const i of e)if(zn(i,{select:t}),document.activeElement!==r)return}function Ak(e){const t=Vw(e),r=sx(t,e),i=sx(t.reverse(),e);return[r,i]}function Vw(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sx(e,t){for(const r of e)if(!Ok(r,{upTo:t}))return r}function Ok(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ik(e){return e instanceof HTMLInputElement&&"select"in e}function zn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ik(e)&&t&&e.select()}}var ax=Dk();function Dk(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=ix(e,t),e.unshift(t)},remove(t){e=ix(e,t),e[0]?.resume()}}}function ix(e,t){const r=[...e],i=r.indexOf(t);return i!==-1&&r.splice(i,1),r}function Mk(e){return e.filter(t=>t.tagName!=="A")}var ih=0;function Df(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ox()),document.body.insertAdjacentElement("beforeend",e[1]??ox()),ih++,()=>{ih===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ih--}},[])}function ox(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wr=function(){return Wr=Object.assign||function(t){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Wr.apply(this,arguments)};function Da(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r}function Lk(e,t,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(v){try{m(i.next(v))}catch(w){u(w)}}function f(v){try{m(i.throw(v))}catch(w){u(w)}}function m(v){v.done?l(v.value):o(v.value).then(d,f)}m((i=i.apply(e,t||[])).next())})}function $k(e,t,r){if(r||arguments.length===2)for(var i=0,o=t.length,l;i<o;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}var Ul="right-scroll-bar-position",zl="width-before-scroll-bar",Fk="with-scroll-bars-hidden",Uk="--removed-body-scroll-bar-size";function oh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zk(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var o=r.value;o!==i&&(r.value=i,r.callback(i,o))}}}})[0];return r.callback=t,r.facade}var Bk=typeof window<"u"?g.useLayoutEffect:g.useEffect,lx=new WeakMap;function Vk(e,t){var r=zk(null,function(i){return e.forEach(function(o){return oh(o,i)})});return Bk(function(){var i=lx.get(r);if(i){var o=new Set(i),l=new Set(e),u=r.current;o.forEach(function(d){l.has(d)||oh(d,null)}),l.forEach(function(d){o.has(d)||oh(d,u)})}lx.set(r,e)},[e]),r}function Hk(e){return e}function Wk(e,t){t===void 0&&(t=Hk);var r=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var u=t(l,i);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(i=!0;r.length;){var u=r;r=[],u.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){i=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(l),u=r}var f=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(f)};m(),r={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),r}}}};return o}function Kk(e){e===void 0&&(e={});var t=Wk(null);return t.options=Wr({async:!0,ssr:!1},e),t}var Hw=function(e){var t=e.sideCar,r=Da(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return g.createElement(i,Wr({},r))};Hw.isSideCarExport=!0;function qk(e,t){return e.useMedium(t),Hw}var Ww=Kk(),lh=function(){},Rc=g.forwardRef(function(e,t){var r=g.useRef(null),i=g.useState({onScrollCapture:lh,onWheelCapture:lh,onTouchMoveCapture:lh}),o=i[0],l=i[1],u=e.forwardProps,d=e.children,f=e.className,m=e.removeScrollBar,v=e.enabled,w=e.shards,j=e.sideCar,b=e.noIsolation,S=e.inert,y=e.allowPinchZoom,N=e.as,C=N===void 0?"div":N,E=e.gapMode,k=Da(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=j,$=Vk([r,t]),O=Wr(Wr({},k),o);return g.createElement(g.Fragment,null,v&&g.createElement(T,{sideCar:Ww,removeScrollBar:m,shards:w,noIsolation:b,inert:S,setCallbacks:l,allowPinchZoom:!!y,lockRef:r,gapMode:E}),u?g.cloneElement(g.Children.only(d),Wr(Wr({},O),{ref:$})):g.createElement(C,Wr({},O,{className:f,ref:$}),d))});Rc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rc.classNames={fullWidth:zl,zeroRight:Ul};var Gk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Gk();return t&&e.setAttribute("nonce",t),e}function Yk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Jk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Xk=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Qk())&&(Yk(t,r),Jk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zk=function(){var e=Xk();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Kw=function(){var e=Zk(),t=function(r){var i=r.styles,o=r.dynamic;return e(i,o),null};return t},eR={left:0,top:0,right:0,gap:0},ch=function(e){return parseInt(e||"",10)||0},tR=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ch(r),ch(i),ch(o)]},rR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eR;var t=tR(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},nR=Kw(),Na="data-scroll-locked",sR=function(e,t,r,i){var o=e.left,l=e.top,u=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Fk,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(Na,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ul,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(zl,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Ul," .").concat(Ul,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(zl," .").concat(zl,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Na,`] {
    `).concat(Uk,": ").concat(d,`px;
  }
`)},cx=function(){var e=parseInt(document.body.getAttribute(Na)||"0",10);return isFinite(e)?e:0},aR=function(){g.useEffect(function(){return document.body.setAttribute(Na,(cx()+1).toString()),function(){var e=cx()-1;e<=0?document.body.removeAttribute(Na):document.body.setAttribute(Na,e.toString())}},[])},iR=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;aR();var l=g.useMemo(function(){return rR(o)},[o]);return g.createElement(nR,{styles:sR(l,!t,o,r?"":"!important")})},Fh=!1;if(typeof window<"u")try{var Sl=Object.defineProperty({},"passive",{get:function(){return Fh=!0,!0}});window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{Fh=!1}var oa=Fh?{passive:!1}:!1,oR=function(e){return e.tagName==="TEXTAREA"},qw=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!oR(e)&&r[t]==="visible")},lR=function(e){return qw(e,"overflowY")},cR=function(e){return qw(e,"overflowX")},ux=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=Gw(e,i);if(o){var l=Qw(e,i),u=l[1],d=l[2];if(u>d)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},uR=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},dR=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},Gw=function(e,t){return e==="v"?lR(t):cR(t)},Qw=function(e,t){return e==="v"?uR(t):dR(t)},hR=function(e,t){return e==="h"&&t==="rtl"?-1:1},fR=function(e,t,r,i,o){var l=hR(e,window.getComputedStyle(t).direction),u=l*i,d=r.target,f=t.contains(d),m=!1,v=u>0,w=0,j=0;do{var b=Qw(e,d),S=b[0],y=b[1],N=b[2],C=y-N-l*S;(S||C)&&Gw(e,d)&&(w+=C,j+=S),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(v&&Math.abs(w)<1||!v&&Math.abs(j)<1)&&(m=!0),m},_l=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dx=function(e){return[e.deltaX,e.deltaY]},hx=function(e){return e&&"current"in e?e.current:e},mR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gR=0,la=[];function vR(e){var t=g.useRef([]),r=g.useRef([0,0]),i=g.useRef(),o=g.useState(gR++)[0],l=g.useState(Kw)[0],u=g.useRef(e);g.useEffect(function(){u.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=$k([e.lockRef.current],(e.shards||[]).map(hx),!0).filter(Boolean);return y.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=g.useCallback(function(y,N){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!u.current.allowPinchZoom;var C=_l(y),E=r.current,k="deltaX"in y?y.deltaX:E[0]-C[0],T="deltaY"in y?y.deltaY:E[1]-C[1],$,O=y.target,L=Math.abs(k)>Math.abs(T)?"h":"v";if("touches"in y&&L==="h"&&O.type==="range")return!1;var G=ux(L,O);if(!G)return!0;if(G?$=L:($=L==="v"?"h":"v",G=ux(L,O)),!G)return!1;if(!i.current&&"changedTouches"in y&&(k||T)&&(i.current=$),!$)return!0;var D=i.current||$;return fR(D,N,y,D==="h"?k:T)},[]),f=g.useCallback(function(y){var N=y;if(!(!la.length||la[la.length-1]!==l)){var C="deltaY"in N?dx(N):_l(N),E=t.current.filter(function($){return $.name===N.type&&($.target===N.target||N.target===$.shadowParent)&&mR($.delta,C)})[0];if(E&&E.should){N.cancelable&&N.preventDefault();return}if(!E){var k=(u.current.shards||[]).map(hx).filter(Boolean).filter(function($){return $.contains(N.target)}),T=k.length>0?d(N,k[0]):!u.current.noIsolation;T&&N.cancelable&&N.preventDefault()}}},[]),m=g.useCallback(function(y,N,C,E){var k={name:y,delta:N,target:C,should:E,shadowParent:xR(C)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(T){return T!==k})},1)},[]),v=g.useCallback(function(y){r.current=_l(y),i.current=void 0},[]),w=g.useCallback(function(y){m(y.type,dx(y),y.target,d(y,e.lockRef.current))},[]),j=g.useCallback(function(y){m(y.type,_l(y),y.target,d(y,e.lockRef.current))},[]);g.useEffect(function(){return la.push(l),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:j}),document.addEventListener("wheel",f,oa),document.addEventListener("touchmove",f,oa),document.addEventListener("touchstart",v,oa),function(){la=la.filter(function(y){return y!==l}),document.removeEventListener("wheel",f,oa),document.removeEventListener("touchmove",f,oa),document.removeEventListener("touchstart",v,oa)}},[]);var b=e.removeScrollBar,S=e.inert;return g.createElement(g.Fragment,null,S?g.createElement(l,{styles:pR(o)}):null,b?g.createElement(iR,{gapMode:e.gapMode}):null)}function xR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yR=qk(Ww,vR);var Tc=g.forwardRef(function(e,t){return g.createElement(Rc,Wr({},e,{ref:t,sideCar:yR}))});Tc.classNames=Rc.classNames;var wR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ca=new WeakMap,Cl=new WeakMap,El={},uh=0,Yw=function(e){return e&&(e.host||Yw(e.parentNode))},jR=function(e,t){return t.map(function(r){if(e.contains(r))return r;var i=Yw(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},bR=function(e,t,r,i){var o=jR(t,Array.isArray(e)?e:[e]);El[r]||(El[r]=new WeakMap);var l=El[r],u=[],d=new Set,f=new Set(o),m=function(w){!w||d.has(w)||(d.add(w),m(w.parentNode))};o.forEach(m);var v=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(j){if(d.has(j))v(j);else try{var b=j.getAttribute(i),S=b!==null&&b!=="false",y=(ca.get(j)||0)+1,N=(l.get(j)||0)+1;ca.set(j,y),l.set(j,N),u.push(j),y===1&&S&&Cl.set(j,!0),N===1&&j.setAttribute(r,"true"),S||j.setAttribute(i,"true")}catch(C){console.error("aria-hidden: cannot operate on ",j,C)}})};return v(t),d.clear(),uh++,function(){u.forEach(function(w){var j=ca.get(w)-1,b=l.get(w)-1;ca.set(w,j),l.set(w,b),j||(Cl.has(w)||w.removeAttribute(i),Cl.delete(w)),b||w.removeAttribute(r)}),uh--,uh||(ca=new WeakMap,ca=new WeakMap,Cl=new WeakMap,El={})}},Mf=function(e,t,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=wR(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live]"))),bR(i,o,r,"aria-hidden")):function(){return null}},Lf="Dialog",[Jw]=Ft(Lf),[NR,Fr]=Jw(Lf),Xw=e=>{const{__scopeDialog:t,children:r,open:i,defaultOpen:o,onOpenChange:l,modal:u=!0}=e,d=g.useRef(null),f=g.useRef(null),[m=!1,v]=vr({prop:i,defaultProp:o,onChange:l});return n.jsx(NR,{scope:t,triggerRef:d,contentRef:f,contentId:nr(),titleId:nr(),descriptionId:nr(),open:m,onOpenChange:v,onOpenToggle:g.useCallback(()=>v(w=>!w),[v]),modal:u,children:r})};Xw.displayName=Lf;var Zw="DialogTrigger",SR=g.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,o=Fr(Zw,r),l=Me(t,o.triggerRef);return n.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Uf(o.open),...i,ref:l,onClick:se(e.onClick,o.onOpenToggle)})});SR.displayName=Zw;var $f="DialogPortal",[_R,e0]=Jw($f,{forceMount:void 0}),t0=e=>{const{__scopeDialog:t,forceMount:r,children:i,container:o}=e,l=Fr($f,t);return n.jsx(_R,{scope:t,forceMount:r,children:g.Children.map(i,u=>n.jsx(Mt,{present:r||l.open,children:n.jsx(eo,{asChild:!0,container:o,children:u})}))})};t0.displayName=$f;var Zl="DialogOverlay",r0=g.forwardRef((e,t)=>{const r=e0(Zl,e.__scopeDialog),{forceMount:i=r.forceMount,...o}=e,l=Fr(Zl,e.__scopeDialog);return l.modal?n.jsx(Mt,{present:i||l.open,children:n.jsx(ER,{...o,ref:t})}):null});r0.displayName=Zl;var CR=Ss("DialogOverlay.RemoveScroll"),ER=g.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,o=Fr(Zl,r);return n.jsx(Tc,{as:CR,allowPinchZoom:!0,shards:[o.contentRef],children:n.jsx(pe.div,{"data-state":Uf(o.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Es="DialogContent",n0=g.forwardRef((e,t)=>{const r=e0(Es,e.__scopeDialog),{forceMount:i=r.forceMount,...o}=e,l=Fr(Es,e.__scopeDialog);return n.jsx(Mt,{present:i||l.open,children:l.modal?n.jsx(kR,{...o,ref:t}):n.jsx(RR,{...o,ref:t})})});n0.displayName=Es;var kR=g.forwardRef((e,t)=>{const r=Fr(Es,e.__scopeDialog),i=g.useRef(null),o=Me(t,r.contentRef,i);return g.useEffect(()=>{const l=i.current;if(l)return Mf(l)},[]),n.jsx(s0,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:se(e.onFocusOutside,l=>l.preventDefault())})}),RR=g.forwardRef((e,t)=>{const r=Fr(Es,e.__scopeDialog),i=g.useRef(!1),o=g.useRef(!1);return n.jsx(s0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(i.current||r.triggerRef.current?.focus(),l.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=l.target;r.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),s0=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,...u}=e,d=Fr(Es,r),f=g.useRef(null),m=Me(t,f);return Df(),n.jsxs(n.Fragment,{children:[n.jsx(kc,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:l,children:n.jsx(Pa,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Uf(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(TR,{titleId:d.titleId}),n.jsx(AR,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Ff="DialogTitle",a0=g.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,o=Fr(Ff,r);return n.jsx(pe.h2,{id:o.titleId,...i,ref:t})});a0.displayName=Ff;var i0="DialogDescription",o0=g.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,o=Fr(i0,r);return n.jsx(pe.p,{id:o.descriptionId,...i,ref:t})});o0.displayName=i0;var l0="DialogClose",c0=g.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,o=Fr(l0,r);return n.jsx(pe.button,{type:"button",...i,ref:t,onClick:se(e.onClick,()=>o.onOpenChange(!1))})});c0.displayName=l0;function Uf(e){return e?"open":"closed"}var u0="DialogTitleWarning",[hD,d0]=d2(u0,{contentName:Es,titleName:Ff,docsSlug:"dialog"}),TR=({titleId:e})=>{const t=d0(u0),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},PR="DialogDescriptionWarning",AR=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d0(PR).contentName}}.`;return g.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},h0=Xw,f0=t0,Pc=r0,Ac=n0,Oc=a0,Ic=o0,m0=c0;const OR=h0,IR=f0,p0=g.forwardRef(({className:e,...t},r)=>n.jsx(Pc,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));p0.displayName=Pc.displayName;const DR=Ts("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),g0=g.forwardRef(({side:e="right",className:t,children:r,...i},o)=>n.jsxs(IR,{children:[n.jsx(p0,{}),n.jsxs(Ac,{ref:o,className:ae(DR({side:e}),t),...i,children:[r,n.jsxs(m0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Yn,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));g0.displayName=Ac.displayName;const v0=({className:e,...t})=>n.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});v0.displayName="SheetHeader";const x0=g.forwardRef(({className:e,...t},r)=>n.jsx(Oc,{ref:r,className:ae("text-lg font-semibold text-foreground",e),...t}));x0.displayName=Oc.displayName;const y0=g.forwardRef(({className:e,...t},r)=>n.jsx(Ic,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));y0.displayName=Ic.displayName;function yt({className:e,...t}){return n.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",e),...t})}const MR="sidebar_state",LR=3600*24*7,$R="16rem",FR="18rem",UR="3rem",zR="b",w0=g.createContext(null);function zf(){const e=g.useContext(w0);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function BR({defaultOpen:e=!0,open:t,onOpenChange:r,className:i,style:o,children:l,...u}){const d=Ck(),[f,m]=g.useState(!1),[v,w]=g.useState(e),j=t??v,b=g.useCallback(C=>{const E=typeof C=="function"?C(j):C;r?r(E):w(E),document.cookie=`${MR}=${E}; path=/; max-age=${LR}`},[r,j]),S=g.useCallback(()=>d?m(C=>!C):b(C=>!C),[d,b,m]);g.useEffect(()=>{const C=E=>{E.key===zR&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),S())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[S]);const y=j?"expanded":"collapsed",N=g.useMemo(()=>({state:y,open:j,setOpen:b,isMobile:d,openMobile:f,setOpenMobile:m,toggleSidebar:S}),[y,j,b,d,f,m,S]);return n.jsx(w0.Provider,{value:N,children:n.jsx(Fw,{delayDuration:0,children:n.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":$R,"--sidebar-width-icon":UR,...o},className:ae("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...u,children:l})})})}function VR({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:i,children:o,...l}){const{isMobile:u,state:d,openMobile:f,setOpenMobile:m}=zf();return r==="none"?n.jsx("div",{"data-slot":"sidebar",className:ae("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",i),...l,children:o}):u?n.jsx(OR,{open:f,onOpenChange:m,...l,children:n.jsxs(g0,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":FR},side:e,children:[n.jsxs(v0,{className:"sr-only",children:[n.jsx(x0,{children:"Sidebar"}),n.jsx(y0,{children:"Displays the mobile sidebar."})]}),n.jsx("div",{className:"flex h-full w-full flex-col",children:o})]})}):n.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[n.jsx("div",{"data-slot":"sidebar-gap",className:ae("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),n.jsx("div",{"data-slot":"sidebar-container",className:ae("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...l,children:n.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:o})})]})}function HR({className:e,onClick:t,...r}){const{toggleSidebar:i}=zf();return n.jsxs(oe,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ae("h-7 w-7",e),onClick:o=>{t?.(o),i()},...r,children:[n.jsx(o_,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function WR({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:ae("flex flex-col gap-2 p-2",e),...t})}function KR({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:ae("flex flex-col gap-2 p-2",e),...t})}function qR({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function fx({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:ae("relative flex w-full min-w-0 flex-col p-2",e),...t})}function mx({className:e,asChild:t=!1,...r}){const i=t?cf:"div";return n.jsx(i,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ae("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})}function px({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ae("w-full text-sm",e),...t})}function gx({className:e,...t}){return n.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:ae("flex w-full min-w-0 flex-col gap-1",e),...t})}function vx({className:e,...t}){return n.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ae("group/menu-item relative",e),...t})}const GR=Ts("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function xx({asChild:e=!1,isActive:t=!1,variant:r="default",size:i="default",tooltip:o,className:l,...u}){const d=e?cf:"button",{isMobile:f,state:m}=zf(),v=n.jsx(d,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":i,"data-active":t,className:ae(GR({variant:r,size:i}),l),...u});return o?(typeof o=="string"&&(o={children:o}),n.jsxs(Sk,{children:[n.jsx(_k,{asChild:!0,children:v}),n.jsx(Uw,{side:"right",align:"center",hidden:m!=="collapsed"||f,...o})]})):v}var Bf="Avatar",[QR]=Ft(Bf),[YR,j0]=QR(Bf),b0=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...i}=e,[o,l]=g.useState("idle");return n.jsx(YR,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:n.jsx(pe.span,{...i,ref:t})})});b0.displayName=Bf;var N0="AvatarImage",S0=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:i,onLoadingStatusChange:o=()=>{},...l}=e,u=j0(N0,r),d=JR(i,l),f=et(m=>{o(m),u.onImageLoadingStatusChange(m)});return lt(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?n.jsx(pe.img,{...l,ref:t,src:i}):null});S0.displayName=N0;var _0="AvatarFallback",C0=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:i,...o}=e,l=j0(_0,r),[u,d]=g.useState(i===void 0);return g.useEffect(()=>{if(i!==void 0){const f=window.setTimeout(()=>d(!0),i);return()=>window.clearTimeout(f)}},[i]),u&&l.imageLoadingStatus!=="loaded"?n.jsx(pe.span,{...o,ref:t}):null});C0.displayName=_0;function yx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function JR(e,{referrerPolicy:t,crossOrigin:r}){const i=ZR(),o=g.useRef(null),l=i?(o.current||(o.current=new window.Image),o.current):null,[u,d]=g.useState(()=>yx(l,e));return lt(()=>{d(yx(l,e))},[l,e]),lt(()=>{const f=w=>()=>{d(w)};if(!l)return;const m=f("loaded"),v=f("error");return l.addEventListener("load",m),l.addEventListener("error",v),t&&(l.referrerPolicy=t),typeof r=="string"&&(l.crossOrigin=r),()=>{l.removeEventListener("load",m),l.removeEventListener("error",v)}},[l,r,t]),u}function XR(){return()=>{}}function ZR(){return g.useSyncExternalStore(XR,()=>!0,()=>!1)}var E0=b0,k0=S0,R0=C0;const Dr=g.forwardRef(({className:e,...t},r)=>n.jsx(E0,{ref:r,className:ae(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Dr.displayName=E0.displayName;const eT=g.forwardRef(({className:e,...t},r)=>n.jsx(k0,{ref:r,className:ae("aspect-square h-full w-full",e),...t}));eT.displayName=k0.displayName;const Mr=g.forwardRef(({className:e,...t},r)=>n.jsx(R0,{ref:r,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Mr.displayName=R0.displayName;const tT=Ts("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ye({className:e,variant:t,...r}){return n.jsx("div",{className:ae(tT({variant:t}),e),...r})}var T0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wx=Ke.createContext&&Ke.createContext(T0),rT=["attr","size","title"];function nT(e,t){if(e==null)return{};var r=sT(e,t),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)i=l[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function sT(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ec.apply(this,arguments)}function jx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jx(Object(r),!0).forEach(function(i){aT(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jx(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function aT(e,t,r){return t=iT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iT(e){var t=oT(e,"string");return typeof t=="symbol"?t:t+""}function oT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P0(e){return e&&e.map((t,r)=>Ke.createElement(t.tag,tc({key:r},t.attr),P0(t.child)))}function lT(e){return t=>Ke.createElement(cT,ec({attr:tc({},e.attr)},t),P0(e.child))}function cT(e){var t=r=>{var{attr:i,size:o,title:l}=e,u=nT(e,rT),d=o||r.size||"1em",f;return r.className&&(f=r.className),e.className&&(f=(f?f+" ":"")+e.className),Ke.createElement("svg",ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,u,{className:f,style:tc(tc({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ke.createElement("title",null,l),e.children)};return wx!==void 0?Ke.createElement(wx.Consumer,null,r=>t(r)):t(T0)}function ks(e){return lT({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}const uT={es:{"nav.dashboard":"Panel Principal","nav.conversations":"Conversaciones","nav.customers":"Clientes","nav.locations":"Sucursales","nav.services":"Servicios","nav.orders":"Pedidos","nav.analytics":"Analticas","nav.notifications":"Notificaciones","nav.settings":"Configuracin","nav.help":"Ayuda","nav.menu":"Men","nav.system":"Sistema","dashboard.title":"Panel de Concierge IA","dashboard.subtitle":"El Salvador  7 Sucursales  WhatsApp Business API","dashboard.live":"En Vivo","dashboard.allLocations":"Todas las Sucursales","stats.totalConversations":"Total de Conversaciones","stats.activeNow":"Activas Ahora","stats.aiResolutionRate":"Tasa de Resolucin IA","stats.escalations":"Escalaciones","stats.avgResponseTime":"Tiempo de Respuesta Promedio","stats.messagesProcessed":"Mensajes Procesados","stats.resolvedToday":"Resueltas Hoy","stats.customerSatisfaction":"Satisfaccin del Cliente","stats.today":"Hoy","stats.liveConversations":"Conversaciones en vivo","stats.withoutHumanIntervention":"Sin intervencin humana","stats.pendingReview":"Pendientes de revisin","stats.last24Hours":"ltimas 24 horas","stats.vsLastWeek":"vs semana pasada","chat.aiActive":"IA Activa","chat.aiResponse":"Respuesta IA","chat.typeMessage":"Escribe un mensaje...","chat.connectedToWhatsApp":"Conectado a WhatsApp Business API","chat.live":"En Vivo","chat.recentConversation":"Conversacin Reciente","activity.title":"Actividad Reciente","activity.activities":"actividades","activity.noActivities":"No hay actividades recientes","activity.justNow":"Ahora mismo","activity.minAgo":"hace {min} min","activity.hoursAgo":"hace {hours} h","escalations.title":"Escalaciones","escalations.pending":"pendientes","escalations.noPending":"Sin escalaciones pendientes","escalations.highPriority":"Alta Prioridad","escalations.mediumPriority":"Media","escalations.lowPriority":"Baja","escalations.call":"Llamar","escalations.takeOver":"Tomar Control","performance.title":"Resumen de Rendimiento","performance.firstContactResolution":"Resolucin en Primer Contacto","performance.avgRating":"Calificacin Promedio","performance.avgResponseTime":"Tiempo de Respuesta Prom.","performance.costSavings":"Ahorro de Costos","performance.thisMonth":"Este Mes","conversations.title":"Conversaciones","conversations.subtitle":"Gestiona todas las conversaciones de WhatsApp","conversations.search":"Buscar conversaciones...","conversations.all":"Todas","conversations.active":"Activas","conversations.resolved":"Resueltas","conversations.escalated":"Escaladas","conversations.noConversations":"No hay conversaciones","conversations.startNew":"Las nuevas conversaciones aparecern aqu","conversations.messages":"mensajes","conversations.lastMessage":"ltimo mensaje","customers.title":"Clientes","customers.subtitle":"Directorio de clientes y historial de pedidos","customers.search":"Buscar clientes...","customers.addCustomer":"Agregar Cliente","customers.totalCustomers":"Total de Clientes","customers.activeThisMonth":"Activos Este Mes","customers.newThisWeek":"Nuevos Esta Semana","customers.avgOrderValue":"Valor Promedio de Pedido","customers.noCustomers":"No hay clientes registrados","customers.orders":"pedidos","customers.lastOrder":"ltimo pedido","customers.viewProfile":"Ver Perfil","customers.sendMessage":"Enviar Mensaje","locations.title":"Sucursales","locations.subtitle":"Administra tus 7 sucursales en El Salvador","locations.addLocation":"Agregar Sucursal","locations.totalLocations":"Total de Sucursales","locations.activeToday":"Activas Hoy","locations.totalOrders":"Pedidos Totales","locations.avgRating":"Calificacin Promedio","locations.open":"Abierto","locations.closed":"Cerrado","locations.conversations":"conversaciones","locations.ordersToday":"pedidos hoy","locations.viewDetails":"Ver Detalles","locations.editLocation":"Editar","analytics.title":"Analticas","analytics.subtitle":"Mtricas de rendimiento y estadsticas","analytics.overview":"Vista General","analytics.conversations":"Conversaciones","analytics.revenue":"Ingresos","analytics.customers":"Clientes","analytics.thisWeek":"Esta Semana","analytics.thisMonth":"Este Mes","analytics.thisYear":"Este Ao","analytics.conversationVolume":"Volumen de Conversaciones","analytics.aiVsHuman":"Resoluciones IA vs Humano","analytics.topLocations":"Sucursales Principales","analytics.peakHours":"Horas Pico","notifications.title":"Notificaciones","notifications.subtitle":"Centro de notificaciones y alertas","notifications.markAllRead":"Marcar todo como ledo","notifications.noNotifications":"No hay notificaciones","notifications.allCaughtUp":"Ests al da!","notifications.today":"Hoy","notifications.yesterday":"Ayer","notifications.earlier":"Anteriores","notifications.newEscalation":"Nueva escalacin","notifications.conversationResolved":"Conversacin resuelta","notifications.newCustomer":"Nuevo cliente","notifications.systemAlert":"Alerta del sistema","settings.title":"Configuracin","settings.subtitle":"Preferencias y configuracin de la aplicacin","settings.general":"General","settings.notifications":"Notificaciones","settings.ai":"Configuracin de IA","settings.integrations":"Integraciones","settings.security":"Seguridad","settings.language":"Idioma","settings.theme":"Tema","settings.dark":"Oscuro","settings.light":"Claro","settings.system":"Sistema","settings.timezone":"Zona Horaria","settings.currency":"Moneda","settings.saveChanges":"Guardar Cambios","settings.cancel":"Cancelar","help.title":"Centro de Ayuda","help.subtitle":"Documentacin y recursos de soporte","help.search":"Buscar en la documentacin...","help.gettingStarted":"Comenzando","help.gettingStartedDesc":"Aprende los conceptos bsicos del sistema","help.whatsappIntegration":"Integracin WhatsApp","help.whatsappIntegrationDesc":"Configura y administra tu conexin","help.aiConfiguration":"Configuracin de IA","help.aiConfigurationDesc":"Personaliza las respuestas automticas","help.reportsAnalytics":"Reportes y Analticas","help.reportsAnalyticsDesc":"Entiende tus mtricas","help.contactSupport":"Contactar Soporte","help.email":"Correo electrnico","help.phone":"Telfono","help.hours":"Lunes a Viernes, 8:00 AM - 6:00 PM","help.faq":"Preguntas Frecuentes","common.loading":"Cargando...","common.error":"Error","common.retry":"Reintentar","common.save":"Guardar","common.cancel":"Cancelar","common.delete":"Eliminar","common.edit":"Editar","common.view":"Ver","common.search":"Buscar","common.filter":"Filtrar","common.export":"Exportar","common.import":"Importar","common.refresh":"Actualizar","common.close":"Cerrar","common.back":"Volver","common.next":"Siguiente","common.previous":"Anterior","common.yes":"S","common.no":"No","common.elSalvador":"El Salvador","brand.name":"Lavandera Oriental","brand.tagline":"AI Concierge"},en:{"nav.dashboard":"Dashboard","nav.conversations":"Conversations","nav.customers":"Customers","nav.locations":"Locations","nav.services":"Services","nav.orders":"Orders","nav.analytics":"Analytics","nav.notifications":"Notifications","nav.settings":"Settings","nav.help":"Help","nav.menu":"Menu","nav.system":"System","dashboard.title":"AI Concierge Dashboard","dashboard.subtitle":"El Salvador  7 Locations  WhatsApp Business API","dashboard.live":"Live","dashboard.allLocations":"All Locations","stats.totalConversations":"Total Conversations","stats.activeNow":"Active Now","stats.aiResolutionRate":"AI Resolution Rate","stats.escalations":"Escalations","stats.avgResponseTime":"Avg Response Time","stats.messagesProcessed":"Messages Processed","stats.resolvedToday":"Resolved Today","stats.customerSatisfaction":"Customer Satisfaction","stats.today":"Today","stats.liveConversations":"Live conversations","stats.withoutHumanIntervention":"Without human intervention","stats.pendingReview":"Pending review","stats.last24Hours":"Last 24 hours","stats.vsLastWeek":"vs last week","chat.aiActive":"AI Active","chat.aiResponse":"AI Response","chat.typeMessage":"Type a message...","chat.connectedToWhatsApp":"Connected to WhatsApp Business API","chat.live":"Live","chat.recentConversation":"Recent Conversation","activity.title":"Recent Activity","activity.activities":"activities","activity.noActivities":"No recent activities","activity.justNow":"Just now","activity.minAgo":"{min} min ago","activity.hoursAgo":"{hours}h ago","escalations.title":"Escalations","escalations.pending":"pending","escalations.noPending":"No pending escalations","escalations.highPriority":"High Priority","escalations.mediumPriority":"Medium","escalations.lowPriority":"Low","escalations.call":"Call","escalations.takeOver":"Take Over","performance.title":"Performance Summary","performance.firstContactResolution":"First Contact Resolution","performance.avgRating":"Avg. Rating","performance.avgResponseTime":"Avg. Response Time","performance.costSavings":"Cost Savings","performance.thisMonth":"This Month","conversations.title":"Conversations","conversations.subtitle":"Manage all WhatsApp conversations","conversations.search":"Search conversations...","conversations.all":"All","conversations.active":"Active","conversations.resolved":"Resolved","conversations.escalated":"Escalated","conversations.noConversations":"No conversations","conversations.startNew":"New conversations will appear here","conversations.messages":"messages","conversations.lastMessage":"Last message","customers.title":"Customers","customers.subtitle":"Customer directory and order history","customers.search":"Search customers...","customers.addCustomer":"Add Customer","customers.totalCustomers":"Total Customers","customers.activeThisMonth":"Active This Month","customers.newThisWeek":"New This Week","customers.avgOrderValue":"Avg Order Value","customers.noCustomers":"No customers registered","customers.orders":"orders","customers.lastOrder":"Last order","customers.viewProfile":"View Profile","customers.sendMessage":"Send Message","locations.title":"Locations","locations.subtitle":"Manage your 7 locations in El Salvador","locations.addLocation":"Add Location","locations.totalLocations":"Total Locations","locations.activeToday":"Active Today","locations.totalOrders":"Total Orders","locations.avgRating":"Avg Rating","locations.open":"Open","locations.closed":"Closed","locations.conversations":"conversations","locations.ordersToday":"orders today","locations.viewDetails":"View Details","locations.editLocation":"Edit","analytics.title":"Analytics","analytics.subtitle":"Performance metrics and statistics","analytics.overview":"Overview","analytics.conversations":"Conversations","analytics.revenue":"Revenue","analytics.customers":"Customers","analytics.thisWeek":"This Week","analytics.thisMonth":"This Month","analytics.thisYear":"This Year","analytics.conversationVolume":"Conversation Volume","analytics.aiVsHuman":"AI vs Human Resolutions","analytics.topLocations":"Top Locations","analytics.peakHours":"Peak Hours","notifications.title":"Notifications","notifications.subtitle":"Notification center and alerts","notifications.markAllRead":"Mark all as read","notifications.noNotifications":"No notifications","notifications.allCaughtUp":"You're all caught up!","notifications.today":"Today","notifications.yesterday":"Yesterday","notifications.earlier":"Earlier","notifications.newEscalation":"New escalation","notifications.conversationResolved":"Conversation resolved","notifications.newCustomer":"New customer","notifications.systemAlert":"System alert","settings.title":"Settings","settings.subtitle":"App preferences and configuration","settings.general":"General","settings.notifications":"Notifications","settings.ai":"AI Configuration","settings.integrations":"Integrations","settings.security":"Security","settings.language":"Language","settings.theme":"Theme","settings.dark":"Dark","settings.light":"Light","settings.system":"System","settings.timezone":"Timezone","settings.currency":"Currency","settings.saveChanges":"Save Changes","settings.cancel":"Cancel","help.title":"Help Center","help.subtitle":"Documentation and support resources","help.search":"Search documentation...","help.gettingStarted":"Getting Started","help.gettingStartedDesc":"Learn the basics of the system","help.whatsappIntegration":"WhatsApp Integration","help.whatsappIntegrationDesc":"Configure and manage your connection","help.aiConfiguration":"AI Configuration","help.aiConfigurationDesc":"Customize automatic responses","help.reportsAnalytics":"Reports & Analytics","help.reportsAnalyticsDesc":"Understand your metrics","help.contactSupport":"Contact Support","help.email":"Email","help.phone":"Phone","help.hours":"Monday to Friday, 8:00 AM - 6:00 PM","help.faq":"FAQ","common.loading":"Loading...","common.error":"Error","common.retry":"Retry","common.save":"Save","common.cancel":"Cancel","common.delete":"Delete","common.edit":"Edit","common.view":"View","common.search":"Search","common.filter":"Filter","common.export":"Export","common.import":"Import","common.refresh":"Refresh","common.close":"Close","common.back":"Back","common.next":"Next","common.previous":"Previous","common.yes":"Yes","common.no":"No","common.elSalvador":"El Salvador","brand.name":"Lavandera Oriental","brand.tagline":"AI Concierge"}},A0=g.createContext(void 0);function dT({children:e}){const[t,r]=g.useState(()=>typeof window<"u"&&localStorage.getItem("language")||"es");g.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t},[t]);const i=l=>{r(l)},o=l=>uT[t][l]||l;return n.jsx(A0.Provider,{value:{language:t,setLanguage:i,t:o},children:e})}function ar(){const e=g.useContext(A0);if(!e)throw new Error("useI18n must be used within an I18nProvider");return e}const hT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Vf extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class fT extends Vf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bx extends Vf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nx extends Vf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Uh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Uh||(Uh={}));class mT{constructor(t,{headers:r={},customFetch:i,region:o=Uh.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=hT(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Lk(this,arguments,void 0,function*(r,i={}){var o;let l,u;try{const{headers:d,method:f,body:m,signal:v,timeout:w}=i;let j={},{region:b}=i;b||(b=this.region);const S=new URL(`${this.url}/${r}`);b&&b!=="any"&&(j["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let y;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",y=m):typeof m=="string"?(j["Content-Type"]="text/plain",y=m):typeof FormData<"u"&&m instanceof FormData?y=m:(j["Content-Type"]="application/json",y=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?y=JSON.stringify(m):y=m;let N=v;w&&(u=new AbortController,l=setTimeout(()=>u.abort(),w),v?(N=u.signal,v.addEventListener("abort",()=>u.abort())):N=u.signal);const C=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),d),body:y,signal:N}).catch($=>{throw new fT($)}),E=C.headers.get("x-relay-error");if(E&&E==="true")throw new bx(C);if(!C.ok)throw new Nx(C);let k=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return k==="application/json"?T=yield C.json():k==="application/octet-stream"||k==="application/pdf"?T=yield C.blob():k==="text/event-stream"?T=C:k==="multipart/form-data"?T=yield C.formData():T=yield C.text(),{data:T,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof Nx||d instanceof bx?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var pT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},gT=class{constructor(e){var t,r,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,f=null,m=l.status,v=l.statusText;if(l.ok){var w,j;if(r.method!=="HEAD"){var b;const C=await l.text();C===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const y=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),N=(j=l.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");y&&N&&N.length>1&&(f=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var S;const y=await l.text();try{u=JSON.parse(y),Array.isArray(u)&&l.status===404&&(d=[],u=null,m=200,v="OK")}catch{l.status===404&&y===""?(m=204,v="No Content"):u={message:y}}if(u&&r.isMaybeSingle&&(!(u==null||(S=u.details)===null||S===void 0)&&S.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&r.shouldThrowOnError)throw new pT(u)}return{error:u,data:d,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let d="",f="",m="";const v=l?.cause;if(v){var w,j,b,S;const C=(w=v?.message)!==null&&w!==void 0?w:"",E=(j=v?.code)!==null&&j!==void 0?j:"";d=`${(b=l?.name)!==null&&b!==void 0?b:"FetchError"}: ${l?.message}`,d+=`

Caused by: ${(S=v?.name)!==null&&S!==void 0?S:"Error"}: ${C}`,E&&(d+=` (${E})`),v?.stack&&(d+=`
${v.stack}`)}else{var y;d=(y=l?.stack)!==null&&y!==void 0?y:""}const N=this.url.toString().length;return l?.name==="AbortError"||l?.code==="ABORT_ERR"?(m="",f="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",f="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(f+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:d,hint:f,code:m},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},vT=class extends gT{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var u;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Sx=new RegExp("[,()]");var ga=class extends vT{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&Sx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&Sx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},xT=class{constructor(e,{headers:t={},schema:r,fetch:i,urlLengthLimit:o=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:i}=t??{},o=r?"HEAD":"GET";let l=!1;const u=(e??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",u),i&&f.append("Prefer",`count=${i}`),new ga({method:o,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),r||u.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",f.join(","))}}return new ga({method:o,url:l,headers:u,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var l;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),i&&f.append("Prefer",`count=${i}`),o||f.append("Prefer","missing=default"),Array.isArray(e)){const m=e.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);d.searchParams.set("columns",v.join(","))}}return new ga({method:u,url:d,headers:f,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const i="PATCH",{url:o,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new ga({method:i,url:o,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new ga({method:r,url:i,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function yT(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(zi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wT(e){var t=yT(e,"string");return zi(t)=="symbol"?t:t+""}function jT(e,t,r){return(t=wT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(r),!0).forEach(function(i){jT(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var bT=class O0{constructor(t,{headers:r={},schema:i,fetch:o,timeout:l,urlLengthLimit:u=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=i,this.urlLengthLimit=u;const d=o??globalThis.fetch;l!==void 0&&l>0?this.fetch=(f,m)=>{const v=new AbortController,w=setTimeout(()=>v.abort(),l),j=m?.signal;if(j){if(j.aborted)return clearTimeout(w),d(f,m);const b=()=>{clearTimeout(w),v.abort()};return j.addEventListener("abort",b,{once:!0}),d(f,kl(kl({},m),{},{signal:v.signal})).finally(()=>{clearTimeout(w),j.removeEventListener("abort",b)})}return d(f,kl(kl({},m),{},{signal:v.signal})).finally(()=>clearTimeout(w))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xT(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new O0(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:i=!1,get:o=!1,count:l}={}){var u;let d;const f=new URL(`${this.url}/rpc/${t}`);let m;const v=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(v)),w=i&&Object.values(r).some(v);w?(d="POST",m=r):i||o?(d=i?"HEAD":"GET",Object.entries(r).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{f.searchParams.append(b,S)})):(d="POST",m=r);const j=new Headers(this.headers);return w?j.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&j.set("Prefer",`count=${l}`),new ga({method:d,url:f,headers:j,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class NT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const o=i.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ST="2.95.3",_T=`realtime-js/${ST}`,CT="1.0.0",I0="2.0.0",Cx=I0,zh=1e4,ET=1e3,kT=100;var Bn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bn||(Bn={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var Pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pr||(Pr={}));var Bh;(function(e){e.websocket="websocket"})(Bh||(Bh={}));var ys;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ys||(ys={}));class RT{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,i;const o=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var r,i;const o=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,r,i){var o,l;const u=t.topic,d=(o=t.ref)!==null&&o!==void 0?o:"",f=(l=t.join_ref)!==null&&l!==void 0?l:"",m=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+m.length+w.length,b=new ArrayBuffer(this.HEADER_LENGTH+j);let S=new DataView(b),y=0;S.setUint8(y++,this.KINDS.userBroadcastPush),S.setUint8(y++,f.length),S.setUint8(y++,d.length),S.setUint8(y++,u.length),S.setUint8(y++,m.length),S.setUint8(y++,w.length),S.setUint8(y++,r),Array.from(f,C=>S.setUint8(y++,C.charCodeAt(0))),Array.from(d,C=>S.setUint8(y++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(y++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(y++,C.charCodeAt(0))),Array.from(w,C=>S.setUint8(y++,C.charCodeAt(0)));var N=new Uint8Array(b.byteLength+i.byteLength);return N.set(new Uint8Array(b),0),N.set(new Uint8Array(i),b.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return r(i)}if(typeof t=="string"){const i=JSON.parse(t),[o,l,u,d,f]=i;return r({join_ref:o,ref:l,topic:u,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),i=r.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,o)}_decodeUserBroadcast(t,r,i){const o=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=i.decode(t.slice(f,f+o));f=f+o;const v=i.decode(t.slice(f,f+l));f=f+l;const w=i.decode(t.slice(f,f+u));f=f+u;const j=t.slice(f,t.byteLength),b=d===this.JSON_ENCODING?JSON.parse(i.decode(j)):j,S={type:this.BROADCAST_EVENT,event:v,payload:b};return u>0&&(S.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>r.includes(i)))}}class D0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ge||(Ge={}));const Ex=(e,t,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((l,u)=>(l[u]=TT(u,e,t,o),l),{}):{}},TT=(e,t,r,i)=>{const o=t.find(d=>d.name===e),l=o?.type,u=r[e];return l&&!i.includes(l)?M0(l,u):Vh(u)},M0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IT(t,r)}switch(e){case Ge.bool:return PT(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return AT(t);case Ge.json:case Ge.jsonb:return OT(t);case Ge.timestamp:return DT(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Vh(t);default:return Vh(t)}},Vh=e=>e,PT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},AT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},OT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},IT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let l;const u=e.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>M0(t,d))}return e},DT=e=>typeof e=="string"?e.replace(" ","T"):e,L0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class dh{constructor(t,r,i={},o=zh){this.channel=t,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var kx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(kx||(kx={}));class Di{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Di.syncState(this.state,o,l,u),this.pendingDiffs.forEach(f=>{this.state=Di.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Di.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,o){const l=this.cloneDeep(t),u=this.transformState(r),d={},f={};return this.map(l,(m,v)=>{u[m]||(f[m]=v)}),this.map(u,(m,v)=>{const w=l[m];if(w){const j=v.map(N=>N.presence_ref),b=w.map(N=>N.presence_ref),S=v.filter(N=>b.indexOf(N.presence_ref)<0),y=w.filter(N=>j.indexOf(N.presence_ref)<0);S.length>0&&(d[m]=S),y.length>0&&(f[m]=y)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:f},i,o)}static syncDiff(t,r,i,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(d,f)=>{var m;const v=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(f),v.length>0){const w=t[d].map(b=>b.presence_ref),j=v.filter(b=>w.indexOf(b.presence_ref)<0);t[d].unshift(...j)}i(d,v,f)}),this.map(u,(d,f)=>{let m=t[d];if(!m)return;const v=f.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),t[d]=m,o(d,m,f),m.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const o=t[i];return"metas"in o?r[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rx||(Rx={}));var Mi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mi||(Mi={}));var cn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(cn||(cn={}));class ya{constructor(t,r={config:{}},i){var o,l;if(this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dh(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new D0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Di(this),this.broadcastEndpointURL=L0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Mi.PRESENCE]&&this.bindings[Mi.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},j={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(cn.CHANNEL_ERROR,b)),this._onClose(()=>t?.(cn.CLOSED)),this.updateJoinPayload(Object.assign({config:j},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t?.(cn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,N=(S=y?.length)!==null&&S!==void 0?S:0,C=[];for(let E=0;E<N;E++){const k=y[E],{filter:{event:T,schema:$,table:O,filter:L}}=k,G=b&&b[E];if(G&&G.event===T&&ya.isFilterValueEqual(G.schema,$)&&ya.isFilterValueEqual(G.table,O)&&ya.isFilterValueEqual(G.filter,L))C.push(Object.assign(Object.assign({},k),{id:G.id}));else{this.unsubscribe(),this.state=ft.errored,t?.(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(cn.SUBSCRIBED);return}}).receive("error",b=>{this.state=ft.errored,t?.(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===ft.joined&&t===Mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,i)}async httpSend(t,r,i={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const m=await d.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,f;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new dh(this,Pr.leave,{},t),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new dh(this,t,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var o,l;const u=t.toLocaleLowerCase(),{close:d,error:f,leave:m,join:v}=Pr;if(i&&[d,f,m,v].indexOf(u)>=0&&i!==this._joinRef())return;let j=this._onMessage(u,r,i);if(r&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var S,y,N;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(y=b.filter)===null||y===void 0?void 0:y.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(b=>b.callback(j,i)):(l=this.bindings[u])===null||l===void 0||l.filter(b=>{var S,y,N,C,E,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const T=b.id,$=(S=b.filter)===null||S===void 0?void 0:S.event;return T&&((y=r.ids)===null||y===void 0?void 0:y.includes(T))&&($==="*"||$?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const T=(E=(C=b?.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((k=r?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof j=="object"&&"ids"in j){const S=j.data,{schema:y,table:N,commit_timestamp:C,type:E,errors:k}=S;j=Object.assign(Object.assign({},{schema:y,table:N,commit_timestamp:C,eventType:E,new:{},old:{},errors:k}),this._getPayloadRecords(S))}b.callback(j,i)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const o=t.toLocaleLowerCase(),l={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&ya.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pr.close,{},t)}_onError(t){this._on(Pr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ex(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ex(t.columns,t.old_record)),r}}const hh=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MT=[1e3,2e3,5e3,1e4],LT=1e4,$T=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FT{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zh,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hh,this.ref=0,this.reconnectTimer=null,this.vsn=Cx,this.logger=hh,this.conn=null,this.sendBuffer=[],this.serializer=new RT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Bh.websocket}`,this.httpEndpoint=L0(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Bn.connecting:return ys.Connecting;case Bn.open:return ys.Open;case Bn.closing:return ys.Closing;default:return ys.Closed}}isConnected(){return this.connectionState()===ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new ya(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:i,payload:o,ref:l}=t,u=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ET,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:l,ref:u}=r,d=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${i} ${o} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Bn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bn.open||this.conn.readyState===Bn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${i}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([$T],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,i=!1;if(t)r=t,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const l={access_token:r,version:_T};r&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Pr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new D0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,o,l,u,d,f,m,v,w,j,b;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:zh,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Rl.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:hh,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:Cx,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(S=>MT[S-1]||LT),this.vsn){case CT:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((S,y)=>y(JSON.stringify(S))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((S,y)=>y(JSON.parse(S)));break;case I0:this.encode=(j=t?.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Bi=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function UT(e,t,r){const i=new URL(t,e);if(r)for(const[o,l]of Object.entries(r))l!==void 0&&i.searchParams.set(o,l);return i.toString()}async function zT(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function BT(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:l,headers:u}){const d=UT(e.baseUrl,i,o),f=await zT(e.auth),m=await t(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...u},body:l?JSON.stringify(l):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),j=w&&v?JSON.parse(v):v;if(!m.ok){const b=w?j:void 0,S=b?.error;throw new Bi(S?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:S?.type,icebergCode:S?.code,details:b})}return{status:m.status,headers:m.headers,data:j}}}}function Tl(e){return e.join("")}var VT=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Tl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tl(e.namespace)}`}),!0}catch(t){if(t instanceof Bi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Bi&&r.status===409)return;throw r}}};function ua(e){return e.join("")}var HT=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ua(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ua(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ua(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ua(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Bi&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Bi&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},WT=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=BT({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new VT(this.client,t),this.tableOps=new HT(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Dc=class extends Error{constructor(e,t="storage",r,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function Mc(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Pl=class extends Dc{constructor(e,t,r,i="storage"){super(e,i,t,r),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$0=class extends Dc{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const KT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hh=e=>{if(Array.isArray(e))return e.map(r=>Hh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=Hh(i)}),t},GT=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function QT(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Vi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YT(e){var t=QT(e,"string");return Vi(t)=="symbol"?t:t+""}function JT(e,t,r){return(t=YT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tx(Object(r),!0).forEach(function(i){JT(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tx(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const Px=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},XT=async(e,t,r,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const o=e,l=o.status||500;if(typeof o.json=="function")o.json().then(u=>{const d=u?.statusCode||u?.code||l+"";t(new Pl(Px(u),l,d,i))}).catch(()=>{if(i==="vectors"){const u=l+"";t(new Pl(o.statusText||`HTTP ${l} error`,l,u,i))}else{const u=l+"";t(new Pl(o.statusText||`HTTP ${l} error`,l,u,i))}});else{const u=l+"";t(new Pl(o.statusText||`HTTP ${l} error`,l,u,i))}}else t(new $0(Px(e),e,i))},ZT=(e,t,r,i)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!i?Re(Re({},o),r):(qT(i)?(o.headers=Re({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(i)):o.body=i,t?.duplex&&(o.duplex=t.duplex),Re(Re({},o),r))};async function ki(e,t,r,i,o,l,u){return new Promise((d,f)=>{e(r,ZT(t,i,o,l)).then(m=>{if(!m.ok)throw m;if(i?.noResolveJson)return m;if(u==="vectors"){const v=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!v||!v.includes("application/json"))return{}}return m.json()}).then(m=>d(m)).catch(m=>XT(m,f,i,u))})}function F0(e="storage"){return{get:async(t,r,i,o)=>ki(t,"GET",r,i,o,void 0,e),post:async(t,r,i,o,l)=>ki(t,"POST",r,o,l,i,e),put:async(t,r,i,o,l)=>ki(t,"PUT",r,o,l,i,e),head:async(t,r,i,o)=>ki(t,"HEAD",r,Re(Re({},i),{},{noResolveJson:!0}),o,void 0,e),remove:async(t,r,i,o,l)=>ki(t,"DELETE",r,o,l,i,e)}}const eP=F0("storage"),{get:Hi,post:Tr,put:Wh,head:tP,remove:Hf}=eP,tr=F0("vectors");var Ma=class{constructor(e,t={},r,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=KT(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mc(r))return{data:null,error:r};throw r}}},rP=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Mc(t))return{data:null,error:t};throw t}}};let U0;U0=Symbol.toStringTag;var nP=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[U0]="BlobDownloadBuilder",this.promise=null}asStream(){return new rP(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Mc(t))return{data:null,error:t};throw t}}};const sP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ax={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aP=class extends Ma{constructor(e,t={},r,i){super(e,t,i,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,i){var o=this;return o.handleOperation(async()=>{let l;const u=Re(Re({},Ax),i);let d=Re(Re({},o.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",o.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(f))):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),i?.headers&&(d=Re(Re({},d),i.headers));const m=o._removeEmptyFolders(t),v=o._getFinalPath(m),w=await(e=="PUT"?Wh:Tr)(o.fetch,`${o.url}/object/${v}`,l,Re({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{path:m,id:w.Id,fullPath:w.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,i){var o=this;const l=o._removeEmptyFolders(e),u=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${u}`);return d.searchParams.set("token",t),o.handleOperation(async()=>{let f;const m=Re({upsert:Ax.upsert},i),v=Re(Re({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",m.cacheControl)):(f=r,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{path:l,fullPath:(await Wh(o.fetch,d.toString(),f,{headers:v})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e);const o=Re({},r.headers);t?.upsert&&(o["x-upsert"]="true");const l=await Tr(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(r.url+l.url),d=u.searchParams.get("token");if(!d)throw new Dc("No token returned by API");return{signedUrl:u.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var i=this;return i.handleOperation(async()=>await Tr(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:i.headers}))}async copy(e,t,r){var i=this;return i.handleOperation(async()=>({path:(await Tr(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,r){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(e),l=await Tr(i.fetch,`${i.url}/object/sign/${o}`,Re({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${l.signedURL}${u}`)}})}async createSignedUrls(e,t,r){var i=this;return i.handleOperation(async()=>{const o=await Tr(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(u=>Re(Re({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${l}`):null}))})}download(e,t,r){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"",u=this._getFinalPath(e),d=()=>Hi(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0},r);return new nP(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Hh(await Hi(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await tP(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Mc(i)&&i instanceof $0){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const l=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Hf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var i=this;return i.handleOperation(async()=>{const o=Re(Re(Re({},sP),t),{},{prefix:e||""});return await Tr(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const i=Re({},e);return await Tr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const iP="2.95.3",no={"X-Client-Info":`storage-js/${iP}`};var oP=class extends Ma{constructor(e,t={},r,i){const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const l=o.href.replace(/\/$/,""),u=Re(Re({},no),t);super(l,u,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Hi(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Hi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Tr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Wh(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Tr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Hf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},lP=class extends Ma{constructor(e,t={},r){const i=e.replace(/\/$/,""),o=Re(Re({},no),t);super(i,o,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Tr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),o=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await Hi(t.fetch,o,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Hf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!GT(e))throw new Dc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new WT({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(o,d),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}},cP=class extends Ma{constructor(e,t={},r){const i=e.replace(/\/$/,""),o=Re(Re({},no),{},{"Content-Type":"application/json"},t);super(i,o,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await tr.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await tr.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},uP=class extends Ma{constructor(e,t={},r){const i=e.replace(/\/$/,""),o=Re(Re({},no),{},{"Content-Type":"application/json"},t);super(i,o,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},dP=class extends Ma{constructor(e,t={},r){const i=e.replace(/\/$/,""),o=Re(Re({},no),{},{"Content-Type":"application/json"},t);super(i,o,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},hP=class extends dP{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new fP(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},fP=class extends cP{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new mP(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},mP=class extends uP{constructor(e,t,r,i,o){super(e,t,o),this.vectorBucketName=r,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},pP=class extends oP{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new aP(this.url,this.headers,e,this.fetch)}get vectors(){return new hP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lP(this.url+"/iceberg",this.headers,this.fetch)}};const z0="2.95.3",va=30*1e3,Kh=3,fh=Kh*va,gP="http://localhost:9999",vP="supabase.auth.token",xP={"X-Client-Info":`gotrue-js/${z0}`},qh="X-Supabase-Api-Version",B0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wP=600*1e3;class Wi extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jP extends Wi{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function bP(e){return xe(e)&&e.name==="AuthApiError"}class ws extends Wi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xn extends Wi{constructor(t,r,i,o){super(t,i,o),this.name=r,this.status=i}}class Xt extends xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mh(e){return xe(e)&&e.name==="AuthSessionMissingError"}class da extends xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Al extends xn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ol extends xn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NP(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ox extends xn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SP extends xn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Gh extends xn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ph(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class Ix extends xn{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Qh extends xn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dx=` 	
\r=`.split(""),_P=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Dx.length;t+=1)e[Dx[t].charCodeAt(0)]=-2;for(let t=0;t<rc.length;t+=1)e[rc[t].charCodeAt(0)]=t;return e})();function Mx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(rc[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(rc[i]),t.queuedBits-=6}}function V0(e,t,r){const i=_P[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lx(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{kP(u,i,r)};for(let u=0;u<e.length;u+=1)V0(e.charCodeAt(u),o,l);return t.join("")}function CP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EP(e,t){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}CP(i,t)}}function kP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Sa(e){const t=[],r={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)V0(e.charCodeAt(o),r,i);return new Uint8Array(t)}function RP(e){const t=[];return EP(e,r=>t.push(r)),new Uint8Array(t)}function js(e){const t=[],r={queue:0,queuedBits:0},i=o=>{t.push(o)};return e.forEach(o=>Mx(o,r,i)),Mx(null,r,i),t.join("")}function TP(e){return Math.round(Date.now()/1e3)+e}function PP(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},H0=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function AP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return r.searchParams.forEach((i,o)=>{t[o]=i}),t}const W0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xa=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},vs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nt=async(e,t)=>{await e.removeItem(t)};class Lc{constructor(){this.promise=new Lc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Lc.promiseConstructor=Promise;function Il(e){const t=e.split(".");if(t.length!==3)throw new Qh("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!yP.test(t[i]))throw new Qh("JWT not in base64url format");return{header:JSON.parse(Lx(t[0])),payload:JSON.parse(Lx(t[1])),signature:Sa(t[2]),raw:{header:t[0],payload:t[1]}}}async function IP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DP(e,t){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await e(l);if(!t(l,null,u)){i(u);return}}catch(u){if(!t(l,u)){o(u);return}}})()})}function MP(e){return("0"+e.toString(16)).substr(-2)}function LP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,MP).join("")}async function $P(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function FP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $P(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ha(e,t,r=!1){const i=LP();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await xa(e,`${t}-code-verifier`,o);const l=await FP(i);return[l,i===l?"plain":"s256"]}const UP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zP(e){const t=e.headers.get(qh);if(!t||!t.match(UP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fa(e){if(!HP.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WP(e,t){return new Proxy(e,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,i,o)}})}function $x(e){return JSON.parse(JSON.stringify(e))}const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KP=[502,503,504];async function Fx(e){var t;if(!OP(e))throw new Gh(xs(e),0);if(KP.includes(e.status))throw new Gh(xs(e),e.status);let r;try{r=await e.json()}catch(l){throw new ws(xs(l),l)}let i;const o=zP(e);if(o&&o.getTime()>=B0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Ix(xs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Ix(xs(r),e.status,r.weak_password.reasons);throw new jP(xs(r),e.status||500,i)}const qP=(e,t,r,i)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function ke(e,t,r,i){var o;const l=Object.assign({},i?.headers);l[qh]||(l[qh]=B0["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await GP(e,t,r+d,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(f):{data:Object.assign({},f),error:null}}async function GP(e,t,r,i,o,l){const u=qP(t,i,o,l);let d;try{d=await e(r,Object.assign({},u))}catch(f){throw console.error(f),new Gh(xs(f),0)}if(d.ok||await Fx(d),i?.noResolveJson)return d;try{return await d.json()}catch(f){await Fx(f)}}function kr(e){var t;let r=null;JP(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TP(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:i},error:null}}function Ux(e){const t=kr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function QP(e){return{data:e,error:null}}function YP(e){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l}=e,u=Da(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function zx(e){return e}function JP(e){return e.access_token&&e.refresh_token&&e.expires_in}const vh=["global","local","others"];class XP{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=W0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=vh[0]){if(vh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vh.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vn})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=Da(t,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:YP,redirectTo:r?.redirectTo})}catch(r){if(xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vn})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,o,l,u,d,f;try{const m={nextPage:null,lastPage:0,total:0},v=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:zx});if(v.error)throw v.error;const w=await v.json(),j=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(S=>{const y=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);m[`${N}Page`]=y}),m.total=parseInt(j)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(xe(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){fa(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vn})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){fa(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vn})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){fa(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vn})}catch(i){if(xe(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){fa(t.userId);try{const{data:r,error:i}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){fa(t.userId),fa(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,i,o,l,u,d,f;try{const m={nextPage:null,lastPage:0,total:0},v=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:zx});if(v.error)throw v.error;const w=await v.json(),j=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(S=>{const y=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);m[`${N}Page`]=y}),m.total=parseInt(j)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(xe(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}}function Bx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ma={debug:!!(globalThis&&H0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class K0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZP extends K0{}async function eA(e,t,r){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ma.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function q0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rA(e){return parseInt(e,16)}function nA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function sA(e){var t;const{chainId:r,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:f,resources:m,scheme:v,uri:w,version:j}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=q0(e.address),S=v?`${v}://${i}`:i,y=e.statement?`${e.statement}
`:"",N=`${S} wants you to sign in with your Ethereum account:
${b}

${y}`;let C=`URI: ${w}
Version: ${j}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),f&&(C+=`
Request ID: ${f}`),m){let E=`
Resources:`;for(const k of m){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);E+=`
- ${k}`}C+=E}return`${N}
${C}`}class ut extends Error{constructor({message:t,code:r,cause:i,name:o}){var l;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class nc extends ut{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function aA({error:e,options:t}){var r,i,o;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(G0(u)){if(l.rp.id!==u)return new ut({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function iA({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(G0(i)){if(r.rpId!==i)return new ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class oA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lA=new oA;function cA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:i}=e,o=Da(e,["challenge","user","excludeCredentials"]),l=Sa(t).buffer,u=Object.assign(Object.assign({},r),{id:Sa(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Sa(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function uA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,i=Da(e,["challenge","allowCredentials"]),o=Sa(t).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Sa(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function dA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:js(new Uint8Array(e.response.attestationObject)),clientDataJSON:js(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,i=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:js(new Uint8Array(o.authenticatorData)),clientDataJSON:js(new Uint8Array(o.clientDataJSON)),signature:js(new Uint8Array(o.signature)),userHandle:o.userHandle?js(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function G0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Vx(){var e,t;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nc("Browser returned unexpected credential type",t)}:{data:null,error:new nc("Empty credential response",t)}}catch(t){return{data:null,error:aA({error:t,options:e})}}}async function mA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nc("Browser returned unexpected credential type",t)}:{data:null,error:new nc("Empty credential response",t)}}catch(t){return{data:null,error:iA({error:t,options:e})}}}const pA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sc(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of e)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(r(u))i[l]=u;else if(t(u)){const d=i[l];t(d)?i[l]=sc(d,u):i[l]=sc(u)}else i[l]=u}return i}function vA(e,t){return sc(pA,e,t||{})}function xA(e,t){return sc(gA,e,t||{})}class yA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:i,signal:o},l){var u;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const m=o??lA.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:v}=d.webauthn.credential_options.publicKey;if(!v.name){const w=i;if(w)v.name=`${v.id}:${w}`;else{const b=(await this.client.getUser()).data.user,S=((u=b?.user_metadata)===null||u===void 0?void 0:u.name)||b?.email||b?.id||"User";v.name=`${v.id}:${S}`}}v.displayName||(v.displayName=v.name)}switch(d.webauthn.type){case"create":{const v=vA(d.webauthn.credential_options.publicKey,l?.create),{data:w,error:j}=await fA({publicKey:v,signal:m});return w?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:w}},error:null}:{data:null,error:j}}case"request":{const v=xA(d.webauthn.credential_options.publicKey,l?.request),{data:w,error:j}=await mA(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:v,signal:m}));return w?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:w}},error:null}:{data:null,error:j}}}}catch(d){return xe(d)?{data:null,error:d}:{data:null,error:new ws("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Wi("rpId is required for WebAuthn authentication")};try{if(!Vx())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:i,credential_response:f.credential_response}})}catch(u){return xe(u)?{data:null,error:u}:{data:null,error:new ws("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Wi("rpId is required for WebAuthn registration")};try{if(!Vx())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===t&&j.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(u){return xe(u)?{data:null,error:u}:{data:null,error:new ws("Unexpected error in register",u)}}}}tA();const wA={url:gP,storageKey:vP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Hx(e,t,r){return await r()}const pa={};class Ki{get jwks(){var t,r;return(r=(t=pa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){pa[this.storageKey]=Object.assign(Object.assign({},pa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=pa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pa[this.storageKey]=Object.assign(Object.assign({},pa[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},wA),t);if(this.storageKey=l.storageKey,this.instanceID=(r=Ki.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ki.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&St()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new XP({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=W0(l.fetch),this.lock=l.lock||Hx,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&St()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=eA:this.lock=Hx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:H0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bx(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Bx(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${z0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(St()&&(r=AP(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),St()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),NP(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xe(r)?this._returnResult({error:r}):this._returnResult({error:new ws("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,o;try{const l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:kr}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var r,i,o;try{let l;if("email"in t){const{email:v,password:w,options:j}=t;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await ha(this.storage,this.storageKey)),l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:v,password:w,data:(r=j?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:b,code_challenge_method:S},xform:kr})}else if("phone"in t){const{phone:v,password:w,options:j}=t;l=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=j?.data)!==null&&i!==void 0?i:{},channel:(o=j?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:kr})}else throw new Al("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await Nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:u,options:d}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ux})}else if("phone"in t){const{phone:l,password:u,options:d}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ux})}else throw new Al("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const l=new da;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,o,l,u,d,f,m,v,w,j;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:y,wallet:N,statement:C,options:E}=t;let k;if(St())if(typeof N=="object")k=N;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")k=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const T=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),$=await k.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=q0($[0]);let L=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!L){const D=await k.request({method:"eth_chainId"});L=rA(D)}const G={domain:T.host,address:O,statement:C,uri:T.href,version:"1",chainId:L,nonce:(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=E?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=sA(G),S=await k.request({method:"personal_sign",params:[nA(b),O]})}try{const{data:y,error:N}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:kr});if(N)throw N;if(!y||!y.session||!y.user){const C=new da;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:N})}catch(y){if(xe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,i,o,l,u,d,f,m,v,w,j,b;let S,y;if("message"in t)S=t.message,y=t.signature;else{const{chain:N,wallet:C,statement:E,options:k}=t;let T;if(St())if(typeof C=="object")T=C;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))T=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}const $=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const O=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),E?{statement:E}:null));let L;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")L=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)L=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)S=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),y=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${$.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(i=k?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=k?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((w=(v=k?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...k.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const O=await T.signMessage(new TextEncoder().encode(S),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=O}}try{const{data:N,error:C}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:js(y)},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:kr});if(C)throw C;if(!N||!N.session||!N.user){const E=new da;return this._returnResult({data:{user:null,session:null},error:E})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:C})}catch(N){if(xe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await vs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new SP;const{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:kr});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new da;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:r,provider:i,token:o,access_token:l,nonce:u}=t,d=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:kr}),{data:f,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const v=new da;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,o,l,u;try{if("email"in t){const{email:d,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ha(this.storage,this.storageKey));const{error:w}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(i=f?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:d,options:f}=t,{data:m,error:v}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Al("You must provide either an email or phone number.")}catch(d){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),xe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,i;try{let o,l;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:kr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(o){if(xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,i,o,l,u;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await ha(this.storage,this.storageKey));const m=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:QP});return!((l=m.data)===null||l===void 0)&&l.url&&St()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),xe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Xt;const{error:o}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:l}=t,{error:u}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:i,type:o,options:l}=t,{data:u,error:d}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Al("You must provide either an email or phone number and a type")}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<fh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await vs(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=gh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=WP(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vn}):await this._useSession(async r=>{var i,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Vn})})}catch(r){if(xe(r))return mh(r)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new Xt;const u=o.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await ha(this.storage,this.storageKey));const{data:m,error:v}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Vn});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),xe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xt;const r=Date.now()/1e3;let i=r,o=!0,l=null;const{payload:u}=Il(t.access_token);if(u.exp&&(i=u.exp,o=i<=r),o){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:u,error:d}=r;if(d)throw d;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Xt;const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!St())throw new Ol("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ol(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ox("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ol("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ox("No code detected.");const{data:E,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:f,token_type:m}=t;if(!l||!d||!u||!m)throw new Ol("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(d);let j=v+w;f&&(j=parseInt(f));const b=j-v;b*1e3<=va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const S=j-w;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,j,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,j,v);const{data:y,error:N}=await this._getUser(l);if(N)throw N;const C={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:w,expires_at:j,refresh_token:u,token_type:m,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(i){if(xe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l&&!mh(l))return this._returnResult({error:l});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(bP(d)&&(d.status===404||d.status===401||d.status===403)||mh(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=PP(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ha(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:i,error:o}=await this._useSession(async l=>{var u,d,f,m,v;const{data:w,error:j}=l;if(j)throw j;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return St()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(xe(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:d,token:f,access_token:m,nonce:v}=t,w=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:f,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:kr}),{data:j,error:b}=w;return b?this._returnResult({data:{user:null,session:null},error:b}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new da}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:b}))}catch(o){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)throw u;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await DP(async o=>(o>0&&await IP(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kr})),(o,l)=>{const u=200*Math.pow(2,o);return l&&ph(l)&&Date.now()+u-i<va})}catch(i){if(this._debug(r,"error",i),xe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),St()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await vs(this.storage,this.storageKey);if(o&&this.userStorage){let u=await vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await xa(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u?.user)!==null&&t!==void 0?t:gh()}else if(o&&!o.user&&!o.user){const u=await vs(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Nt(this.storage,this.storageKey+"-user"),await xa(this.storage,this.storageKey,o)):o.user=gh()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fh;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${fh}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),ph(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Lc;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new Xt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),xe(l)){const u={data:null,error:l};return ph(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Nt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await xa(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=$x(o);await xa(this.storage,this.storageKey,l)}else{const o=$x(r);await xa(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&St()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),va);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${va}ms, refresh threshold is ${Kh} ticks`),o<=Kh&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof K0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await ha(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:m}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dA(t.webauthn.credential_response):hA(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:cA(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:uA(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,i,o,l;if(t)try{const{payload:b}=Il(t);let S=null;b.aal&&(S=b.aal);let y=S;const{data:{user:N},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((i=(r=N?.factors)===null||r===void 0?void 0:r.filter(T=>T.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(y="aal2");const k=b.amr||[];return{data:{currentLevel:S,nextLevel:y,currentAuthenticationMethods:k},error:null}}catch(b){if(xe(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Il(u.access_token);let m=null;f.aal&&(m=f.aal);let v=m;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(v="aal2");const j=f.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:j},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Xt});const u=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&St()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Xt});const u=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&St()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(t){if(xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xt})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(d=>d.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+wP>o)return i;const{data:l,error:u}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});i=b.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:f}}=Il(i);r?.allowExpired||BP(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:l,header:o,signature:u},error:null}}const v=VP(o.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,u,RP(`${d}.${f}`)))throw new Qh("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(xe(i))return this._returnResult({data:null,error:i});throw i}}}Ki.nextInstanceID={};const jA=Ki,bA="2.95.3";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const NA={"X-Client-Info":`supabase-js-${Ri}/${bA}`},SA={headers:NA},_A={schema:"public"},CA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EA={};function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function kA(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(qi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RA(e){var t=kA(e,"string");return qi(t)=="symbol"?t:t+""}function TA(e,t,r){return(t=RA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(r),!0).forEach(function(i){TA(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const PA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AA=()=>Headers,OA=(e,t,r)=>{const i=PA(r),o=AA();return async(l,u)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),i(l,at(at({},u),{},{headers:m}))}};function IA(e){return e.endsWith("/")?e:e+"/"}function DA(e,t){var r,i;const{db:o,auth:l,realtime:u,global:d}=e,{db:f,auth:m,realtime:v,global:w}=t,j={db:at(at({},f),o),auth:at(at({},m),l),realtime:at(at({},v),u),storage:{},global:at(at(at({},w),d),{},{headers:at(at({},(r=w?.headers)!==null&&r!==void 0?r:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?j.accessToken=e.accessToken:delete j.accessToken,j}function MA(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var LA=class extends jA{constructor(e){super(e)}},$A=class{constructor(e,t,r){var i,o;this.supabaseUrl=e,this.supabaseKey=t;const l=MA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:_A,realtime:EA,auth:at(at({},CA),{},{storageKey:u}),global:SA},f=DA(r??{},d);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=OA(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(at({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new bT(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new pP(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new mT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:d,debug:f,throwOnError:m},v,w){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LA({url:this.authUrl.href,headers:at(at({},j),v),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:d,debug:f,throwOnError:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new FT(this.realtimeUrl.href,at(at({},e),{},{params:at(at({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const FA=(e,t,r)=>new $A(e,t,r);function UA(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}UA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zA="https://placeholder.supabase.co",BA="placeholder-key",Kx=FA(zA,BA,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Q0=g.createContext(void 0),qx={id:"demo-user-id",email:"admin@lavanderia.sv",name:"Administrador",role:"admin"};function VA({children:e}){const[t,r]=g.useState(null),[i,o]=g.useState(null),[l,u]=g.useState(!0),[d,f]=g.useState(!1);g.useEffect(()=>{{console.log("Supabase not configured - running in demo mode"),r(qx),f(!0),u(!1);return}},[]);const j={user:t,session:i,isLoading:l,isAuthenticated:!!t,isDemoMode:d,signIn:async(b,S)=>{const{error:y}=await Kx.auth.signInWithPassword({email:b,password:S});return{error:y}},signOut:async()=>{if(d){r(null),f(!1);return}await Kx.auth.signOut(),r(null),o(null)},signInDemo:()=>{r(qx),f(!0)}};return n.jsx(Q0.Provider,{value:j,children:e})}function so(){const e=g.useContext(Q0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function HA(){const[e]=Sy(),{t}=ar(),{user:r,isDemoMode:i}=so(),o=[{titleKey:"nav.dashboard",url:"/",icon:r_},{titleKey:"nav.conversations",url:"/conversations",icon:pt,badge:"24"},{titleKey:"nav.customers",url:"/customers",icon:qr},{titleKey:"nav.locations",url:"/locations",icon:mr,badge:"5"},{titleKey:"nav.services",url:"/services",icon:Hn},{titleKey:"nav.orders",url:"/orders",icon:un}],l=[{titleKey:"nav.analytics",url:"/analytics",icon:hc},{titleKey:"nav.notifications",url:"/notifications",icon:_a},{titleKey:"nav.settings",url:"/settings",icon:u_},{titleKey:"nav.help",url:"/help",icon:ry}];return n.jsxs(VR,{"data-testid":"app-sidebar",children:[n.jsx(WR,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg gold-gradient flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-bold text-primary-foreground",children:"LO"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:"font-semibold text-sm truncate",children:t("brand.name")}),n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-sidebar-foreground/70",children:[n.jsx(ks,{className:"h-3 w-3 text-green-400"}),n.jsx("span",{children:t("brand.tagline")})]})]})]})}),n.jsxs(qR,{children:[n.jsxs(fx,{children:[n.jsx(mx,{children:t("nav.menu")}),n.jsx(px,{children:n.jsx(gx,{children:o.map(u=>n.jsx(vx,{children:n.jsx(xx,{asChild:!0,isActive:e===u.url,"data-testid":`nav-${u.titleKey.split(".")[1]}`,children:n.jsxs(ql,{href:u.url,children:[n.jsx(u.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"flex-1",children:t(u.titleKey)}),u.badge&&n.jsx(ye,{variant:"secondary",className:"text-xs h-5 px-1.5 bg-primary/20 text-primary border-0",children:u.badge})]})})},u.titleKey))})})]}),n.jsxs(fx,{children:[n.jsx(mx,{children:t("nav.system")}),n.jsx(px,{children:n.jsx(gx,{children:l.map(u=>n.jsx(vx,{children:n.jsx(xx,{asChild:!0,isActive:e===u.url,"data-testid":`nav-${u.titleKey.split(".")[1]}`,children:n.jsxs(ql,{href:u.url,children:[n.jsx(u.icon,{className:"h-4 w-4"}),n.jsx("span",{children:t(u.titleKey)})]})})},u.titleKey))})})]})]}),n.jsx(KR,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-sidebar-accent/50",children:[n.jsx(Dr,{className:"h-8 w-8",children:n.jsx(Mr,{className:"bg-primary text-primary-foreground text-xs",children:r?.name?.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2)||"U"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:r?.name||"Usuario"}),i&&n.jsx(gr,{className:"h-3 w-3 text-amber-500 shrink-0"})]}),n.jsx("p",{className:"text-xs text-sidebar-foreground/70 truncate",children:r?.email||""})]})]})})]})}function WA(){const[e,t]=g.useState("dark");g.useEffect(()=>{const i=localStorage.getItem("theme");i&&(t(i),document.documentElement.classList.toggle("dark",i==="dark"))},[]);const r=()=>{const i=e==="dark"?"light":"dark";t(i),localStorage.setItem("theme",i),document.documentElement.classList.toggle("dark",i==="dark")};return n.jsx(oe,{variant:"ghost",size:"icon",onClick:r,"data-testid":"button-theme-toggle",children:e==="dark"?n.jsx(d_,{className:"h-5 w-5 text-primary"}):n.jsx(a_,{className:"h-5 w-5"})})}var KA=g.createContext(void 0);function La(e){const t=g.useContext(KA);return e||t||"ltr"}var xh="rovingFocusGroup.onEntryFocus",qA={bubbles:!1,cancelable:!0},$c="RovingFocusGroup",[Yh,Y0,GA]=Zi($c),[QA,Fc]=Ft($c,[GA]),[YA,JA]=QA($c),J0=g.forwardRef((e,t)=>n.jsx(Yh.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Yh.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(XA,{...e,ref:t})})}));J0.displayName=$c;var XA=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...w}=e,j=g.useRef(null),b=Me(t,j),S=La(l),[y=null,N]=vr({prop:u,defaultProp:d,onChange:f}),[C,E]=g.useState(!1),k=et(m),T=Y0(r),$=g.useRef(!1),[O,L]=g.useState(0);return g.useEffect(()=>{const G=j.current;if(G)return G.addEventListener(xh,k),()=>G.removeEventListener(xh,k)},[k]),n.jsx(YA,{scope:r,orientation:i,dir:S,loop:o,currentTabStopId:y,onItemFocus:g.useCallback(G=>N(G),[N]),onItemShiftTab:g.useCallback(()=>E(!0),[]),onFocusableItemAdd:g.useCallback(()=>L(G=>G+1),[]),onFocusableItemRemove:g.useCallback(()=>L(G=>G-1),[]),children:n.jsx(pe.div,{tabIndex:C||O===0?-1:0,"data-orientation":i,...w,ref:b,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{$.current=!0}),onFocus:se(e.onFocus,G=>{const D=!$.current;if(G.target===G.currentTarget&&D&&!C){const F=new CustomEvent(xh,qA);if(G.currentTarget.dispatchEvent(F),!F.defaultPrevented){const Y=T().filter(ne=>ne.focusable),re=Y.find(ne=>ne.active),le=Y.find(ne=>ne.id===y),q=[re,le,...Y].filter(Boolean).map(ne=>ne.ref.current);ej(q,v)}}$.current=!1}),onBlur:se(e.onBlur,()=>E(!1))})})}),X0="RovingFocusGroupItem",Z0=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:o=!1,tabStopId:l,...u}=e,d=nr(),f=l||d,m=JA(X0,r),v=m.currentTabStopId===f,w=Y0(r),{onFocusableItemAdd:j,onFocusableItemRemove:b}=m;return g.useEffect(()=>{if(i)return j(),()=>b()},[i,j,b]),n.jsx(Yh.ItemSlot,{scope:r,id:f,focusable:i,active:o,children:n.jsx(pe.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:se(e.onMouseDown,S=>{i?m.onItemFocus(f):S.preventDefault()}),onFocus:se(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:se(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){m.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const y=tO(S,m.orientation,m.dir);if(y!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=w().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")C.reverse();else if(y==="prev"||y==="next"){y==="prev"&&C.reverse();const E=C.indexOf(S.currentTarget);C=m.loop?rO(C,E+1):C.slice(E+1)}setTimeout(()=>ej(C))}})})})});Z0.displayName=X0;var ZA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tO(e,t,r){const i=eO(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return ZA[i]}function ej(e,t=!1){const r=document.activeElement;for(const i of e)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}function rO(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var tj=J0,rj=Z0,Jh=["Enter"," "],nO=["ArrowDown","PageUp","Home"],nj=["ArrowUp","PageDown","End"],sO=[...nO,...nj],aO={ltr:[...Jh,"ArrowRight"],rtl:[...Jh,"ArrowLeft"]},iO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ao="Menu",[Gi,oO,lO]=Zi(ao),[Ps,sj]=Ft(ao,[lO,Ia,Fc]),Uc=Ia(),aj=Fc(),[cO,As]=Ps(ao),[uO,io]=Ps(ao),ij=e=>{const{__scopeMenu:t,open:r=!1,children:i,dir:o,onOpenChange:l,modal:u=!0}=e,d=Uc(t),[f,m]=g.useState(null),v=g.useRef(!1),w=et(l),j=La(o);return g.useEffect(()=>{const b=()=>{v.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>v.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),n.jsx(Tf,{...d,children:n.jsx(cO,{scope:t,open:r,onOpenChange:w,content:f,onContentChange:m,children:n.jsx(uO,{scope:t,onClose:g.useCallback(()=>w(!1),[w]),isUsingKeyboardRef:v,dir:j,modal:u,children:i})})})};ij.displayName=ao;var dO="MenuAnchor",Wf=g.forwardRef((e,t)=>{const{__scopeMenu:r,...i}=e,o=Uc(r);return n.jsx(Pf,{...o,...i,ref:t})});Wf.displayName=dO;var Kf="MenuPortal",[hO,oj]=Ps(Kf,{forceMount:void 0}),lj=e=>{const{__scopeMenu:t,forceMount:r,children:i,container:o}=e,l=As(Kf,t);return n.jsx(hO,{scope:t,forceMount:r,children:n.jsx(Mt,{present:r||l.open,children:n.jsx(eo,{asChild:!0,container:o,children:i})})})};lj.displayName=Kf;var pr="MenuContent",[fO,qf]=Ps(pr),cj=g.forwardRef((e,t)=>{const r=oj(pr,e.__scopeMenu),{forceMount:i=r.forceMount,...o}=e,l=As(pr,e.__scopeMenu),u=io(pr,e.__scopeMenu);return n.jsx(Gi.Provider,{scope:e.__scopeMenu,children:n.jsx(Mt,{present:i||l.open,children:n.jsx(Gi.Slot,{scope:e.__scopeMenu,children:u.modal?n.jsx(mO,{...o,ref:t}):n.jsx(pO,{...o,ref:t})})})})}),mO=g.forwardRef((e,t)=>{const r=As(pr,e.__scopeMenu),i=g.useRef(null),o=Me(t,i);return g.useEffect(()=>{const l=i.current;if(l)return Mf(l)},[]),n.jsx(Gf,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),pO=g.forwardRef((e,t)=>{const r=As(pr,e.__scopeMenu);return n.jsx(Gf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),gO=Ss("MenuContent.ScrollLock"),Gf=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:i=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:w,onInteractOutside:j,onDismiss:b,disableOutsideScroll:S,...y}=e,N=As(pr,r),C=io(pr,r),E=Uc(r),k=aj(r),T=oO(r),[$,O]=g.useState(null),L=g.useRef(null),G=Me(t,L,N.onContentChange),D=g.useRef(0),F=g.useRef(""),Y=g.useRef(0),re=g.useRef(null),le=g.useRef("right"),Q=g.useRef(0),q=S?Tc:g.Fragment,ne=S?{as:gO,allowPinchZoom:!0}:void 0,de=W=>{const M=F.current+W,P=T().filter(ee=>!ee.disabled),K=document.activeElement,we=P.find(ee=>ee.ref.current===K)?.textValue,V=P.map(ee=>ee.textValue),_e=kO(V,M,we),Te=P.find(ee=>ee.textValue===_e)?.ref.current;(function ee(je){F.current=je,window.clearTimeout(D.current),je!==""&&(D.current=window.setTimeout(()=>ee(""),1e3))})(M),Te&&setTimeout(()=>Te.focus())};g.useEffect(()=>()=>window.clearTimeout(D.current),[]),Df();const H=g.useCallback(W=>le.current===re.current?.side&&TO(W,re.current?.area),[]);return n.jsx(fO,{scope:r,searchRef:F,onItemEnter:g.useCallback(W=>{H(W)&&W.preventDefault()},[H]),onItemLeave:g.useCallback(W=>{H(W)||(L.current?.focus(),O(null))},[H]),onTriggerLeave:g.useCallback(W=>{H(W)&&W.preventDefault()},[H]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:g.useCallback(W=>{re.current=W},[]),children:n.jsx(q,{...ne,children:n.jsx(kc,{asChild:!0,trapped:o,onMountAutoFocus:se(l,W=>{W.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:n.jsx(Pa,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:w,onInteractOutside:j,onDismiss:b,children:n.jsx(tj,{asChild:!0,...k,dir:C.dir,orientation:"vertical",loop:i,currentTabStopId:$,onCurrentTabStopIdChange:O,onEntryFocus:se(f,W=>{C.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Af,{role:"menu","aria-orientation":"vertical","data-state":_j(N.open),"data-radix-menu-content":"",dir:C.dir,...E,...y,ref:G,style:{outline:"none",...y.style},onKeyDown:se(y.onKeyDown,W=>{const P=W.target.closest("[data-radix-menu-content]")===W.currentTarget,K=W.ctrlKey||W.altKey||W.metaKey,we=W.key.length===1;P&&(W.key==="Tab"&&W.preventDefault(),!K&&we&&de(W.key));const V=L.current;if(W.target!==V||!sO.includes(W.key))return;W.preventDefault();const Te=T().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);nj.includes(W.key)&&Te.reverse(),CO(Te)}),onBlur:se(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(D.current),F.current="")}),onPointerMove:se(e.onPointerMove,Qi(W=>{const M=W.target,P=Q.current!==W.clientX;if(W.currentTarget.contains(M)&&P){const K=W.clientX>Q.current?"right":"left";le.current=K,Q.current=W.clientX}}))})})})})})})});cj.displayName=pr;var vO="MenuGroup",Qf=g.forwardRef((e,t)=>{const{__scopeMenu:r,...i}=e;return n.jsx(pe.div,{role:"group",...i,ref:t})});Qf.displayName=vO;var xO="MenuLabel",uj=g.forwardRef((e,t)=>{const{__scopeMenu:r,...i}=e;return n.jsx(pe.div,{...i,ref:t})});uj.displayName=xO;var ac="MenuItem",Gx="menu.itemSelect",zc=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:i,...o}=e,l=g.useRef(null),u=io(ac,e.__scopeMenu),d=qf(ac,e.__scopeMenu),f=Me(t,l),m=g.useRef(!1),v=()=>{const w=l.current;if(!r&&w){const j=new CustomEvent(Gx,{bubbles:!0,cancelable:!0});w.addEventListener(Gx,b=>i?.(b),{once:!0}),vf(w,j),j.defaultPrevented?m.current=!1:u.onClose()}};return n.jsx(dj,{...o,ref:f,disabled:r,onClick:se(e.onClick,v),onPointerDown:w=>{e.onPointerDown?.(w),m.current=!0},onPointerUp:se(e.onPointerUp,w=>{m.current||w.currentTarget?.click()}),onKeyDown:se(e.onKeyDown,w=>{const j=d.searchRef.current!=="";r||j&&w.key===" "||Jh.includes(w.key)&&(w.currentTarget.click(),w.preventDefault())})})});zc.displayName=ac;var dj=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:i=!1,textValue:o,...l}=e,u=qf(ac,r),d=aj(r),f=g.useRef(null),m=Me(t,f),[v,w]=g.useState(!1),[j,b]=g.useState("");return g.useEffect(()=>{const S=f.current;S&&b((S.textContent??"").trim())},[l.children]),n.jsx(Gi.ItemSlot,{scope:r,disabled:i,textValue:o??j,children:n.jsx(rj,{asChild:!0,...d,focusable:!i,children:n.jsx(pe.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...l,ref:m,onPointerMove:se(e.onPointerMove,Qi(S=>{i?u.onItemLeave(S):(u.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,Qi(S=>u.onItemLeave(S))),onFocus:se(e.onFocus,()=>w(!0)),onBlur:se(e.onBlur,()=>w(!1))})})})}),yO="MenuCheckboxItem",hj=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:i,...o}=e;return n.jsx(vj,{scope:e.__scopeMenu,checked:r,children:n.jsx(zc,{role:"menuitemcheckbox","aria-checked":ic(r)?"mixed":r,...o,ref:t,"data-state":Jf(r),onSelect:se(o.onSelect,()=>i?.(ic(r)?!0:!r),{checkForDefaultPrevented:!1})})})});hj.displayName=yO;var fj="MenuRadioGroup",[wO,jO]=Ps(fj,{value:void 0,onValueChange:()=>{}}),mj=g.forwardRef((e,t)=>{const{value:r,onValueChange:i,...o}=e,l=et(i);return n.jsx(wO,{scope:e.__scopeMenu,value:r,onValueChange:l,children:n.jsx(Qf,{...o,ref:t})})});mj.displayName=fj;var pj="MenuRadioItem",gj=g.forwardRef((e,t)=>{const{value:r,...i}=e,o=jO(pj,e.__scopeMenu),l=r===o.value;return n.jsx(vj,{scope:e.__scopeMenu,checked:l,children:n.jsx(zc,{role:"menuitemradio","aria-checked":l,...i,ref:t,"data-state":Jf(l),onSelect:se(i.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});gj.displayName=pj;var Yf="MenuItemIndicator",[vj,bO]=Ps(Yf,{checked:!1}),xj=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:i,...o}=e,l=bO(Yf,r);return n.jsx(Mt,{present:i||ic(l.checked)||l.checked===!0,children:n.jsx(pe.span,{...o,ref:t,"data-state":Jf(l.checked)})})});xj.displayName=Yf;var NO="MenuSeparator",yj=g.forwardRef((e,t)=>{const{__scopeMenu:r,...i}=e;return n.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});yj.displayName=NO;var SO="MenuArrow",wj=g.forwardRef((e,t)=>{const{__scopeMenu:r,...i}=e,o=Uc(r);return n.jsx(Of,{...o,...i,ref:t})});wj.displayName=SO;var _O="MenuSub",[fD,jj]=Ps(_O),Ti="MenuSubTrigger",bj=g.forwardRef((e,t)=>{const r=As(Ti,e.__scopeMenu),i=io(Ti,e.__scopeMenu),o=jj(Ti,e.__scopeMenu),l=qf(Ti,e.__scopeMenu),u=g.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=l,m={__scopeMenu:e.__scopeMenu},v=g.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return g.useEffect(()=>v,[v]),g.useEffect(()=>{const w=d.current;return()=>{window.clearTimeout(w),f(null)}},[d,f]),n.jsx(Wf,{asChild:!0,...m,children:n.jsx(dj,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":_j(r.open),...e,ref:gc(t,o.onTriggerChange),onClick:w=>{e.onClick?.(w),!(e.disabled||w.defaultPrevented)&&(w.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,Qi(w=>{l.onItemEnter(w),!w.defaultPrevented&&!e.disabled&&!r.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),v()},100))})),onPointerLeave:se(e.onPointerLeave,Qi(w=>{v();const j=r.content?.getBoundingClientRect();if(j){const b=r.content?.dataset.side,S=b==="right",y=S?-5:5,N=j[S?"left":"right"],C=j[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:w.clientX+y,y:w.clientY},{x:N,y:j.top},{x:C,y:j.top},{x:C,y:j.bottom},{x:N,y:j.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(w),w.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,w=>{const j=l.searchRef.current!=="";e.disabled||j&&w.key===" "||aO[i.dir].includes(w.key)&&(r.onOpenChange(!0),r.content?.focus(),w.preventDefault())})})})});bj.displayName=Ti;var Nj="MenuSubContent",Sj=g.forwardRef((e,t)=>{const r=oj(pr,e.__scopeMenu),{forceMount:i=r.forceMount,...o}=e,l=As(pr,e.__scopeMenu),u=io(pr,e.__scopeMenu),d=jj(Nj,e.__scopeMenu),f=g.useRef(null),m=Me(t,f);return n.jsx(Gi.Provider,{scope:e.__scopeMenu,children:n.jsx(Mt,{present:i||l.open,children:n.jsx(Gi.Slot,{scope:e.__scopeMenu,children:n.jsx(Gf,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&f.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:se(e.onFocusOutside,v=>{v.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:se(e.onKeyDown,v=>{const w=v.currentTarget.contains(v.target),j=iO[u.dir].includes(v.key);w&&j&&(l.onOpenChange(!1),d.trigger?.focus(),v.preventDefault())})})})})})});Sj.displayName=Nj;function _j(e){return e?"open":"closed"}function ic(e){return e==="indeterminate"}function Jf(e){return ic(e)?"indeterminate":e?"checked":"unchecked"}function CO(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function EO(e,t){return e.map((r,i)=>e[(t+i)%e.length])}function kO(e,t,r){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let u=EO(e,Math.max(l,0));o.length===1&&(u=u.filter(m=>m!==r));const f=u.find(m=>m.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function RO(e,t){const{x:r,y:i}=e;let o=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const d=t[l].x,f=t[l].y,m=t[u].x,v=t[u].y;f>i!=v>i&&r<(m-d)*(i-f)/(v-f)+d&&(o=!o)}return o}function TO(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return RO(r,t)}function Qi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var PO=ij,AO=Wf,OO=lj,IO=cj,DO=Qf,MO=uj,LO=zc,$O=hj,FO=mj,UO=gj,zO=xj,BO=yj,VO=wj,HO=bj,WO=Sj,Xf="DropdownMenu",[KO]=Ft(Xf,[sj]),Ut=sj(),[qO,Cj]=KO(Xf),Ej=e=>{const{__scopeDropdownMenu:t,children:r,dir:i,open:o,defaultOpen:l,onOpenChange:u,modal:d=!0}=e,f=Ut(t),m=g.useRef(null),[v=!1,w]=vr({prop:o,defaultProp:l,onChange:u});return n.jsx(qO,{scope:t,triggerId:nr(),triggerRef:m,contentId:nr(),open:v,onOpenChange:w,onOpenToggle:g.useCallback(()=>w(j=>!j),[w]),modal:d,children:n.jsx(PO,{...f,open:v,onOpenChange:w,dir:i,modal:d,children:r})})};Ej.displayName=Xf;var kj="DropdownMenuTrigger",Rj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:i=!1,...o}=e,l=Cj(kj,r),u=Ut(r);return n.jsx(AO,{asChild:!0,...u,children:n.jsx(pe.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...o,ref:gc(t,l.triggerRef),onPointerDown:se(e.onPointerDown,d=>{!i&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:se(e.onKeyDown,d=>{i||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});Rj.displayName=kj;var GO="DropdownMenuPortal",Tj=e=>{const{__scopeDropdownMenu:t,...r}=e,i=Ut(t);return n.jsx(OO,{...i,...r})};Tj.displayName=GO;var Pj="DropdownMenuContent",Aj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Cj(Pj,r),l=Ut(r),u=g.useRef(!1);return n.jsx(IO,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...i,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,d=>{u.current||o.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:se(e.onInteractOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,v=f.button===2||m;(!o.modal||v)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Aj.displayName=Pj;var QO="DropdownMenuGroup",YO=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(DO,{...o,...i,ref:t})});YO.displayName=QO;var JO="DropdownMenuLabel",Oj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(MO,{...o,...i,ref:t})});Oj.displayName=JO;var XO="DropdownMenuItem",Ij=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(LO,{...o,...i,ref:t})});Ij.displayName=XO;var ZO="DropdownMenuCheckboxItem",Dj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx($O,{...o,...i,ref:t})});Dj.displayName=ZO;var e4="DropdownMenuRadioGroup",t4=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(FO,{...o,...i,ref:t})});t4.displayName=e4;var r4="DropdownMenuRadioItem",Mj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(UO,{...o,...i,ref:t})});Mj.displayName=r4;var n4="DropdownMenuItemIndicator",Lj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(zO,{...o,...i,ref:t})});Lj.displayName=n4;var s4="DropdownMenuSeparator",$j=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(BO,{...o,...i,ref:t})});$j.displayName=s4;var a4="DropdownMenuArrow",i4=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(VO,{...o,...i,ref:t})});i4.displayName=a4;var o4="DropdownMenuSubTrigger",Fj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(HO,{...o,...i,ref:t})});Fj.displayName=o4;var l4="DropdownMenuSubContent",Uj=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...i}=e,o=Ut(r);return n.jsx(WO,{...o,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Uj.displayName=l4;var c4=Ej,u4=Rj,d4=Tj,zj=Aj,Bj=Oj,Vj=Ij,Hj=Dj,Wj=Mj,Kj=Lj,qj=$j,Gj=Fj,Qj=Uj;const Bc=c4,Vc=u4,h4=g.forwardRef(({className:e,inset:t,children:r,...i},o)=>n.jsxs(Gj,{ref:o,className:ae("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...i,children:[r,n.jsx(mc,{className:"ml-auto"})]}));h4.displayName=Gj.displayName;const f4=g.forwardRef(({className:e,...t},r)=>n.jsx(Qj,{ref:r,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));f4.displayName=Qj.displayName;const oo=g.forwardRef(({className:e,sideOffset:t=4,...r},i)=>n.jsx(d4,{children:n.jsx(zj,{ref:i,sideOffset:t,className:ae("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));oo.displayName=zj.displayName;const Kr=g.forwardRef(({className:e,inset:t,...r},i)=>n.jsx(Vj,{ref:i,className:ae("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Kr.displayName=Vj.displayName;const m4=g.forwardRef(({className:e,children:t,checked:r,...i},o)=>n.jsxs(Hj,{ref:o,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...i,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Kj,{children:n.jsx(fc,{className:"h-4 w-4"})})}),t]}));m4.displayName=Hj.displayName;const p4=g.forwardRef(({className:e,children:t,...r},i)=>n.jsxs(Wj,{ref:i,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Kj,{children:n.jsx(JS,{className:"h-2 w-2 fill-current"})})}),t]}));p4.displayName=Wj.displayName;const Zf=g.forwardRef(({className:e,inset:t,...r},i)=>n.jsx(Bj,{ref:i,className:ae("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Zf.displayName=Bj.displayName;const Hc=g.forwardRef(({className:e,...t},r)=>n.jsx(qj,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));Hc.displayName=qj.displayName;const Qx=[{code:"es",name:"Espaol",flag:""},{code:"en",name:"English",flag:""}];function g4(){const{language:e,setLanguage:t}=ar();return Qx.find(r=>r.code===e),n.jsxs(Bc,{children:[n.jsx(Vc,{asChild:!0,children:n.jsxs(oe,{variant:"ghost",size:"icon","data-testid":"button-language-toggle",children:[n.jsx(t_,{className:"h-5 w-5"}),n.jsx("span",{className:"sr-only",children:"Toggle language"})]})}),n.jsx(oo,{align:"end",children:Qx.map(r=>n.jsxs(Kr,{onClick:()=>t(r.code),className:e===r.code?"bg-accent":"","data-testid":`language-option-${r.code}`,children:[n.jsx("span",{className:"mr-2 text-base",children:r.flag}),n.jsx("span",{children:r.name})]},r.code))})]})}function v4(){return n.jsx("div",{className:"min-h-[calc(100vh-4rem)] w-full flex items-center justify-center p-4",children:n.jsxs(ie,{className:"w-full max-w-md border-border",children:[n.jsxs(ve,{className:"pt-6 text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:n.jsx(pc,{className:"h-8 w-8 text-destructive"})}),n.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"404"}),n.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Pgina no encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"La pgina que busca no existe o ha sido movida."})]}),n.jsxs(vc,{className:"flex gap-2 justify-center pb-6",children:[n.jsxs(oe,{variant:"outline",onClick:()=>window.history.back(),children:[n.jsx(KS,{className:"h-4 w-4 mr-2"}),"Volver"]}),n.jsx(ql,{href:"/",children:n.jsxs(oe,{children:[n.jsx(sy,{className:"h-4 w-4 mr-2"}),"Inicio"]})})]})]})})}var x4="Label",Yj=g.forwardRef((e,t)=>n.jsx(pe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Yj.displayName=x4;var Jj=Yj;const y4=Ts("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=g.forwardRef(({className:e,...t},r)=>n.jsx(Jj,{ref:r,className:ae(y4(),e),...t}));Se.displayName=Jj.displayName;const w4=Ts("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xj=g.forwardRef(({className:e,variant:t,...r},i)=>n.jsx("div",{ref:i,role:"alert",className:ae(w4({variant:t}),e),...r}));Xj.displayName="Alert";const j4=g.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:ae("mb-1 font-medium leading-none tracking-tight",e),...t}));j4.displayName="AlertTitle";const Zj=g.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ae("text-sm [&_p]:leading-relaxed",e),...t}));Zj.displayName="AlertDescription";function b4(){const[,e]=Sy(),{signIn:t,signInDemo:r,isDemoMode:i}=so(),[o,l]=g.useState(""),[u,d]=g.useState(""),[f,m]=g.useState(!1),[v,w]=g.useState(null),j=async S=>{S.preventDefault(),w(null),m(!0);try{const{error:y}=await t(o,u);y?w(y.message==="Invalid login credentials"?"Credenciales invlidas. Verifica tu email y contrasea.":y.message):e("/")}catch{w("Error al iniciar sesin. Intenta de nuevo.")}finally{m(!1)}},b=()=>{r(),e("/")};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-lg gold-gradient mb-4",children:n.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"LO"})}),n.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Lavandera Oriental"}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground mt-1",children:[n.jsx(ks,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"Panel de Control AI"})]})]}),n.jsxs(ie,{className:"border-border",children:[n.jsxs(be,{className:"text-center",children:[n.jsx(Ne,{children:"Iniciar Sesin"}),n.jsx(qt,{children:"Ingresa tus credenciales para acceder al panel"})]}),n.jsxs("form",{onSubmit:j,children:[n.jsxs(ve,{className:"space-y-4",children:[v&&n.jsxs(Xj,{variant:"destructive",children:[n.jsx(pc,{className:"h-4 w-4"}),n.jsx(Zj,{children:v})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"email",children:"Email"}),n.jsx(Ue,{id:"email",type:"email",placeholder:"admin@lavanderia.sv",value:o,onChange:S=>l(S.target.value),required:!0,disabled:f})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{htmlFor:"password",children:"Contrasea"}),n.jsx(Ue,{id:"password",type:"password",placeholder:"",value:u,onChange:S=>d(S.target.value),required:!0,disabled:f})]})]}),n.jsxs(vc,{className:"flex flex-col gap-3",children:[n.jsx(oe,{type:"submit",className:"w-full",disabled:f,children:f?n.jsxs(n.Fragment,{children:[n.jsx(n_,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciando sesin..."]}):"Iniciar Sesin"}),n.jsxs("div",{className:"relative w-full",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"o"})})]}),n.jsxs(oe,{type:"button",variant:"outline",className:"w-full",onClick:b,disabled:f,children:[n.jsx(gr,{className:"mr-2 h-4 w-4"}),"Acceder en Modo Demo"]})]})]})]}),n.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["Construido por"," ",n.jsx("a",{href:"https://machinemindconsulting.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"MachineMind Consulting"})]})]})})}function We({title:e,value:t,subtitle:r,icon:i,trend:o,variant:l="default"}){const u={default:"border-border",primary:"border-primary/30 gold-glow",accent:"border-accent/30",warning:"border-destructive/30"},d={default:"bg-muted text-muted-foreground",primary:"bg-primary/10 text-primary",accent:"bg-accent/10 text-accent",warning:"bg-destructive/10 text-destructive"};return n.jsx(ie,{className:`p-4 ${u[l]}`,"data-testid":`stat-card-${e.toLowerCase().replace(/\s+/g,"-")}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm text-muted-foreground truncate","data-testid":`stat-title-${e.toLowerCase().replace(/\s+/g,"-")}`,children:e}),n.jsx("p",{className:"text-2xl font-semibold mt-1 font-mono","data-testid":`stat-value-${e.toLowerCase().replace(/\s+/g,"-")}`,children:t}),r&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r}),o&&n.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${o.isPositive?"text-accent":"text-destructive"}`,children:[n.jsxs("span",{children:[o.isPositive?"+":"",o.value,"%"]}),n.jsx("span",{className:"text-muted-foreground",children:"vs last week"})]})]}),n.jsx("div",{className:`p-2.5 rounded-md ${d[l]}`,children:n.jsx(i,{className:"h-5 w-5"})})]})})}function Xh(e,[t,r]){return Math.min(r,Math.max(t,e))}function N4(e,t){return g.useReducer((r,i)=>t[r][i]??r,e)}var em="ScrollArea",[eb]=Ft(em),[S4,xr]=eb(em),tb=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:i="hover",dir:o,scrollHideDelay:l=600,...u}=e,[d,f]=g.useState(null),[m,v]=g.useState(null),[w,j]=g.useState(null),[b,S]=g.useState(null),[y,N]=g.useState(null),[C,E]=g.useState(0),[k,T]=g.useState(0),[$,O]=g.useState(!1),[L,G]=g.useState(!1),D=Me(t,Y=>f(Y)),F=La(o);return n.jsx(S4,{scope:r,type:i,dir:F,scrollHideDelay:l,scrollArea:d,viewport:m,onViewportChange:v,content:w,onContentChange:j,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:$,onScrollbarXEnabledChange:O,scrollbarY:y,onScrollbarYChange:N,scrollbarYEnabled:L,onScrollbarYEnabledChange:G,onCornerWidthChange:E,onCornerHeightChange:T,children:n.jsx(pe.div,{dir:F,...u,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})})});tb.displayName=em;var rb="ScrollAreaViewport",nb=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:i,nonce:o,...l}=e,u=xr(rb,r),d=g.useRef(null),f=Me(t,d,u.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),n.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});nb.displayName=rb;var Xr="ScrollAreaScrollbar",tm=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=xr(Xr,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=o,d=e.orientation==="horizontal";return g.useEffect(()=>(d?l(!0):u(!0),()=>{d?l(!1):u(!1)}),[d,l,u]),o.type==="hover"?n.jsx(_4,{...i,ref:t,forceMount:r}):o.type==="scroll"?n.jsx(C4,{...i,ref:t,forceMount:r}):o.type==="auto"?n.jsx(sb,{...i,ref:t,forceMount:r}):o.type==="always"?n.jsx(rm,{...i,ref:t}):null});tm.displayName=Xr;var _4=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=xr(Xr,e.__scopeScrollArea),[l,u]=g.useState(!1);return g.useEffect(()=>{const d=o.scrollArea;let f=0;if(d){const m=()=>{window.clearTimeout(f),u(!0)},v=()=>{f=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",v),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",v)}}},[o.scrollArea,o.scrollHideDelay]),n.jsx(Mt,{present:r||l,children:n.jsx(sb,{"data-state":l?"visible":"hidden",...i,ref:t})})}),C4=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=xr(Xr,e.__scopeScrollArea),l=e.orientation==="horizontal",u=Kc(()=>f("SCROLL_END"),100),[d,f]=N4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>f("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,o.scrollHideDelay,f]),g.useEffect(()=>{const m=o.viewport,v=l?"scrollLeft":"scrollTop";if(m){let w=m[v];const j=()=>{const b=m[v];w!==b&&(f("SCROLL"),u()),w=b};return m.addEventListener("scroll",j),()=>m.removeEventListener("scroll",j)}},[o.viewport,l,f,u]),n.jsx(Mt,{present:r||d!=="hidden",children:n.jsx(rm,{"data-state":d==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:se(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:se(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),sb=g.forwardRef((e,t)=>{const r=xr(Xr,e.__scopeScrollArea),{forceMount:i,...o}=e,[l,u]=g.useState(!1),d=e.orientation==="horizontal",f=Kc(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,v=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?m:v)}},10);return ka(r.viewport,f),ka(r.content,f),n.jsx(Mt,{present:i||l,children:n.jsx(rm,{"data-state":l?"visible":"hidden",...o,ref:t})})}),rm=g.forwardRef((e,t)=>{const{orientation:r="vertical",...i}=e,o=xr(Xr,e.__scopeScrollArea),l=g.useRef(null),u=g.useRef(0),[d,f]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=cb(d.viewport,d.content),v={...i,sizes:d,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:j=>l.current=j,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:j=>u.current=j};function w(j,b){return A4(j,u.current,d,b)}return r==="horizontal"?n.jsx(E4,{...v,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const j=o.viewport.scrollLeft,b=Yx(j,d,o.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:j=>{o.viewport&&(o.viewport.scrollLeft=j)},onDragScroll:j=>{o.viewport&&(o.viewport.scrollLeft=w(j,o.dir))}}):r==="vertical"?n.jsx(k4,{...v,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const j=o.viewport.scrollTop,b=Yx(j,d);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:j=>{o.viewport&&(o.viewport.scrollTop=j)},onDragScroll:j=>{o.viewport&&(o.viewport.scrollTop=w(j))}}):null}),E4=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,...o}=e,l=xr(Xr,e.__scopeScrollArea),[u,d]=g.useState(),f=g.useRef(null),m=Me(t,f,l.onScrollbarXChange);return g.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(ib,{"data-orientation":"horizontal",...o,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wc(r)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.x),onDragScroll:v=>e.onDragScroll(v.x),onWheelScroll:(v,w)=>{if(l.viewport){const j=l.viewport.scrollLeft+v.deltaX;e.onWheelScroll(j),db(j,w)&&v.preventDefault()}},onResize:()=>{f.current&&l.viewport&&u&&i({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:lc(u.paddingLeft),paddingEnd:lc(u.paddingRight)}})}})}),k4=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,...o}=e,l=xr(Xr,e.__scopeScrollArea),[u,d]=g.useState(),f=g.useRef(null),m=Me(t,f,l.onScrollbarYChange);return g.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.jsx(ib,{"data-orientation":"vertical",...o,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wc(r)+"px",...e.style},onThumbPointerDown:v=>e.onThumbPointerDown(v.y),onDragScroll:v=>e.onDragScroll(v.y),onWheelScroll:(v,w)=>{if(l.viewport){const j=l.viewport.scrollTop+v.deltaY;e.onWheelScroll(j),db(j,w)&&v.preventDefault()}},onResize:()=>{f.current&&l.viewport&&u&&i({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:lc(u.paddingTop),paddingEnd:lc(u.paddingBottom)}})}})}),[R4,ab]=eb(Xr),ib=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:i,hasThumb:o,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:v,onResize:w,...j}=e,b=xr(Xr,r),[S,y]=g.useState(null),N=Me(t,D=>y(D)),C=g.useRef(null),E=g.useRef(""),k=b.viewport,T=i.content-i.viewport,$=et(v),O=et(f),L=Kc(w,10);function G(D){if(C.current){const F=D.clientX-C.current.left,Y=D.clientY-C.current.top;m({x:F,y:Y})}}return g.useEffect(()=>{const D=F=>{const Y=F.target;S?.contains(Y)&&$(F,T)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[k,S,T,$]),g.useEffect(O,[i,O]),ka(S,L),ka(b.content,L),n.jsx(R4,{scope:r,scrollbar:S,hasThumb:o,onThumbChange:et(l),onThumbPointerUp:et(u),onThumbPositionChange:O,onThumbPointerDown:et(d),children:n.jsx(pe.div,{...j,ref:N,style:{position:"absolute",...j.style},onPointerDown:se(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),C.current=S.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),G(D))}),onPointerMove:se(e.onPointerMove,G),onPointerUp:se(e.onPointerUp,D=>{const F=D.target;F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),C.current=null})})})}),oc="ScrollAreaThumb",ob=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=ab(oc,e.__scopeScrollArea);return n.jsx(Mt,{present:r||o.hasThumb,children:n.jsx(T4,{ref:t,...i})})}),T4=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:i,...o}=e,l=xr(oc,r),u=ab(oc,r),{onThumbPositionChange:d}=u,f=Me(t,w=>u.onThumbChange(w)),m=g.useRef(void 0),v=Kc(()=>{m.current&&(m.current(),m.current=void 0)},100);return g.useEffect(()=>{const w=l.viewport;if(w){const j=()=>{if(v(),!m.current){const b=O4(w,d);m.current=b,d()}};return d(),w.addEventListener("scroll",j),()=>w.removeEventListener("scroll",j)}},[l.viewport,v,d]),n.jsx(pe.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:se(e.onPointerDownCapture,w=>{const b=w.target.getBoundingClientRect(),S=w.clientX-b.left,y=w.clientY-b.top;u.onThumbPointerDown({x:S,y})}),onPointerUp:se(e.onPointerUp,u.onThumbPointerUp)})});ob.displayName=oc;var nm="ScrollAreaCorner",lb=g.forwardRef((e,t)=>{const r=xr(nm,e.__scopeScrollArea),i=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&i?n.jsx(P4,{...e,ref:t}):null});lb.displayName=nm;var P4=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...i}=e,o=xr(nm,r),[l,u]=g.useState(0),[d,f]=g.useState(0),m=!!(l&&d);return ka(o.scrollbarX,()=>{const v=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(v),f(v)}),ka(o.scrollbarY,()=>{const v=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(v),u(v)}),m?n.jsx(pe.div,{...i,ref:t,style:{width:l,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function lc(e){return e?parseInt(e,10):0}function cb(e,t){const r=e/t;return isNaN(r)?0:r}function Wc(e){const t=cb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-r)*t;return Math.max(i,18)}function A4(e,t,r,i="ltr"){const o=Wc(r),l=o/2,u=t||l,d=o-u,f=r.scrollbar.paddingStart+u,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,v=r.content-r.viewport,w=i==="ltr"?[0,v]:[v*-1,0];return ub([f,m],w)(e)}function Yx(e,t,r="ltr"){const i=Wc(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-o,u=t.content-t.viewport,d=l-i,f=r==="ltr"?[0,u]:[u*-1,0],m=Xh(e,f);return ub([0,u],[0,d])(m)}function ub(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}function db(e,t){return e>0&&e<t}var O4=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},i=0;return(function o(){const l={left:e.scrollLeft,top:e.scrollTop},u=r.left!==l.left,d=r.top!==l.top;(u||d)&&t(),r=l,i=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(i)};function Kc(e,t){const r=et(e),i=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(i.current),[]),g.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(r,t)},[r,t])}function ka(e,t){const r=et(t);lt(()=>{let i=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(i),o.unobserve(e)}}},[e,r])}var hb=tb,I4=nb,D4=lb;const Qr=g.forwardRef(({className:e,children:t,...r},i)=>n.jsxs(hb,{ref:i,className:ae("relative overflow-hidden",e),...r,children:[n.jsx(I4,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(fb,{}),n.jsx(D4,{})]}));Qr.displayName=hb.displayName;const fb=g.forwardRef(({className:e,orientation:t="vertical",...r},i)=>n.jsx(tm,{ref:i,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(ob,{className:"relative flex-1 rounded-full bg-border"})}));fb.displayName=tm.displayName;function M4({customerName:e,customerPhone:t,messages:r,isTyping:i=!1}){const o=l=>new Date(l).toLocaleTimeString("es-SV",{hour:"2-digit",minute:"2-digit",hour12:!0});return n.jsxs(ie,{className:"flex flex-col h-full overflow-hidden","data-testid":"whatsapp-chat",children:[n.jsxs("div",{className:"navy-gradient px-4 py-3 flex items-center justify-between gap-3 shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(Dr,{className:"h-10 w-10 border-2 border-primary/30",children:n.jsx(Mr,{className:"bg-primary/20 text-primary font-semibold",children:e.split(" ").map(l=>l[0]).join("").slice(0,2)})}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-white truncate",children:e}),n.jsxs(ye,{variant:"outline",className:"text-primary border-primary/30 text-xs shrink-0","data-testid":"badge-ai-active",children:[n.jsx(gr,{className:"h-3 w-3 mr-1"}),"AI Active"]})]}),n.jsx("p",{className:"text-xs text-white/70",children:t})]})]}),n.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n.jsx(oe,{variant:"ghost",size:"icon",className:"text-white/70","data-testid":"button-call-customer",children:n.jsx(pn,{className:"h-5 w-5"})}),n.jsx(oe,{variant:"ghost",size:"icon",className:"text-white/70","data-testid":"button-chat-options",children:n.jsx(ny,{className:"h-5 w-5"})})]})]}),n.jsx(Qr,{className:"flex-1 p-4 wave-pattern bg-background/50",children:n.jsxs("div",{className:"space-y-3",children:[r.map(l=>n.jsx("div",{className:`flex ${l.direction==="inbound"?"justify-start":"justify-end"}`,"data-testid":`chat-message-${l.id}`,children:n.jsxs("div",{className:`max-w-[80%] rounded-lg px-3 py-2 ${l.direction==="inbound"?"bg-card border border-border":l.aiGenerated?"bg-secondary text-secondary-foreground border border-primary/20":"bg-primary text-primary-foreground"}`,children:[l.aiGenerated&&l.direction==="outbound"&&n.jsxs("div",{className:"flex items-center gap-1 mb-1 text-xs text-primary",children:[n.jsx(gr,{className:"h-3 w-3"}),n.jsx("span",{children:"AI Response"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:l.content}),n.jsx("p",{className:`text-xs mt-1 ${l.direction==="inbound"||l.aiGenerated?"text-muted-foreground":"text-primary-foreground/70"}`,children:o(l.timestamp)})]})},l.id)),i&&n.jsx("div",{className:"flex justify-end","data-testid":"typing-indicator",children:n.jsxs("div",{className:"bg-secondary text-secondary-foreground rounded-lg px-4 py-3 flex items-center gap-1.5",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary typing-dot"}),n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary typing-dot"}),n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary typing-dot"})]})})]})}),n.jsxs("div",{className:"p-3 border-t border-border bg-card shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ue,{placeholder:"Type a message...",className:"flex-1","data-testid":"input-chat-message"}),n.jsx(oe,{size:"icon",className:"gold-gradient shrink-0","data-testid":"button-send-message",children:n.jsx(ly,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground","data-testid":"chat-status-bar",children:[n.jsx(ks,{className:"h-3.5 w-3.5 text-green-500"}),n.jsx("span",{children:"Connected to WhatsApp Business API"}),n.jsxs("span",{className:"ml-auto flex items-center gap-1","data-testid":"status-live",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent pulse-gold"}),"Live"]})]})]})]})}function L4({activities:e}){const t=l=>{switch(l){case"message":return n.jsx(pt,{className:"h-4 w-4"});case"escalation":return n.jsx(dn,{className:"h-4 w-4"});case"resolved":return n.jsx(Hl,{className:"h-4 w-4"});case"order":return n.jsx(Hn,{className:"h-4 w-4"})}},r=l=>{switch(l){case"message":return"bg-primary/10 text-primary border-primary/20";case"escalation":return"bg-destructive/10 text-destructive border-destructive/20";case"resolved":return"bg-accent/10 text-accent border-accent/20";case"order":return"bg-chart-4/10 text-chart-4 border-chart-4/20"}},i=l=>{switch(l){case"message":return"bg-primary";case"escalation":return"bg-destructive";case"resolved":return"bg-accent";case"order":return"bg-chart-4"}},o=l=>{const d=new Date().getTime()-new Date(l).getTime(),f=Math.floor(d/6e4),m=Math.floor(d/36e5);return f<1?"Just now":f<60?`${f}m ago`:m<24?`${m}h ago`:new Date(l).toLocaleDateString("es-SV",{month:"short",day:"numeric"})};return n.jsxs(ie,{className:"h-full flex flex-col","data-testid":"activity-feed",children:[n.jsx(be,{className:"pb-3 shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx(Ne,{className:"text-base",children:"Activity Feed"}),n.jsxs(ye,{variant:"secondary",className:"text-xs",children:[e.length," activities"]})]})}),n.jsx(ve,{className:"flex-1 overflow-hidden p-0",children:n.jsx(Qr,{className:"h-full px-4 pb-4",children:n.jsx("div",{className:"space-y-3",children:e.map((l,u)=>n.jsxs("div",{className:"flex gap-3 items-start","data-testid":`activity-item-${l.id}`,children:[n.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[n.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${i(l.type)}`}),u<e.length-1&&n.jsx("div",{className:"w-px h-full bg-border mt-1 min-h-[40px]"})]}),n.jsxs("div",{className:"flex-1 min-w-0 pb-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("div",{className:`p-1 rounded-md border ${r(l.type)}`,"data-testid":`activity-icon-${l.type}`,children:t(l.type)}),n.jsx("span",{className:"font-medium text-sm","data-testid":`activity-customer-${l.id}`,children:l.customerName})]}),n.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap shrink-0","data-testid":`activity-time-${l.id}`,children:o(l.timestamp)})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:l.content}),l.locationName&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.locationName})]})]},l.id))})})})]})}function $4({escalations:e,onTakeOver:t}){const r=o=>{switch(o){case"high":return n.jsx(ye,{variant:"destructive",className:"text-xs",children:"High Priority"});case"medium":return n.jsx(ye,{className:"bg-chart-4/20 text-chart-4 border-chart-4/30 text-xs",children:"Medium"});case"low":return n.jsx(ye,{variant:"secondary",className:"text-xs",children:"Low"})}},i=o=>{const u=new Date().getTime()-new Date(o).getTime(),d=Math.floor(u/6e4);return d<1?"Just now":d<60?`${d} min ago`:new Date(o).toLocaleTimeString("es-SV",{hour:"2-digit",minute:"2-digit",hour12:!0})};return n.jsxs(ie,{className:"h-full flex flex-col border-destructive/20","data-testid":"escalation-list",children:[n.jsx(be,{className:"pb-3 shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-destructive/10",children:n.jsx(dn,{className:"h-4 w-4 text-destructive"})}),n.jsx(Ne,{className:"text-base",children:"Escalations"})]}),n.jsxs(ye,{variant:"destructive",className:"text-xs",children:[e.length," pending"]})]})}),n.jsx(ve,{className:"flex-1 overflow-hidden p-0",children:e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground p-4","data-testid":"escalation-empty-state",children:[n.jsx(Ai,{className:"h-8 w-8 mb-2 text-accent"}),n.jsx("p",{className:"text-sm",children:"No pending escalations"})]}):n.jsx(Qr,{className:"h-full px-4 pb-4",children:n.jsx("div",{className:"space-y-3",children:e.map(o=>n.jsxs("div",{className:"p-3 rounded-lg border border-destructive/20 bg-destructive/5 space-y-2","data-testid":`escalation-item-${o.id}`,children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:o.customerName}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o.customerPhone})]}),r(o.priority)]}),n.jsx("p",{className:"text-sm text-foreground/80 line-clamp-2",children:o.reason}),n.jsxs("div",{className:"flex items-center justify-between gap-2 pt-1",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(rr,{className:"h-3 w-3"}),i(o.timestamp)]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs(oe,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs","data-testid":`button-call-${o.id}`,children:[n.jsx(pn,{className:"h-3 w-3 mr-1"}),"Call"]}),n.jsxs(oe,{size:"sm",className:"h-7 px-2 text-xs gold-gradient",onClick:()=>t?.(o.id),"data-testid":`button-takeover-${o.id}`,children:[n.jsx(pt,{className:"h-3 w-3 mr-1"}),"Take Over"]})]})]})]},o.id))})})})]})}function mb(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var F4=[" ","Enter","ArrowUp","ArrowDown"],U4=[" ","Enter"],lo="Select",[qc,Gc,z4]=Zi(lo),[$a]=Ft(lo,[z4,Ia]),Qc=Ia(),[B4,es]=$a(lo),[V4,H4]=$a(lo),pb=e=>{const{__scopeSelect:t,children:r,open:i,defaultOpen:o,onOpenChange:l,value:u,defaultValue:d,onValueChange:f,dir:m,name:v,autoComplete:w,disabled:j,required:b,form:S}=e,y=Qc(t),[N,C]=g.useState(null),[E,k]=g.useState(null),[T,$]=g.useState(!1),O=La(m),[L=!1,G]=vr({prop:i,defaultProp:o,onChange:l}),[D,F]=vr({prop:u,defaultProp:d,onChange:f}),Y=g.useRef(null),re=N?S||!!N.closest("form"):!0,[le,Q]=g.useState(new Set),q=Array.from(le).map(ne=>ne.props.value).join(";");return n.jsx(Tf,{...y,children:n.jsxs(B4,{required:b,scope:t,trigger:N,onTriggerChange:C,valueNode:E,onValueNodeChange:k,valueNodeHasChildren:T,onValueNodeHasChildrenChange:$,contentId:nr(),value:D,onValueChange:F,open:L,onOpenChange:G,dir:O,triggerPointerDownPosRef:Y,disabled:j,children:[n.jsx(qc.Provider,{scope:t,children:n.jsx(V4,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(ne=>{Q(de=>new Set(de).add(ne))},[]),onNativeOptionRemove:g.useCallback(ne=>{Q(de=>{const H=new Set(de);return H.delete(ne),H})},[]),children:r})}),re?n.jsxs(Ub,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:w,value:D,onChange:ne=>F(ne.target.value),disabled:j,form:S,children:[D===void 0?n.jsx("option",{value:""}):null,Array.from(le)]},q):null]})})};pb.displayName=lo;var gb="SelectTrigger",vb=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:i=!1,...o}=e,l=Qc(r),u=es(gb,r),d=u.disabled||i,f=Me(t,u.onTriggerChange),m=Gc(r),v=g.useRef("touch"),[w,j,b]=zb(y=>{const N=m().filter(k=>!k.disabled),C=N.find(k=>k.value===u.value),E=Bb(N,y,C);E!==void 0&&u.onValueChange(E.value)}),S=y=>{d||(u.onOpenChange(!0),b()),y&&(u.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return n.jsx(Pf,{asChild:!0,...l,children:n.jsx(pe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Fb(u.value)?"":void 0,...o,ref:f,onClick:se(o.onClick,y=>{y.currentTarget.focus(),v.current!=="mouse"&&S(y)}),onPointerDown:se(o.onPointerDown,y=>{v.current=y.pointerType;const N=y.target;N.hasPointerCapture(y.pointerId)&&N.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:se(o.onKeyDown,y=>{const N=w.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&j(y.key),!(N&&y.key===" ")&&F4.includes(y.key)&&(S(),y.preventDefault())})})})});vb.displayName=gb;var xb="SelectValue",yb=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:o,children:l,placeholder:u="",...d}=e,f=es(xb,r),{onValueNodeHasChildrenChange:m}=f,v=l!==void 0,w=Me(t,f.onValueNodeChange);return lt(()=>{m(v)},[m,v]),n.jsx(pe.span,{...d,ref:w,style:{pointerEvents:"none"},children:Fb(f.value)?n.jsx(n.Fragment,{children:u}):l})});yb.displayName=xb;var W4="SelectIcon",wb=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:i,...o}=e;return n.jsx(pe.span,{"aria-hidden":!0,...o,ref:t,children:i||""})});wb.displayName=W4;var K4="SelectPortal",jb=e=>n.jsx(eo,{asChild:!0,...e});jb.displayName=K4;var Rs="SelectContent",bb=g.forwardRef((e,t)=>{const r=es(Rs,e.__scopeSelect),[i,o]=g.useState();if(lt(()=>{o(new DocumentFragment)},[]),!r.open){const l=i;return l?Ta.createPortal(n.jsx(Nb,{scope:e.__scopeSelect,children:n.jsx(qc.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),l):null}return n.jsx(Sb,{...e,ref:t})});bb.displayName=Rs;var Rr=10,[Nb,ts]=$a(Rs),q4="SelectContentImpl",G4=Ss("SelectContent.RemoveScroll"),Sb=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:f,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:j,collisionPadding:b,sticky:S,hideWhenDetached:y,avoidCollisions:N,...C}=e,E=es(Rs,r),[k,T]=g.useState(null),[$,O]=g.useState(null),L=Me(t,ee=>T(ee)),[G,D]=g.useState(null),[F,Y]=g.useState(null),re=Gc(r),[le,Q]=g.useState(!1),q=g.useRef(!1);g.useEffect(()=>{if(k)return Mf(k)},[k]),Df();const ne=g.useCallback(ee=>{const[je,...Ie]=re().map(tt=>tt.ref.current),[Le]=Ie.slice(-1),Ve=document.activeElement;for(const tt of ee)if(tt===Ve||(tt?.scrollIntoView({block:"nearest"}),tt===je&&$&&($.scrollTop=0),tt===Le&&$&&($.scrollTop=$.scrollHeight),tt?.focus(),document.activeElement!==Ve))return},[re,$]),de=g.useCallback(()=>ne([G,k]),[ne,G,k]);g.useEffect(()=>{le&&de()},[le,de]);const{onOpenChange:H,triggerPointerDownPosRef:W}=E;g.useEffect(()=>{if(k){let ee={x:0,y:0};const je=Le=>{ee={x:Math.abs(Math.round(Le.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(Le.pageY)-(W.current?.y??0))}},Ie=Le=>{ee.x<=10&&ee.y<=10?Le.preventDefault():k.contains(Le.target)||H(!1),document.removeEventListener("pointermove",je),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[k,H,W]),g.useEffect(()=>{const ee=()=>H(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[H]);const[M,P]=zb(ee=>{const je=re().filter(Ve=>!Ve.disabled),Ie=je.find(Ve=>Ve.ref.current===document.activeElement),Le=Bb(je,ee,Ie);Le&&setTimeout(()=>Le.ref.current.focus())}),K=g.useCallback((ee,je,Ie)=>{const Le=!q.current&&!Ie;(E.value!==void 0&&E.value===je||Le)&&(D(ee),Le&&(q.current=!0))},[E.value]),we=g.useCallback(()=>k?.focus(),[k]),V=g.useCallback((ee,je,Ie)=>{const Le=!q.current&&!Ie;(E.value!==void 0&&E.value===je||Le)&&Y(ee)},[E.value]),_e=i==="popper"?Zh:_b,Te=_e===Zh?{side:d,sideOffset:f,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:j,collisionPadding:b,sticky:S,hideWhenDetached:y,avoidCollisions:N}:{};return n.jsx(Nb,{scope:r,content:k,viewport:$,onViewportChange:O,itemRefCallback:K,selectedItem:G,onItemLeave:we,itemTextRefCallback:V,focusSelectedItem:de,selectedItemText:F,position:i,isPositioned:le,searchRef:M,children:n.jsx(Tc,{as:G4,allowPinchZoom:!0,children:n.jsx(kc,{asChild:!0,trapped:E.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:se(o,ee=>{E.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:n.jsx(Pa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:n.jsx(_e,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ee=>ee.preventDefault(),...C,...Te,onPlaced:()=>Q(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:se(C.onKeyDown,ee=>{const je=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!je&&ee.key.length===1&&P(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Le=re().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Ve=ee.target,tt=Le.indexOf(Ve);Le=Le.slice(tt+1)}setTimeout(()=>ne(Le)),ee.preventDefault()}})})})})})})});Sb.displayName=q4;var Q4="SelectItemAlignedPosition",_b=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:i,...o}=e,l=es(Rs,r),u=ts(Rs,r),[d,f]=g.useState(null),[m,v]=g.useState(null),w=Me(t,L=>v(L)),j=Gc(r),b=g.useRef(!1),S=g.useRef(!0),{viewport:y,selectedItem:N,selectedItemText:C,focusSelectedItem:E}=u,k=g.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&y&&N&&C){const L=l.trigger.getBoundingClientRect(),G=m.getBoundingClientRect(),D=l.valueNode.getBoundingClientRect(),F=C.getBoundingClientRect();if(l.dir!=="rtl"){const Ve=F.left-G.left,tt=D.left-Ve,wt=L.left-tt,yr=L.width+wt,Os=Math.max(yr,G.width),Is=window.innerWidth-Rr,rs=Xh(tt,[Rr,Math.max(Rr,Is-Os)]);d.style.minWidth=yr+"px",d.style.left=rs+"px"}else{const Ve=G.right-F.right,tt=window.innerWidth-D.right-Ve,wt=window.innerWidth-L.right-tt,yr=L.width+wt,Os=Math.max(yr,G.width),Is=window.innerWidth-Rr,rs=Xh(tt,[Rr,Math.max(Rr,Is-Os)]);d.style.minWidth=yr+"px",d.style.right=rs+"px"}const Y=j(),re=window.innerHeight-Rr*2,le=y.scrollHeight,Q=window.getComputedStyle(m),q=parseInt(Q.borderTopWidth,10),ne=parseInt(Q.paddingTop,10),de=parseInt(Q.borderBottomWidth,10),H=parseInt(Q.paddingBottom,10),W=q+ne+le+H+de,M=Math.min(N.offsetHeight*5,W),P=window.getComputedStyle(y),K=parseInt(P.paddingTop,10),we=parseInt(P.paddingBottom,10),V=L.top+L.height/2-Rr,_e=re-V,Te=N.offsetHeight/2,ee=N.offsetTop+Te,je=q+ne+ee,Ie=W-je;if(je<=V){const Ve=Y.length>0&&N===Y[Y.length-1].ref.current;d.style.bottom="0px";const tt=m.clientHeight-y.offsetTop-y.offsetHeight,wt=Math.max(_e,Te+(Ve?we:0)+tt+de),yr=je+wt;d.style.height=yr+"px"}else{const Ve=Y.length>0&&N===Y[0].ref.current;d.style.top="0px";const wt=Math.max(V,q+y.offsetTop+(Ve?K:0)+Te)+Ie;d.style.height=wt+"px",y.scrollTop=je-V+y.offsetTop}d.style.margin=`${Rr}px 0`,d.style.minHeight=M+"px",d.style.maxHeight=re+"px",i?.(),requestAnimationFrame(()=>b.current=!0)}},[j,l.trigger,l.valueNode,d,m,y,N,C,l.dir,i]);lt(()=>k(),[k]);const[T,$]=g.useState();lt(()=>{m&&$(window.getComputedStyle(m).zIndex)},[m]);const O=g.useCallback(L=>{L&&S.current===!0&&(k(),E?.(),S.current=!1)},[k,E]);return n.jsx(J4,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:O,children:n.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:n.jsx(pe.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});_b.displayName=Q4;var Y4="SelectPopperPosition",Zh=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:i="start",collisionPadding:o=Rr,...l}=e,u=Qc(r);return n.jsx(Af,{...u,...l,ref:t,align:i,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zh.displayName=Y4;var[J4,sm]=$a(Rs,{}),ef="SelectViewport",Cb=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:i,...o}=e,l=ts(ef,r),u=sm(ef,r),d=Me(t,l.onViewportChange),f=g.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(qc.Slot,{scope:r,children:n.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:se(o.onScroll,m=>{const v=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:j}=u;if(j?.current&&w){const b=Math.abs(f.current-v.scrollTop);if(b>0){const S=window.innerHeight-Rr*2,y=parseFloat(w.style.minHeight),N=parseFloat(w.style.height),C=Math.max(y,N);if(C<S){const E=C+b,k=Math.min(S,E),T=E-k;w.style.height=k+"px",w.style.bottom==="0px"&&(v.scrollTop=T>0?T:0,w.style.justifyContent="flex-end")}}}f.current=v.scrollTop})})})]})});Cb.displayName=ef;var Eb="SelectGroup",[X4,Z4]=$a(Eb),eI=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,o=nr();return n.jsx(X4,{scope:r,id:o,children:n.jsx(pe.div,{role:"group","aria-labelledby":o,...i,ref:t})})});eI.displayName=Eb;var kb="SelectLabel",Rb=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,o=Z4(kb,r);return n.jsx(pe.div,{id:o.id,...i,ref:t})});Rb.displayName=kb;var cc="SelectItem",[tI,Tb]=$a(cc),Pb=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:i,disabled:o=!1,textValue:l,...u}=e,d=es(cc,r),f=ts(cc,r),m=d.value===i,[v,w]=g.useState(l??""),[j,b]=g.useState(!1),S=Me(t,E=>f.itemRefCallback?.(E,i,o)),y=nr(),N=g.useRef("touch"),C=()=>{o||(d.onValueChange(i),d.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(tI,{scope:r,value:i,disabled:o,textId:y,isSelected:m,onItemTextChange:g.useCallback(E=>{w(k=>k||(E?.textContent??"").trim())},[]),children:n.jsx(qc.ItemSlot,{scope:r,value:i,disabled:o,textValue:v,children:n.jsx(pe.div,{role:"option","aria-labelledby":y,"data-highlighted":j?"":void 0,"aria-selected":m&&j,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:S,onFocus:se(u.onFocus,()=>b(!0)),onBlur:se(u.onBlur,()=>b(!1)),onClick:se(u.onClick,()=>{N.current!=="mouse"&&C()}),onPointerUp:se(u.onPointerUp,()=>{N.current==="mouse"&&C()}),onPointerDown:se(u.onPointerDown,E=>{N.current=E.pointerType}),onPointerMove:se(u.onPointerMove,E=>{N.current=E.pointerType,o?f.onItemLeave?.():N.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(u.onPointerLeave,E=>{E.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:se(u.onKeyDown,E=>{f.searchRef?.current!==""&&E.key===" "||(U4.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});Pb.displayName=cc;var Pi="SelectItemText",Ab=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:o,...l}=e,u=es(Pi,r),d=ts(Pi,r),f=Tb(Pi,r),m=H4(Pi,r),[v,w]=g.useState(null),j=Me(t,C=>w(C),f.onItemTextChange,C=>d.itemTextRefCallback?.(C,f.value,f.disabled)),b=v?.textContent,S=g.useMemo(()=>n.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:y,onNativeOptionRemove:N}=m;return lt(()=>(y(S),()=>N(S)),[y,N,S]),n.jsxs(n.Fragment,{children:[n.jsx(pe.span,{id:f.textId,...l,ref:j}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ta.createPortal(l.children,u.valueNode):null]})});Ab.displayName=Pi;var Ob="SelectItemIndicator",Ib=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return Tb(Ob,r).isSelected?n.jsx(pe.span,{"aria-hidden":!0,...i,ref:t}):null});Ib.displayName=Ob;var tf="SelectScrollUpButton",Db=g.forwardRef((e,t)=>{const r=ts(tf,e.__scopeSelect),i=sm(tf,e.__scopeSelect),[o,l]=g.useState(!1),u=Me(t,i.onScrollButtonChange);return lt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollTop>0;l(m)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?n.jsx(Lb,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});Db.displayName=tf;var rf="SelectScrollDownButton",Mb=g.forwardRef((e,t)=>{const r=ts(rf,e.__scopeSelect),i=sm(rf,e.__scopeSelect),[o,l]=g.useState(!1),u=Me(t,i.onScrollButtonChange);return lt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,v=Math.ceil(f.scrollTop)<m;l(v)};const f=r.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?n.jsx(Lb,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=r;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});Mb.displayName=rf;var Lb=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:i,...o}=e,l=ts("SelectScrollButton",r),u=g.useRef(null),d=Gc(r),f=g.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return g.useEffect(()=>()=>f(),[f]),lt(()=>{d().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),n.jsx(pe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:se(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:se(o.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:se(o.onPointerLeave,()=>{f()})})}),rI="SelectSeparator",$b=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return n.jsx(pe.div,{"aria-hidden":!0,...i,ref:t})});$b.displayName=rI;var nf="SelectArrow",nI=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,o=Qc(r),l=es(nf,r),u=ts(nf,r);return l.open&&u.position==="popper"?n.jsx(Of,{...o,...i,ref:t}):null});nI.displayName=nf;function Fb(e){return e===""||e===void 0}var Ub=g.forwardRef((e,t)=>{const{value:r,...i}=e,o=g.useRef(null),l=Me(t,o),u=mb(r);return g.useEffect(()=>{const d=o.current,f=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==r&&v){const w=new Event("change",{bubbles:!0});v.call(d,r),d.dispatchEvent(w)}},[u,r]),n.jsx(to,{asChild:!0,children:n.jsx("select",{...i,ref:l,defaultValue:r})})});Ub.displayName="BubbleSelect";function zb(e){const t=et(e),r=g.useRef(""),i=g.useRef(0),o=g.useCallback(u=>{const d=r.current+u;t(d),(function f(m){r.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=g.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,o,l]}function Bb(e,t,r){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let u=sI(e,Math.max(l,0));o.length===1&&(u=u.filter(m=>m!==r));const f=u.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==r?f:void 0}function sI(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var aI=pb,Vb=vb,iI=yb,oI=wb,lI=jb,Hb=bb,cI=Cb,Wb=Rb,Kb=Pb,uI=Ab,dI=Ib,qb=Db,Gb=Mb,Qb=$b;const Ot=aI,It=iI,_t=g.forwardRef(({className:e,children:t,...r},i)=>n.jsxs(Vb,{ref:i,className:ae("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(oI,{asChild:!0,children:n.jsx(af,{className:"h-4 w-4 opacity-50"})})]}));_t.displayName=Vb.displayName;const Yb=g.forwardRef(({className:e,...t},r)=>n.jsx(qb,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(YS,{className:"h-4 w-4"})}));Yb.displayName=qb.displayName;const Jb=g.forwardRef(({className:e,...t},r)=>n.jsx(Gb,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(af,{className:"h-4 w-4"})}));Jb.displayName=Gb.displayName;const Ct=g.forwardRef(({className:e,children:t,position:r="popper",...i},o)=>n.jsx(lI,{children:n.jsxs(Hb,{ref:o,className:ae("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:[n.jsx(Yb,{}),n.jsx(cI,{className:ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Jb,{})]})}));Ct.displayName=Hb.displayName;const hI=g.forwardRef(({className:e,...t},r)=>n.jsx(Wb,{ref:r,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));hI.displayName=Wb.displayName;const Ae=g.forwardRef(({className:e,children:t,...r},i)=>n.jsxs(Kb,{ref:i,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(dI,{children:n.jsx(fc,{className:"h-4 w-4"})})}),n.jsx(uI,{children:t})]}));Ae.displayName=Kb.displayName;const fI=g.forwardRef(({className:e,...t},r)=>n.jsx(Qb,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));fI.displayName=Qb.displayName;function mI({locations:e,selectedId:t,onSelect:r}){return n.jsxs(Ot,{value:t||"all",onValueChange:r,children:[n.jsxs(_t,{className:"w-[200px]","data-testid":"select-location",children:[n.jsx(mr,{className:"h-4 w-4 mr-2 text-primary"}),n.jsx(It,{placeholder:"All Locations"})]}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"all",children:"All Locations"}),e.map(i=>n.jsxs(Ae,{value:i.id,children:[i.name,i.city&&n.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",i.city,")"]})]},i.id))]})]})}function pI(){const{t:e}=ar(),[t,r]=g.useState("all"),{data:i}=kt({queryKey:["/api/locations"]}),o=(i||[]).filter(y=>y.isActive).map(y=>({id:y.id,name:y.name,city:y.city||void 0})),{data:l,isLoading:u}=kt({queryKey:["/api/dashboard/stats",t],queryFn:async()=>{const y=await fetch(`/api/dashboard/stats?locationId=${t}`);if(!y.ok)throw new Error("Failed to fetch stats");return y.json()}}),{data:d,isLoading:f}=kt({queryKey:["/api/dashboard/messages"]}),{data:m,isLoading:v}=kt({queryKey:["/api/dashboard/activities"]}),{data:w,isLoading:j}=kt({queryKey:["/api/dashboard/escalations"]}),{data:b,isLoading:S}=kt({queryKey:["/api/dashboard/performance"]});return n.jsxs("div",{className:"p-6 space-y-6 wave-pattern min-h-screen","data-testid":"dashboard-page",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[e("dashboard.title"),n.jsxs(ye,{variant:"outline",className:"text-primary border-primary/30 font-normal",children:[n.jsx(jv,{className:"h-3 w-3 mr-1"}),e("dashboard.live")]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("dashboard.subtitle")})]}),n.jsx(mI,{locations:o,selectedId:t,onSelect:r})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u?n.jsx(n.Fragment,{children:[...Array(4)].map((y,N)=>n.jsxs(ie,{className:"p-4",children:[n.jsx(yt,{className:"h-4 w-24 mb-2"}),n.jsx(yt,{className:"h-8 w-16"})]},N))}):n.jsxs(n.Fragment,{children:[n.jsx(We,{title:e("stats.totalConversations"),value:l?.totalConversations||0,subtitle:e("stats.today"),icon:pt,trend:{value:12,isPositive:!0},variant:"primary"}),n.jsx(We,{title:e("stats.activeNow"),value:l?.activeConversations||0,subtitle:e("stats.liveConversations"),icon:qr,variant:"accent"}),n.jsx(We,{title:e("stats.aiResolutionRate"),value:`${l?.aiResolutionRate||0}%`,subtitle:e("stats.withoutHumanIntervention"),icon:Ns,trend:{value:5,isPositive:!0},variant:"default"}),n.jsx(We,{title:e("stats.escalations"),value:l?.escalations||0,subtitle:e("stats.pendingReview"),icon:dn,variant:"warning"})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u?n.jsx(n.Fragment,{children:[...Array(4)].map((y,N)=>n.jsxs(ie,{className:"p-4",children:[n.jsx(yt,{className:"h-4 w-24 mb-2"}),n.jsx(yt,{className:"h-8 w-16"})]},N))}):n.jsxs(n.Fragment,{children:[n.jsx(We,{title:e("stats.avgResponseTime"),value:l?.avgResponseTime||"0s",icon:rr}),n.jsx(We,{title:e("stats.messagesProcessed"),value:l?.messagesProcessed||0,subtitle:e("stats.last24Hours"),icon:jv}),n.jsx(We,{title:e("stats.resolvedToday"),value:l?.resolvedToday||0,icon:Hl}),n.jsx(We,{title:e("stats.customerSatisfaction"),value:`${l?.customerSatisfaction||0}%`,icon:Ir,trend:{value:2,isPositive:!0}})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1 h-[500px]",children:f?n.jsxs(ie,{className:"h-full p-4",children:[n.jsx(yt,{className:"h-12 w-full mb-4"}),n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((y,N)=>n.jsx(yt,{className:`h-12 ${N%2===0?"w-3/4":"w-2/3 ml-auto"}`},N))})]}):n.jsx(M4,{customerName:"Mara Garca",customerPhone:"+503 7890-1234",messages:d||[],isTyping:!0})}),n.jsx("div",{className:"lg:col-span-1 h-[500px]",children:v?n.jsxs(ie,{className:"h-full p-4",children:[n.jsx(yt,{className:"h-6 w-32 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(6)].map((y,N)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx(yt,{className:"h-6 w-6 rounded-full shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(yt,{className:"h-4 w-24 mb-2"}),n.jsx(yt,{className:"h-3 w-full"})]})]},N))})]}):n.jsx(L4,{activities:m||[]})}),n.jsx("div",{className:"lg:col-span-1 h-[500px]",children:j?n.jsxs(ie,{className:"h-full p-4",children:[n.jsx(yt,{className:"h-6 w-32 mb-4"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((y,N)=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsx(yt,{className:"h-4 w-24 mb-2"}),n.jsx(yt,{className:"h-3 w-full mb-2"}),n.jsx(yt,{className:"h-8 w-full"})]},N))})]}):n.jsx($4,{escalations:w||[],onTakeOver:y=>console.log("Taking over:",y)})})]}),n.jsxs(ie,{"data-testid":"performance-summary",children:[n.jsx(be,{children:n.jsxs(Ne,{className:"text-base flex items-center gap-2",children:[n.jsx(Ns,{className:"h-5 w-5 text-primary"}),e("performance.title")]})}),n.jsx(ve,{children:S?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[...Array(4)].map((y,N)=>n.jsxs("div",{className:"text-center",children:[n.jsx(yt,{className:"h-9 w-20 mx-auto mb-2"}),n.jsx(yt,{className:"h-4 w-24 mx-auto"})]},N))}):n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-3xl font-bold font-mono text-primary","data-testid":"fcr-value",children:[b?.firstContactResolution.percentage||87,"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("performance.firstContactResolution")})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold font-mono text-accent","data-testid":"rating-value",children:b?.averageRating.score||4.8}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e("performance.avgRating")," (",b?.averageRating.maxScore||5,")"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-3xl font-bold font-mono","data-testid":"response-time-value",children:[b?.averageResponseTime.seconds||2.3,"s"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("performance.avgResponseTime")})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-3xl font-bold font-mono text-chart-4","data-testid":"savings-value",children:["$",b?.costSavings.amount?b.costSavings.amount>=1e3?`${(b.costSavings.amount/1e3).toFixed(1)}k`:b.costSavings.amount:"2.4k"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e("performance.costSavings")," (",e("performance.thisMonth"),")"]})]})]})})]})]})}var am="Tabs",[gI]=Ft(am,[Fc]),Xb=Fc(),[vI,im]=gI(am),Zb=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,onValueChange:o,defaultValue:l,orientation:u="horizontal",dir:d,activationMode:f="automatic",...m}=e,v=La(d),[w,j]=vr({prop:i,onChange:o,defaultProp:l});return n.jsx(vI,{scope:r,baseId:nr(),value:w,onValueChange:j,orientation:u,dir:v,activationMode:f,children:n.jsx(pe.div,{dir:v,"data-orientation":u,...m,ref:t})})});Zb.displayName=am;var eN="TabsList",tN=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:i=!0,...o}=e,l=im(eN,r),u=Xb(r);return n.jsx(tj,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:i,children:n.jsx(pe.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});tN.displayName=eN;var rN="TabsTrigger",nN=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,disabled:o=!1,...l}=e,u=im(rN,r),d=Xb(r),f=iN(u.baseId,i),m=oN(u.baseId,i),v=i===u.value;return n.jsx(rj,{asChild:!0,...d,focusable:!o,active:v,children:n.jsx(pe.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:se(e.onMouseDown,w=>{!o&&w.button===0&&w.ctrlKey===!1?u.onValueChange(i):w.preventDefault()}),onKeyDown:se(e.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&u.onValueChange(i)}),onFocus:se(e.onFocus,()=>{const w=u.activationMode!=="manual";!v&&!o&&w&&u.onValueChange(i)})})})});nN.displayName=rN;var sN="TabsContent",aN=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,forceMount:o,children:l,...u}=e,d=im(sN,r),f=iN(d.baseId,i),m=oN(d.baseId,i),v=i===d.value,w=g.useRef(v);return g.useEffect(()=>{const j=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(j)},[]),n.jsx(Mt,{present:o||v,children:({present:j})=>n.jsx(pe.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!j,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:w.current?"0s":void 0},children:j&&l})})});aN.displayName=sN;function iN(e,t){return`${e}-trigger-${t}`}function oN(e,t){return`${e}-content-${t}`}var xI=Zb,lN=tN,cN=nN,uN=aN;const co=xI,Fa=g.forwardRef(({className:e,...t},r)=>n.jsx(lN,{ref:r,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fa.displayName=lN.displayName;const mt=g.forwardRef(({className:e,...t},r)=>n.jsx(cN,{ref:r,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mt.displayName=cN.displayName;const Zt=g.forwardRef(({className:e,...t},r)=>n.jsx(uN,{ref:r,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zt.displayName=uN.displayName;function yI(){const{t:e}=ar(),[t,r]=g.useState("all"),[i,o]=g.useState(""),[l,u]=g.useState(null),[d,f]=g.useState(""),[m,v]=g.useState(!0),{data:w=[],isLoading:j}=kt({queryKey:["/api/conversations"]}),{data:b=[]}=kt({queryKey:["/api/conversations",l,"messages"],queryFn:async()=>{if(!l)return[];const D=await fetch(`/api/conversations/${l}/messages`);return D.ok?D.json():S()},enabled:!!l});function S(){const D=Date.now();return[{id:"1",direction:"inbound",content:"Hola, buenos das. Cunto cuesta lavar una carga normal?",timestamp:new Date(D-10*6e4),aiGenerated:!1},{id:"2",direction:"outbound",content:`Buenos das! El precio de una carga normal es:
 Solo lavado: $3.00
 Lavado + secado: $5.50

En qu sucursal le queda ms cerca?`,timestamp:new Date(D-9*6e4),aiGenerated:!0,intent:"pricing_inquiry",confidence:.98},{id:"3",direction:"inbound",content:"San Miguel",timestamp:new Date(D-8*6e4),aiGenerated:!1},{id:"4",direction:"outbound",content:`Perfecto! En San Miguel tenemos dos sucursales:

 Casa Matriz - Col. Ciudad Real, C. Elizabeth
 Col. Gavidia - 10 Av Norte

Ambas abren de 7am a 6pm (L-S) y 7am a 5pm (D).

Le gustara servicio de delivery? Cuesta $2 total (recogida + entrega).`,timestamp:new Date(D-7*6e4),aiGenerated:!0,intent:"branch_info",confidence:.95},{id:"5",direction:"inbound",content:"S, me interesa el delivery",timestamp:new Date(D-5*6e4),aiGenerated:!1},{id:"6",direction:"outbound",content:`Excelente! Para programar su recogida necesito:

1. Direccin completa
2. Horario preferido
3. Cantidad aproximada de ropa

Me puede proporcionar estos datos?`,timestamp:new Date(D-4*6e4),aiGenerated:!0,intent:"delivery_scheduling",confidence:.92}]}const y=w.find(D=>D.id===l),N=y?{id:y.customerId,name:y.customerName,phone:y.customerPhone,email:"cliente@email.com",preferredBranch:"San Miguel - Casa Matriz",customerSince:new Date(2024,0,15),lifetimeValue:234.5,totalOrders:18,tags:["Regular","Delivery","VIP"],recentOrders:[{id:"#1234",date:new Date(2026,1,5),amount:12.5,status:"completed"},{id:"#1198",date:new Date(2026,0,28),amount:8.25,status:"completed"},{id:"#1156",date:new Date(2026,0,15),amount:15,status:"completed"}],notes:[{id:"1",content:"Prefiere recogida despus de las 5pm",createdAt:new Date(2026,0,5),author:"Mara"},{id:"2",content:"Alrgica a fragancias fuertes - usar hipoalergnico",createdAt:new Date(2025,11,15),author:"Admin"}]}:null,C=w.filter(D=>{const F=D.customerName?.toLowerCase().includes(i.toLowerCase())||D.customerPhone?.includes(i);return t==="all"?F:t==="active"?D.status==="active"&&F:t==="resolved"?D.status==="resolved"&&F:t==="escalated"?D.status==="escalated"&&F:F}),E=(D,F="default")=>{const Y=F==="sm"?"text-xs px-1.5 py-0.5":"";switch(D){case"active":return n.jsxs(ye,{className:`bg-accent/20 text-accent border-accent/30 ${Y}`,children:[n.jsx(gr,{className:"h-3 w-3 mr-1"}),"AI Active"]});case"resolved":return n.jsxs(ye,{variant:"secondary",className:Y,children:[n.jsx(Hl,{className:"h-3 w-3 mr-1"}),"Resolved"]});case"escalated":return n.jsxs(ye,{variant:"destructive",className:Y,children:[n.jsx(dn,{className:"h-3 w-3 mr-1"}),"Escalated"]});case"human_active":return n.jsxs(ye,{className:`bg-primary/20 text-primary border-primary/30 ${Y}`,children:[n.jsx(Kl,{className:"h-3 w-3 mr-1"}),"Human Active"]});default:return null}},k=D=>{const F=new Date,Y=new Date(D),re=F.getTime()-Y.getTime(),le=Math.floor(re/6e4);if(le<1)return"Just now";if(le<60)return`${le}m ago`;const Q=Math.floor(le/60);return Q<24?`${Q}h ago`:Y.toLocaleDateString("es-SV",{month:"short",day:"numeric"})},T=D=>new Date(D).toLocaleTimeString("es-SV",{hour:"2-digit",minute:"2-digit",hour12:!0}),$=()=>{d.trim()&&(console.log("Sending message:",d),f(""))},O=()=>{console.log("Taking over conversation:",l)},L=()=>{console.log("Escalating conversation:",l)},G=()=>{console.log("Resolving conversation:",l)};return n.jsxs("div",{className:"h-[calc(100vh-65px)] flex","data-testid":"conversations-page",children:[n.jsxs("div",{className:"w-80 border-r border-border flex flex-col bg-card shrink-0",children:[n.jsxs("div",{className:"p-4 border-b border-border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h1",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(pt,{className:"h-5 w-5 text-primary"}),"Conversations"]}),n.jsx(ye,{variant:"secondary",children:C.length})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{placeholder:"Search...",className:"pl-9 h-9",value:i,onChange:D=>o(D.target.value),"data-testid":"input-search-conversations"})]}),n.jsx(co,{value:t,onValueChange:r,className:"w-full",children:n.jsxs(Fa,{className:"w-full grid grid-cols-4 h-8",children:[n.jsx(mt,{value:"all",className:"text-xs px-2",children:"All"}),n.jsx(mt,{value:"active",className:"text-xs px-2",children:"Active"}),n.jsx(mt,{value:"escalated",className:"text-xs px-2",children:"Escalated"}),n.jsx(mt,{value:"resolved",className:"text-xs px-2",children:"Resolved"})]})})]}),n.jsx(Qr,{className:"flex-1",children:j?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading..."}):C.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(pt,{className:"h-10 w-10 mx-auto mb-3 text-muted-foreground/50"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations"})]}):n.jsx("div",{className:"divide-y divide-border",children:C.map(D=>n.jsx("div",{className:`p-3 cursor-pointer transition-colors ${l===D.id?"bg-primary/5 border-l-2 border-primary":"hover:bg-muted/50"}`,onClick:()=>u(D.id),"data-testid":`conversation-item-${D.id}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Dr,{className:"h-10 w-10 shrink-0",children:n.jsx(Mr,{className:"bg-primary/10 text-primary text-sm",children:D.customerName?.split(" ").map(F=>F[0]).join("").slice(0,2)||"??"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("span",{className:"font-medium text-sm truncate",children:D.customerName}),n.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:k(D.lastMessageAt)})]}),n.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:D.lastMessage||D.customerPhone}),n.jsx("div",{className:"flex items-center gap-2 mt-1.5",children:E(D.status,"sm")})]})]})},D.id))})})]}),l&&y?n.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[n.jsxs("div",{className:"navy-gradient px-4 py-3 flex items-center justify-between gap-3 shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(Dr,{className:"h-10 w-10 border-2 border-primary/30",children:n.jsx(Mr,{className:"bg-primary/20 text-primary font-semibold",children:y.customerName.split(" ").map(D=>D[0]).join("").slice(0,2)})}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-white truncate",children:y.customerName}),E(y.status)]}),n.jsxs("p",{className:"text-xs text-white/70 flex items-center gap-2",children:[y.customerPhone,y.branchName&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsx("span",{children:y.branchName})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n.jsx(oe,{variant:"ghost",size:"icon",className:"text-white/70 hover:text-white hover:bg-white/10",children:n.jsx(pn,{className:"h-5 w-5"})}),n.jsx(oe,{variant:"ghost",size:"icon",className:"text-white/70 hover:text-white hover:bg-white/10",onClick:()=>v(!m),children:n.jsx(bh,{className:"h-5 w-5"})}),n.jsxs(Bc,{children:[n.jsx(Vc,{asChild:!0,children:n.jsx(oe,{variant:"ghost",size:"icon",className:"text-white/70 hover:text-white hover:bg-white/10",children:n.jsx(ny,{className:"h-5 w-5"})})}),n.jsxs(oo,{align:"end",children:[n.jsx(Zf,{children:"Actions"}),n.jsx(Hc,{}),n.jsxs(Kr,{children:[n.jsx(bh,{className:"h-4 w-4 mr-2"}),"View Profile"]}),n.jsxs(Kr,{children:[n.jsx(qS,{className:"h-4 w-4 mr-2"}),"Transfer"]}),n.jsxs(Kr,{className:"text-destructive",children:[n.jsx(dn,{className:"h-4 w-4 mr-2"}),"Block Customer"]})]})]})]})]}),n.jsx(Qr,{className:"flex-1 p-4 wave-pattern bg-background/50",children:n.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4 my-4",children:[n.jsx(Ze,{className:"flex-1"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Today"}),n.jsx(Ze,{className:"flex-1"})]}),b.map(D=>n.jsx("div",{className:`flex ${D.direction==="inbound"?"justify-start":"justify-end"}`,children:n.jsxs("div",{className:`max-w-[75%] rounded-lg px-4 py-2.5 ${D.direction==="inbound"?"bg-card border border-border":D.aiGenerated?"bg-secondary border border-primary/20":"bg-primary text-primary-foreground"}`,children:[D.aiGenerated&&D.direction==="outbound"&&n.jsxs("div",{className:"flex items-center gap-1 mb-1.5 text-xs text-primary",children:[n.jsx(Dl,{className:"h-3 w-3"}),n.jsx("span",{children:"AI Response"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:D.content}),n.jsxs("div",{className:`flex items-center justify-between gap-3 mt-1.5 ${D.direction==="inbound"||D.aiGenerated?"text-muted-foreground":"text-primary-foreground/70"}`,children:[n.jsx("span",{className:"text-xs",children:T(D.timestamp)}),D.intent&&D.confidence&&n.jsxs("span",{className:"text-xs opacity-70",children:[D.intent," (",Math.round(D.confidence*100),"%)"]})]})]})},D.id))]})}),n.jsxs("div",{className:"p-3 border-t border-border bg-card shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-2 max-w-3xl mx-auto",children:[n.jsx(Ue,{placeholder:"Type a message...",className:"flex-1",value:d,onChange:D=>f(D.target.value),onKeyDown:D=>D.key==="Enter"&&!D.shiftKey&&$()}),n.jsx(oe,{size:"icon",className:"gold-gradient shrink-0",onClick:$,children:n.jsx(ly,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 mt-3 max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(ks,{className:"h-3.5 w-3.5 text-green-500"}),n.jsx("span",{children:"Connected to WhatsApp Business API"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[y.status==="active"&&y.aiHandled&&n.jsxs(oe,{variant:"outline",size:"sm",className:"h-8",onClick:O,children:[n.jsx(Kl,{className:"h-3.5 w-3.5 mr-1.5"}),"Take Over"]}),y.status!=="resolved"&&n.jsxs(n.Fragment,{children:[n.jsxs(oe,{variant:"outline",size:"sm",className:"h-8 text-destructive hover:text-destructive",onClick:L,children:[n.jsx(dn,{className:"h-3.5 w-3.5 mr-1.5"}),"Escalate"]}),n.jsxs(oe,{size:"sm",className:"h-8 bg-accent hover:bg-accent/90",onClick:G,children:[n.jsx(Hl,{className:"h-3.5 w-3.5 mr-1.5"}),"Mark Resolved"]})]})]})]})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/30",children:n.jsxs("div",{className:"text-center",children:[n.jsx(pt,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground/30"}),n.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Select a conversation"}),n.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Choose from the list to view messages"})]})}),l&&m&&N&&n.jsxs("div",{className:"w-80 border-l border-border bg-card shrink-0 flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-border",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Dr,{className:"h-12 w-12",children:n.jsx(Mr,{className:"bg-primary/10 text-primary text-lg",children:N.name.split(" ").map(D=>D[0]).join("").slice(0,2)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:N.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:N.phone})]})]})}),n.jsx(Qr,{className:"flex-1",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Contact"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(ks,{className:"h-4 w-4 text-green-500"}),N.phone]}),N.email&&n.jsx("p",{className:"text-muted-foreground",children:N.email}),N.preferredBranch&&n.jsxs("p",{className:"text-muted-foreground",children:[" ",N.preferredBranch]})]})]}),n.jsx(Ze,{}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-3",children:"Statistics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-2 rounded-lg bg-muted/50 text-center",children:[n.jsx("p",{className:"text-lg font-semibold",children:N.totalOrders}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-muted/50 text-center",children:[n.jsxs("p",{className:"text-lg font-semibold",children:["$",N.lifetimeValue.toFixed(2)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lifetime Value"})]})]}),N.customerSince&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[n.jsx(rr,{className:"h-3 w-3"}),"Customer since ",N.customerSince.toLocaleDateString("es-SV",{month:"short",year:"numeric"})]})]}),n.jsx(Ze,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2 flex items-center gap-1",children:[n.jsx(lf,{className:"h-3 w-3"}),"Tags"]}),n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[N.tags.map(D=>n.jsx(ye,{variant:"secondary",className:"text-xs",children:D},D)),n.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:"+ Add"})]})]}),n.jsx(Ze,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2 flex items-center gap-1",children:[n.jsx(un,{className:"h-3 w-3"}),"Recent Orders"]}),n.jsx("div",{className:"space-y-2",children:N.recentOrders.map(D=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/30 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:D.id}),n.jsx("p",{className:"text-xs text-muted-foreground",children:D.date.toLocaleDateString("es-SV",{month:"short",day:"numeric"})})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium",children:["$",D.amount.toFixed(2)]}),n.jsx(ye,{variant:"secondary",className:"text-xs",children:D.status})]})]},D.id))}),n.jsxs(oe,{variant:"ghost",size:"sm",className:"w-full mt-2 text-xs",children:["View All Orders",n.jsx(mc,{className:"h-3 w-3 ml-1"})]})]}),n.jsx(Ze,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2 flex items-center gap-1",children:[n.jsx(of,{className:"h-3 w-3"}),"Notes"]}),n.jsx("div",{className:"space-y-2",children:N.notes.map(D=>n.jsxs("div",{className:"p-2 rounded-lg bg-muted/30 text-sm",children:[n.jsx("p",{className:"text-foreground",children:D.content}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[D.createdAt.toLocaleDateString("es-SV",{month:"short",day:"numeric"})," - ",D.author]})]},D.id))}),n.jsx(oe,{variant:"ghost",size:"sm",className:"w-full mt-2 text-xs",children:"+ Add Note"})]})]})})]})]})}const hn=g.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:ae("w-full caption-bottom text-sm",e),...t})}));hn.displayName="Table";const Kn=g.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:ae("[&_tr]:border-b",e),...t}));Kn.displayName="TableHeader";const fn=g.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:ae("[&_tr:last-child]:border-0",e),...t}));fn.displayName="TableBody";const wI=g.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));wI.displayName="TableFooter";const Dt=g.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Dt.displayName="TableRow";const Fe=g.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableHead";const De=g.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));De.displayName="TableCell";const jI=g.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:ae("mt-4 text-sm text-muted-foreground",e),...t}));jI.displayName="TableCaption";const bs=h0,bI=f0,dN=g.forwardRef(({className:e,...t},r)=>n.jsx(Pc,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dN.displayName=Pc.displayName;const qn=g.forwardRef(({className:e,children:t,...r},i)=>n.jsxs(bI,{children:[n.jsx(dN,{}),n.jsxs(Ac,{ref:i,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(m0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Yn,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qn.displayName=Ac.displayName;const Gn=({className:e,...t})=>n.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gn.displayName="DialogHeader";const Bl=({className:e,...t})=>n.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bl.displayName="DialogFooter";const Qn=g.forwardRef(({className:e,...t},r)=>n.jsx(Oc,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Qn.displayName=Oc.displayName;const NI=g.forwardRef(({className:e,...t},r)=>n.jsx(Ic,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));NI.displayName=Ic.displayName;function SI(){const{t:e}=ar(),[t,r]=g.useState(""),[i,o]=g.useState("all"),[l,u]=g.useState("recent"),[d,f]=g.useState(1),[m,v]=g.useState(null),[w,j]=g.useState(!1),b=10,{data:S=[],isLoading:y}=kt({queryKey:["/api/customers"]}),N=F=>({...F,lifetimeValue:F.lifetimeValue||F.totalOrders*13.5,avgOrderValue:13.35,orderFrequency:"2x/month",tags:F.tags||["Regular","Delivery"],recentOrders:[{id:"#1234",date:new Date(2026,1,5),amount:12.5,status:"completed",branch:"San Miguel"},{id:"#1198",date:new Date(2026,0,28),amount:8.25,status:"completed",branch:"San Miguel"},{id:"#1156",date:new Date(2026,0,15),amount:15,status:"completed",branch:"San Miguel"},{id:"#1089",date:new Date(2026,0,2),amount:9.75,status:"completed",branch:"Santa Ana"}],conversationHistory:[{id:"conv-1",date:new Date(2026,1,8),topic:"Pricing inquiry",resolution:"Resolved",handler:"AI"},{id:"conv-2",date:new Date(2026,1,1),topic:"Order status check",resolution:"Resolved",handler:"AI"},{id:"conv-3",date:new Date(2026,0,20),topic:"Complaint (damage)",resolution:"Escalated  Resolved",handler:"Human"}],notes:[{id:"1",content:"Compensated $15 for damaged shirt",createdAt:new Date(2026,0,20),author:"Admin"},{id:"2",content:"Prefers pickup after 5pm",createdAt:new Date(2026,0,5),author:"Mara"},{id:"3",content:"Allergic to strong fragrances, use hypoallergenic",createdAt:new Date(2025,11,15),author:"Admin"}]}),C=F=>{v(N(F)),j(!0)},E=S.filter(F=>{const Y=F.name?.toLowerCase().includes(t.toLowerCase())||F.phone?.includes(t)||F.email?.toLowerCase().includes(t.toLowerCase()),re=i==="all"||F.preferredBranch===i;return Y&&re}).sort((F,Y)=>{switch(l){case"name":return(F.name||"").localeCompare(Y.name||"");case"orders":return(Y.totalOrders||0)-(F.totalOrders||0);case"value":return(Y.lifetimeValue||0)-(F.lifetimeValue||0);default:return new Date(Y.lastOrderDate||0).getTime()-new Date(F.lastOrderDate||0).getTime()}}),k=Math.ceil(E.length/b),T=E.slice((d-1)*b,d*b),$=S.length,O=S.filter(F=>F.isVip).length,L=S.reduce((F,Y)=>F+(Y.lifetimeValue||Y.totalOrders*13.5),0),G=F=>{if(!F)return"-";const Y=new Date(F),le=new Date().getTime()-Y.getTime(),Q=Math.floor(le/(1e3*60*60*24));return Q===0?"Today":Q===1?"Yesterday":Q<7?`${Q}d ago`:Y.toLocaleDateString("es-SV",{day:"numeric",month:"short"})},D=F=>F?new Date(F).toLocaleDateString("es-SV",{day:"numeric",month:"short",year:"numeric"}):"-";return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"customers-page",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(qr,{className:"h-6 w-6 text-primary"}),"Customers"]}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your customer database"})]}),n.jsxs(oe,{className:"gold-gradient","data-testid":"button-add-customer",children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Add Customer"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(We,{title:"Total Customers",value:$.toString(),icon:qr,trend:{value:12,isPositive:!0}}),n.jsx(We,{title:"VIP Customers",value:O.toString(),icon:Ir,variant:"primary"}),n.jsx(We,{title:"Avg. Order Value",value:"$13.35",icon:Ns,variant:"accent"}),n.jsx(We,{title:"Lifetime Value",value:`$${(L/1e3).toFixed(1)}k`,icon:Ar})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{placeholder:"Search by name, phone, or email...",className:"pl-9",value:t,onChange:F=>r(F.target.value),"data-testid":"input-search-customers"})]}),n.jsxs(Ot,{value:i,onValueChange:o,children:[n.jsxs(_t,{className:"w-[180px]",children:[n.jsx(mr,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx(It,{placeholder:"All Branches"})]}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"all",children:"All Branches"}),n.jsx(Ae,{value:"San Miguel",children:"San Miguel"}),n.jsx(Ae,{value:"Santa Ana",children:"Santa Ana"}),n.jsx(Ae,{value:"Lourdes Coln",children:"Lourdes Coln"}),n.jsx(Ae,{value:"Usulutn",children:"Usulutn"})]})]}),n.jsxs(Ot,{value:l,onValueChange:u,children:[n.jsx(_t,{className:"w-[150px]",children:n.jsx(It,{placeholder:"Sort by"})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"recent",children:"Most Recent"}),n.jsx(Ae,{value:"name",children:"Name A-Z"}),n.jsx(Ae,{value:"orders",children:"Most Orders"}),n.jsx(Ae,{value:"value",children:"Highest Value"})]})]})]}),n.jsx(ie,{children:n.jsx(ve,{className:"p-0",children:y?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading..."}):E.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(qr,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:"No customers found"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your search or filters"})]}):n.jsxs(n.Fragment,{children:[n.jsxs(hn,{children:[n.jsx(Kn,{children:n.jsxs(Dt,{children:[n.jsx(Fe,{className:"w-[250px]",children:"Customer"}),n.jsx(Fe,{children:"Phone"}),n.jsx(Fe,{children:"Branch"}),n.jsx(Fe,{className:"text-center",children:"Orders"}),n.jsx(Fe,{className:"text-right",children:"Value"}),n.jsx(Fe,{children:"Last Contact"}),n.jsx(Fe,{className:"w-[50px]"})]})}),n.jsx(fn,{children:T.map(F=>n.jsxs(Dt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>C(F),"data-testid":`customer-row-${F.id}`,children:[n.jsx(De,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Dr,{className:"h-9 w-9",children:n.jsx(Mr,{className:"bg-primary/10 text-primary text-sm",children:F.name?.split(" ").map(Y=>Y[0]).join("").slice(0,2)||"??"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:F.name}),F.isVip&&n.jsxs(ye,{className:"bg-primary/20 text-primary border-0 text-xs px-1.5",children:[n.jsx(Ir,{className:"h-3 w-3 mr-0.5"}),"VIP"]})]}),F.email&&n.jsx("p",{className:"text-xs text-muted-foreground",children:F.email})]})]})}),n.jsx(De,{children:n.jsx("span",{className:"text-sm",children:F.phone})}),n.jsx(De,{children:n.jsx("span",{className:"text-sm text-muted-foreground",children:F.preferredBranch||"San Miguel"})}),n.jsx(De,{className:"text-center",children:n.jsx(ye,{variant:"secondary",children:F.totalOrders||0})}),n.jsxs(De,{className:"text-right font-medium",children:["$",(F.lifetimeValue||F.totalOrders*13.5).toFixed(2)]}),n.jsx(De,{children:n.jsx("span",{className:"text-sm text-muted-foreground",children:G(F.lastOrderDate)})}),n.jsx(De,{children:n.jsxs(Bc,{children:[n.jsx(Vc,{asChild:!0,onClick:Y=>Y.stopPropagation(),children:n.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:n.jsx(XS,{className:"h-4 w-4"})})}),n.jsxs(oo,{align:"end",children:[n.jsxs(Kr,{onClick:()=>C(F),children:[n.jsx(bh,{className:"h-4 w-4 mr-2"}),"View Profile"]}),n.jsxs(Kr,{children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),"Send Message"]}),n.jsxs(Kr,{children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),"Call"]}),n.jsx(Hc,{}),n.jsxs(Kr,{children:[n.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})})]},F.id))})]}),n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(d-1)*b+1,"-",Math.min(d*b,E.length)," of ",E.length," customers"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>f(F=>Math.max(1,F-1)),disabled:d===1,children:[n.jsx(ty,{className:"h-4 w-4 mr-1"}),"Previous"]}),n.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>f(F=>Math.min(k,F+1)),disabled:d===k,children:["Next",n.jsx(mc,{className:"h-4 w-4 ml-1"})]})]})]})]})})}),n.jsx(bs,{open:w,onOpenChange:j,children:n.jsxs(qn,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsx(Gn,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Qn,{className:"flex items-center gap-3",children:[n.jsx(Dr,{className:"h-12 w-12",children:n.jsx(Mr,{className:"bg-primary/10 text-primary text-lg",children:m?.name?.split(" ").map(F=>F[0]).join("").slice(0,2)||"??"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[m?.name,m?.isVip&&n.jsxs(ye,{className:"bg-primary/20 text-primary border-0",children:[n.jsx(Ir,{className:"h-3 w-3 mr-1"}),"VIP"]})]}),n.jsx("p",{className:"text-sm font-normal text-muted-foreground",children:m?.phone})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(oe,{variant:"outline",size:"sm",children:[n.jsx(Wl,{className:"h-4 w-4 mr-1"}),"Edit"]})})]})}),n.jsx(Qr,{className:"flex-1 -mx-6 px-6",children:m&&n.jsxs("div",{className:"space-y-6 pb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsx(Ne,{className:"text-sm font-medium",children:"Contact Information"})}),n.jsxs(ve,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ks,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{children:m.phone})]}),m.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ay,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:m.email})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:m.preferredBranch||"San Miguel"})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(oe,{size:"sm",className:"flex-1",children:[n.jsx(pt,{className:"h-4 w-4 mr-1"}),"WhatsApp"]}),n.jsxs(oe,{size:"sm",variant:"outline",className:"flex-1",children:[n.jsx(pn,{className:"h-4 w-4 mr-1"}),"Call"]})]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsx(Ne,{className:"text-sm font-medium",children:"Statistics"})}),n.jsxs(ve,{children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:m.totalOrders}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Orders"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:["$",m.lifetimeValue?.toFixed(2)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lifetime Value"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:["$",m.avgOrderValue.toFixed(2)]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg. Order"})]})]}),n.jsx(Ze,{className:"my-4"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:D(m.createdAt)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"First Order"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:G(m.lastOrderDate)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Order"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:m.orderFrequency}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Frequency"})]})]})]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(lf,{className:"h-4 w-4"}),"Tags"]})}),n.jsx(ve,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.tags?.map(F=>n.jsx(ye,{variant:"secondary",children:F},F)),n.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:"+ Add Tag"})]})})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(un,{className:"h-4 w-4"}),"Order History"]})}),n.jsx(ve,{className:"p-0",children:n.jsxs(hn,{children:[n.jsx(Kn,{children:n.jsxs(Dt,{children:[n.jsx(Fe,{children:"Order"}),n.jsx(Fe,{children:"Date"}),n.jsx(Fe,{children:"Branch"}),n.jsx(Fe,{className:"text-right",children:"Amount"}),n.jsx(Fe,{children:"Status"})]})}),n.jsx(fn,{children:m.recentOrders.map(F=>n.jsxs(Dt,{children:[n.jsx(De,{className:"font-medium",children:F.id}),n.jsx(De,{children:D(F.date)}),n.jsx(De,{children:F.branch}),n.jsxs(De,{className:"text-right",children:["$",F.amount.toFixed(2)]}),n.jsx(De,{children:n.jsx(ye,{variant:"secondary",className:"capitalize",children:F.status})})]},F.id))})]})})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(pt,{className:"h-4 w-4"}),"Conversation History"]})}),n.jsx(ve,{className:"p-0",children:n.jsxs(hn,{children:[n.jsx(Kn,{children:n.jsxs(Dt,{children:[n.jsx(Fe,{children:"Date"}),n.jsx(Fe,{children:"Topic"}),n.jsx(Fe,{children:"Resolution"}),n.jsx(Fe,{children:"Handled By"})]})}),n.jsx(fn,{children:m.conversationHistory.map(F=>n.jsxs(Dt,{children:[n.jsx(De,{children:D(F.date)}),n.jsx(De,{children:F.topic}),n.jsx(De,{children:n.jsx(ye,{variant:F.resolution.includes("Escalated")?"destructive":"secondary",children:F.resolution})}),n.jsx(De,{children:n.jsx(ye,{variant:"outline",children:F.handler})})]},F.id))})]})})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ne,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(of,{className:"h-4 w-4"}),"Notes"]}),n.jsxs(oe,{variant:"ghost",size:"sm",children:[n.jsx(Wn,{className:"h-4 w-4 mr-1"}),"Add Note"]})]})}),n.jsx(ve,{className:"space-y-3",children:m.notes.map(F=>n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsx("p",{className:"text-sm",children:F.content}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[D(F.createdAt)," - ",F.author]})]},F.id))})]})]})})]})})]})}var om="Switch",[_I]=Ft(om),[CI,EI]=_I(om),hN=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:i,checked:o,defaultChecked:l,required:u,disabled:d,value:f="on",onCheckedChange:m,form:v,...w}=e,[j,b]=g.useState(null),S=Me(t,k=>b(k)),y=g.useRef(!1),N=j?v||!!j.closest("form"):!0,[C=!1,E]=vr({prop:o,defaultProp:l,onChange:m});return n.jsxs(CI,{scope:r,checked:C,disabled:d,children:[n.jsx(pe.button,{type:"button",role:"switch","aria-checked":C,"aria-required":u,"data-state":pN(C),"data-disabled":d?"":void 0,disabled:d,value:f,...w,ref:S,onClick:se(e.onClick,k=>{E(T=>!T),N&&(y.current=k.isPropagationStopped(),y.current||k.stopPropagation())})}),N&&n.jsx(kI,{control:j,bubbles:!y.current,name:i,value:f,checked:C,required:u,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});hN.displayName=om;var fN="SwitchThumb",mN=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...i}=e,o=EI(fN,r);return n.jsx(pe.span,{"data-state":pN(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})});mN.displayName=fN;var kI=e=>{const{control:t,checked:r,bubbles:i=!0,...o}=e,l=g.useRef(null),u=mb(r),d=jw(t);return g.useEffect(()=>{const f=l.current,m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&w){const j=new Event("click",{bubbles:i});w.call(f,r),f.dispatchEvent(j)}},[u,r,i]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pN(e){return e?"checked":"unchecked"}var gN=hN,RI=mN;const fr=g.forwardRef(({className:e,...t},r)=>n.jsx(gN,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(RI,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fr.displayName=gN.displayName;const mn=g.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));mn.displayName="Textarea";function TI(){const{t:e}=ar(),[t,r]=g.useState(null),[i,o]=g.useState(!1),[l,u]=g.useState(!1),[d,f]=g.useState({}),{data:m=[],isLoading:v}=kt({queryKey:["/api/locations"]}),w=O=>{const L=new Date,G=L.getHours();return L.getDay()===0?G>=7&&G<17:G>=7&&G<18},j=O=>{r(O),f(O),o(!0),u(!1)},b=()=>{o(!1),r(null),u(!1),f({})},S=()=>{u(!0)},y=()=>{console.log("Saving location:",d),u(!1)},N=()=>{f(t||{}),u(!1)},C=O=>`$${O.toFixed(2)}`,E=m.filter(O=>O.isActive!==!1),k=m.filter(O=>O.deliveryAvailable),T=m.length>0?(m.reduce((O,L)=>O+(L.rating||4.5),0)/m.length).toFixed(1):"4.8",$={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"};return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"locations-page",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:e("locations.title")||"Sucursales"}),n.jsx("p",{className:"text-muted-foreground",children:e("locations.subtitle")||"Gestiona tus sucursales y horarios"})]}),n.jsxs(oe,{className:"gold-gradient","data-testid":"button-add-location",children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),e("locations.addLocation")||"Nueva Sucursal"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(We,{title:"Total Sucursales",value:m.length.toString(),icon:mr}),n.jsx(We,{title:"Con Delivery",value:k.length.toString(),icon:Oi,variant:"accent"}),n.jsx(We,{title:"Activas Ahora",value:E.filter(O=>w()).length.toString(),icon:rr,variant:"primary"}),n.jsx(We,{title:"Rating Promedio",value:T,icon:Ir,trend:{value:2,isPositive:!0}})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Todas las Sucursales"})]}),n.jsxs(ye,{variant:"secondary",children:[m.length," sucursales"]})]})}),n.jsx(ve,{className:"p-0",children:v?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:e("common.loading")}):n.jsx(Qr,{className:"h-[calc(100vh-380px)]",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 p-4",children:m.map(O=>n.jsx(ie,{className:"border hover-elevate cursor-pointer",onClick:()=>j(O),"data-testid":`location-item-${O.id}`,children:n.jsxs(ve,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold",children:O.name}),O.isHeadquarters&&n.jsx(ye,{variant:"outline",className:"text-xs",children:"Casa Matriz"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:O.city})]}),n.jsx(ye,{className:w()?"bg-accent/20 text-accent border-accent/30":"bg-muted text-muted-foreground",children:w()?"Abierto":"Cerrado"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:O.address}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(pn,{className:"h-3 w-3"}),n.jsx("span",{className:"truncate",children:O.phone})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ir,{className:"h-3 w-3 text-primary"}),n.jsx("span",{className:"font-medium",children:O.rating||4.8})]}),n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(un,{className:"h-3 w-3"}),n.jsxs("span",{children:[O.stats?.ordersToday||0," hoy"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx(pt,{className:"h-3 w-3"}),n.jsxs("span",{children:[O.stats?.conversationsToday||0," chats"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[O.deliveryAvailable&&n.jsxs(ye,{variant:"outline",className:"text-xs",children:[n.jsx(Oi,{className:"h-3 w-3 mr-1"}),"Delivery"]}),n.jsx(ye,{variant:"outline",className:O.isActive!==!1?"text-accent border-accent/30":"text-muted-foreground",children:O.isActive!==!1?"Activa":"Inactiva"})]})]})},O.id))})})})]}),n.jsx(bs,{open:i,onOpenChange:o,children:n.jsxs(qn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Gn,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Qn,{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5 text-primary"}),t?.name,t?.isHeadquarters&&n.jsx(ye,{variant:"outline",className:"ml-2",children:"Casa Matriz"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[l?n.jsxs(n.Fragment,{children:[n.jsx(oe,{variant:"outline",size:"sm",onClick:N,children:"Cancelar"}),n.jsxs(oe,{size:"sm",onClick:y,children:[n.jsx(oy,{className:"h-4 w-4 mr-1"}),"Guardar"]})]}):n.jsxs(oe,{variant:"outline",size:"sm",onClick:S,children:[n.jsx(wh,{className:"h-4 w-4 mr-1"}),"Editar"]}),n.jsx(oe,{variant:"ghost",size:"icon",onClick:b,children:n.jsx(Yn,{className:"h-4 w-4"})})]})]})}),t&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-primary",children:t.stats?.ordersToday||0}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Pedidos Hoy"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-accent",children:C(t.stats?.revenueToday||0)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Ingresos Hoy"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold",children:t.stats?.conversationsToday||0}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Conversaciones"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold flex items-center justify-center gap-1",children:[n.jsx(Ir,{className:"h-4 w-4 text-primary"}),t.stats?.avgRating||t.rating||4.8]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.stats?.totalReviews||0," reseas"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(i_,{className:"h-4 w-4"}),"Informacin"]})}),n.jsxs(ve,{className:"space-y-4",children:[l?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Nombre"}),n.jsx(Ue,{value:d.name||"",onChange:O=>f({...d,name:O.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Direccin"}),n.jsx(mn,{value:d.address||"",onChange:O=>f({...d,address:O.target.value}),rows:2})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Ciudad"}),n.jsx(Ue,{value:d.city||"",onChange:O=>f({...d,city:O.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Telfono"}),n.jsx(Ue,{value:d.phone||"",onChange:O=>f({...d,phone:O.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"WhatsApp"}),n.jsx(Ue,{value:d.whatsapp||"",onChange:O=>f({...d,whatsapp:O.target.value})})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(mr,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:t.address}),n.jsx("div",{className:"text-sm text-muted-foreground",children:t.city})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:t.phone})]}),t.whatsapp&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:t.whatsapp})]})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Oi,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Delivery Disponible"})]}),l?n.jsx(fr,{checked:d.deliveryAvailable||!1,onCheckedChange:O=>f({...d,deliveryAvailable:O})}):n.jsx(ye,{variant:t.deliveryAvailable?"default":"outline",children:t.deliveryAvailable?"S":"No"})]}),(t.deliveryAvailable||d.deliveryAvailable)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{className:"text-xs text-muted-foreground",children:"Zona de Delivery"}),l?n.jsx(mn,{value:d.deliveryZone||"",onChange:O=>f({...d,deliveryZone:O.target.value}),placeholder:"Describe las zonas de cobertura...",rows:2}):n.jsx("p",{className:"text-sm p-2 bg-muted/50 rounded",children:t.deliveryZone||"Zona centro y colonias cercanas"})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Estado de la Sucursal"}),l?n.jsx(fr,{checked:d.isActive!==!1,onCheckedChange:O=>f({...d,isActive:O})}):n.jsx(ye,{variant:t.isActive!==!1?"default":"secondary",children:t.isActive!==!1?"Activa":"Inactiva"})]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),"Horarios de Atencin"]})}),n.jsx(ve,{children:n.jsx(hn,{children:n.jsx(fn,{children:Object.entries($).map(([O,L])=>n.jsxs(Dt,{children:[n.jsx(De,{className:"font-medium py-2",children:L}),n.jsx(De,{className:"text-right py-2",children:l?n.jsx(Ue,{className:"w-32 h-8 text-sm text-right",value:d.hours?.[O]||"7:00 - 18:00",onChange:G=>f({...d,hours:{...d.hours,[O]:G.target.value}})}):n.jsx("span",{className:"text-muted-foreground",children:t.hours?.[O]||"7:00 - 18:00"})})]},O))})})})]})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(Ns,{className:"h-4 w-4"}),"Rendimiento"]})}),n.jsx(ve,{children:n.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[n.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),"Esta Semana"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Pedidos"}),n.jsx("span",{className:"font-medium",children:t.stats?.ordersWeek||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Ingresos"}),n.jsx("span",{className:"font-medium text-accent",children:C(t.stats?.revenueWeek||0)})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[n.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),"Este Mes"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Pedidos"}),n.jsx("span",{className:"font-medium",children:t.stats?.ordersMonth||0})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Ingresos"}),n.jsx("span",{className:"font-medium text-accent",children:C(t.stats?.revenueMonth||0)})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[n.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),"Calificacin"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Promedio"}),n.jsxs("span",{className:"font-medium",children:[t.stats?.avgRating||t.rating||4.8," / 5.0"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Reseas"}),n.jsx("span",{className:"font-medium",children:t.stats?.totalReviews||0})]})]})]})]})})]}),t.staff&&t.staff.length>0&&n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4"}),"Personal Asignado"]})}),n.jsx(ve,{children:n.jsxs(hn,{children:[n.jsx(Kn,{children:n.jsxs(Dt,{children:[n.jsx(Fe,{children:"Nombre"}),n.jsx(Fe,{children:"Rol"}),n.jsx(Fe,{children:"Telfono"})]})}),n.jsx(fn,{children:t.staff.map((O,L)=>n.jsxs(Dt,{children:[n.jsx(De,{className:"font-medium",children:O.name}),n.jsx(De,{children:O.role}),n.jsx(De,{className:"text-muted-foreground",children:O.phone})]},L))})]})})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsx(Ne,{className:"text-sm",children:"Notas"})}),n.jsx(ve,{children:l?n.jsx(mn,{value:d.notes||"",onChange:O=>f({...d,notes:O.target.value}),placeholder:"Notas internas sobre esta sucursal...",rows:3}):n.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes||"Sin notas"})})]})]})]})})]})}function PI(){const{t:e}=ar(),[t,r]=g.useState(""),[i,o]=g.useState("all"),[l,u]=g.useState(null),[d,f]=g.useState(!1),[m,v]=g.useState(!1),[w,j]=g.useState(!1),[b,S]=g.useState({}),{data:y=[],isLoading:N}=kt({queryKey:["/api/services"]}),{data:C=[]}=kt({queryKey:["/api/service-categories"]}),E=[{id:"all",name:"Todos",slug:"all"},{id:"lavado",name:"Lavado",slug:"lavado"},{id:"edredones",name:"Edredones",slug:"edredones"},{id:"drip",name:"DRIP Zapatos",slug:"drip"},{id:"extras",name:"Extras",slug:"extras"},{id:"delivery",name:"Delivery",slug:"delivery"}],k=y.filter(q=>{const ne=q.name?.toLowerCase().includes(t.toLowerCase()),de=i==="all"||q.category===i;return ne&&de}),T=q=>q==null?"$0.00":`$${q.toFixed(2)}`,$=q=>{u(q),S(q),f(!0),v(!1),j(!1)},O=()=>{u(null),S({name:"",nameEn:"",category:"lavado",description:"",price:0,isActive:!0}),f(!0),v(!0),j(!0)},L=()=>{f(!1),u(null),v(!1),j(!1),S({})},G=()=>{v(!0)},D=()=>{console.log("Saving service:",b),v(!1),w&&L()},F=()=>{w?L():(S(l||{}),v(!1))},Y=()=>{console.log("Deleting service:",l?.id),L()},re=y.filter(q=>q.isActive!==!1);y.reduce((q,ne)=>q+(ne.stats?.revenueMonth||0),0);const le=y.length>0?(y.reduce((q,ne)=>q+ne.price,0)/y.length).toFixed(2):"0.00",Q=q=>{switch(q){case"lavado":return"";case"edredones":return"";case"drip":return"";case"extras":return"";case"delivery":return"";default:return""}};return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"services-page",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:e("services.title")||"Servicios"}),n.jsx("p",{className:"text-muted-foreground",children:e("services.subtitle")||"Gestiona precios y catlogo de servicios"})]}),n.jsxs(oe,{className:"gold-gradient",onClick:O,"data-testid":"button-add-service",children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Agregar Servicio"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(We,{title:"Total Servicios",value:y.length.toString(),icon:Hn}),n.jsx(We,{title:"Servicios Activos",value:re.length.toString(),icon:gr,variant:"accent"}),n.jsx(We,{title:"Categoras",value:E.length-1,icon:lf,variant:"primary"}),n.jsx(We,{title:"Precio Promedio",value:`$${le}`,icon:Ar})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{placeholder:"Buscar servicios...",className:"pl-9",value:t,onChange:q=>r(q.target.value),"data-testid":"input-search-services"})]})}),n.jsx(co,{value:i,onValueChange:o,children:n.jsx(Fa,{className:"flex-wrap h-auto",children:E.map(q=>n.jsx(mt,{value:q.id,"data-testid":`tab-${q.id}`,children:q.name},q.id))})}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Catlogo de Servicios"})]}),n.jsxs(ye,{variant:"secondary",children:[k.length," servicios"]})]})}),n.jsx(ve,{className:"p-0",children:N?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:e("common.loading")}):k.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Hn,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:"No hay servicios"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Agrega servicios al catlogo"})]}):n.jsxs(hn,{children:[n.jsx(Kn,{children:n.jsxs(Dt,{children:[n.jsx(Fe,{className:"w-[50px]"}),n.jsx(Fe,{children:"Servicio"}),n.jsx(Fe,{children:"Categora"}),n.jsx(Fe,{className:"text-right",children:"Precio"}),n.jsx(Fe,{children:"Estado"}),n.jsx(Fe,{className:"w-[80px]"})]})}),n.jsx(fn,{children:k.map(q=>n.jsxs(Dt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>$(q),"data-testid":`service-row-${q.id}`,children:[n.jsx(De,{className:"text-center text-lg",children:Q(q.category)}),n.jsx(De,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:q.name}),q.description&&n.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:q.description})]})}),n.jsx(De,{children:n.jsx(ye,{variant:"outline",className:"text-xs capitalize",children:q.category})}),n.jsx(De,{className:"text-right font-bold text-primary",children:T(q.price)}),n.jsx(De,{children:n.jsx(ye,{className:q.isActive!==!1?"bg-accent/20 text-accent border-accent/30":"bg-muted text-muted-foreground",children:q.isActive!==!1?"Activo":"Inactivo"})}),n.jsx(De,{children:n.jsx(oe,{variant:"ghost",size:"sm",onClick:ne=>{ne.stopPropagation(),$(q)},children:n.jsx(wh,{className:"h-4 w-4"})})})]},q.id))})]})})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs(Ne,{className:"text-base flex items-center gap-2",children:[n.jsx(hc,{className:"h-5 w-5 text-primary"}),"Tabla de Precios Rpida"]})}),n.jsx(ve,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""}),"Cargas de Ropa"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"Carga Normal (L+S)"}),n.jsx("span",{className:"font-medium text-primary",children:"$5.50"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"Carga Pesada (L+S)"}),n.jsx("span",{className:"font-medium text-primary",children:"$6.50"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"Solo Lavado (Normal)"}),n.jsx("span",{className:"font-medium text-primary",children:"$3.00"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"Solo Lavado (Pesada)"}),n.jsx("span",{className:"font-medium text-primary",children:"$3.50"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""}),"DRIP Zapatos"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"DRIP Bsico"}),n.jsx("span",{className:"font-medium text-primary",children:"$9.90"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"DRIP Especial"}),n.jsx("span",{className:"font-medium text-primary",children:"$12.90"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"DRIP Premium"}),n.jsx("span",{className:"font-medium text-primary",children:"$16.90"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"DRIP Nios"}),n.jsx("span",{className:"font-medium text-primary",children:"$5.90"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""}),"Edredones"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"1.20-1.40m"}),n.jsx("span",{className:"font-medium text-primary",children:"$6.50"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"1.60m"}),n.jsx("span",{className:"font-medium text-primary",children:"$7.50"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-muted/50 rounded",children:[n.jsx("span",{children:"2.00m+"}),n.jsx("span",{className:"font-medium text-primary",children:"$8.50"})]}),n.jsxs("div",{className:"flex justify-between p-2 bg-accent/10 rounded border border-accent/20",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{children:""})," Delivery"]}),n.jsx("span",{className:"font-medium text-accent",children:"$2.00"})]})]})]})]})})]}),n.jsx(bs,{open:d,onOpenChange:f,children:n.jsxs(qn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Gn,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Qn,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"h-5 w-5 text-primary"}),w?"Nuevo Servicio":l?.name]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!m&&!w?n.jsxs(oe,{variant:"outline",size:"sm",onClick:G,children:[n.jsx(wh,{className:"h-4 w-4 mr-1"}),"Editar"]}):n.jsxs(n.Fragment,{children:[n.jsx(oe,{variant:"outline",size:"sm",onClick:F,children:"Cancelar"}),n.jsxs(oe,{size:"sm",onClick:D,children:[n.jsx(oy,{className:"h-4 w-4 mr-1"}),"Guardar"]})]}),n.jsx(oe,{variant:"ghost",size:"icon",onClick:L,children:n.jsx(Yn,{className:"h-4 w-4"})})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Nombre (Espaol)"}),m?n.jsx(Ue,{value:b.name||"",onChange:q=>S({...b,name:q.target.value}),placeholder:"Ej: Carga Normal - Lavado + Secado"}):n.jsx("p",{className:"text-sm p-2 bg-muted/50 rounded",children:l?.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Nombre (Ingls)"}),m?n.jsx(Ue,{value:b.nameEn||"",onChange:q=>S({...b,nameEn:q.target.value}),placeholder:"Ej: Normal Load - Wash + Dry"}):n.jsx("p",{className:"text-sm p-2 bg-muted/50 rounded",children:l?.nameEn||"-"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Categora"}),m?n.jsxs(Ot,{value:b.category||"lavado",onValueChange:q=>S({...b,category:q}),children:[n.jsx(_t,{children:n.jsx(It,{})}),n.jsx(Ct,{children:E.filter(q=>q.id!=="all").map(q=>n.jsxs(Ae,{value:q.id,children:[Q(q.id)," ",q.name]},q.id))})]}):n.jsxs("p",{className:"text-sm p-2 bg-muted/50 rounded flex items-center gap-2",children:[Q(l?.category||""),n.jsx("span",{className:"capitalize",children:l?.category})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Precio Principal"}),m?n.jsxs("div",{className:"relative",children:[n.jsx(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{type:"number",step:"0.01",min:"0",className:"pl-9",value:b.price||0,onChange:q=>S({...b,price:parseFloat(q.target.value)||0})})]}):n.jsx("p",{className:"text-2xl font-bold text-primary",children:T(l?.price)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Unidad"}),m?n.jsx(Ue,{value:b.unit||"",onChange:q=>S({...b,unit:q.target.value}),placeholder:"Ej: por carga, por par, por pieza"}):n.jsx("p",{className:"text-sm p-2 bg-muted/50 rounded",children:l?.unit||"por servicio"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Se,{children:"Estado"}),m?n.jsx(fr,{checked:b.isActive!==!1,onCheckedChange:q=>S({...b,isActive:q})}):n.jsx(ye,{className:l?.isActive!==!1?"bg-accent/20 text-accent border-accent/30":"bg-muted text-muted-foreground",children:l?.isActive!==!1?"Activo":"Inactivo"})]})]})]}),n.jsx(Ze,{}),(b.category==="lavado"||l?.category==="lavado")&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Precios por Tipo de Servicio"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{className:"text-xs text-muted-foreground",children:"Solo Lavado"}),m?n.jsxs("div",{className:"relative",children:[n.jsx(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{type:"number",step:"0.01",className:"pl-9 h-9",value:b.priceLavado||0,onChange:q=>S({...b,priceLavado:parseFloat(q.target.value)||0})})]}):n.jsx("p",{className:"text-sm font-medium",children:T(l?.priceLavado)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{className:"text-xs text-muted-foreground",children:"Lavado + Secado"}),m?n.jsxs("div",{className:"relative",children:[n.jsx(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{type:"number",step:"0.01",className:"pl-9 h-9",value:b.priceLavadoSecado||0,onChange:q=>S({...b,priceLavadoSecado:parseFloat(q.target.value)||0})})]}):n.jsx("p",{className:"text-sm font-medium",children:T(l?.priceLavadoSecado)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{className:"text-xs text-muted-foreground",children:"Solo Secado"}),m?n.jsxs("div",{className:"relative",children:[n.jsx(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{type:"number",step:"0.01",className:"pl-9 h-9",value:b.priceSecado||0,onChange:q=>S({...b,priceSecado:parseFloat(q.target.value)||0})})]}):n.jsx("p",{className:"text-sm font-medium",children:T(l?.priceSecado)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{className:"text-xs text-muted-foreground",children:"Planchado"}),m?n.jsxs("div",{className:"relative",children:[n.jsx(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{type:"number",step:"0.01",className:"pl-9 h-9",value:b.pricePlanchado||0,onChange:q=>S({...b,pricePlanchado:parseFloat(q.target.value)||0})})]}):n.jsx("p",{className:"text-sm font-medium",children:T(l?.pricePlanchado)})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Descripcin"}),m?n.jsx(mn,{value:b.description||"",onChange:q=>S({...b,description:q.target.value}),placeholder:"Descripcin del servicio...",rows:3}):n.jsx("p",{className:"text-sm text-muted-foreground p-2 bg-muted/50 rounded",children:l?.description||"Sin descripcin"})]}),!w&&l?.stats&&n.jsxs(n.Fragment,{children:[n.jsx(Ze,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:[n.jsx(Ns,{className:"h-4 w-4"}),"Estadsticas"]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold",children:l.stats.ordersToday}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Hoy"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold",children:l.stats.ordersWeek}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Esta Semana"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold",children:l.stats.ordersMonth}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Este Mes"})]}),n.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-xl font-bold text-accent",children:T(l.stats.revenueMonth)}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Ingresos Mes"})]})]})]})]}),!w&&m&&n.jsx("div",{className:"pt-4 border-t",children:n.jsxs(oe,{variant:"outline",className:"text-destructive",onClick:Y,children:[n.jsx(jh,{className:"h-4 w-4 mr-2"}),"Eliminar Servicio"]})})]})]})})]})}function AI(){const{t:e}=ar(),[t,r]=g.useState(""),[i,o]=g.useState("all"),[l,u]=g.useState("all"),[d,f]=g.useState(null),[m,v]=g.useState(!1),[w,j]=g.useState(""),[b,S]=g.useState(1),y=10,{data:N=[],isLoading:C}=kt({queryKey:["/api/orders"]}),{data:E=[]}=kt({queryKey:["/api/locations"]}),k=[{id:"all",name:"Todos"},{id:"pending",name:"Pendientes"},{id:"processing",name:"En Proceso"},{id:"ready",name:"Listos"},{id:"delivered",name:"Entregados"},{id:"cancelled",name:"Cancelados"}],T=N.filter(V=>{const _e=V.customerName?.toLowerCase().includes(t.toLowerCase())||V.customerPhone?.includes(t)||V.orderNumber?.toLowerCase().includes(t.toLowerCase()),Te=i==="all"||V.status===i,ee=l==="all"||V.locationId===l;return _e&&Te&&ee}),$=Math.ceil(T.length/y),O=T.slice((b-1)*y,b*y),L=V=>{switch(V){case"pending":return n.jsx(ye,{className:"bg-yellow-500/20 text-yellow-600 border-yellow-500/30",children:"Pendiente"});case"processing":return n.jsx(ye,{className:"bg-blue-500/20 text-blue-600 border-blue-500/30",children:"En Proceso"});case"ready":return n.jsx(ye,{className:"bg-accent/20 text-accent border-accent/30",children:"Listo"});case"delivered":return n.jsx(ye,{variant:"secondary",children:"Entregado"});case"cancelled":return n.jsx(ye,{variant:"destructive",children:"Cancelado"});default:return n.jsx(ye,{variant:"outline",children:V})}},G=V=>{switch(V){case"created":return n.jsx(un,{className:"h-4 w-4"});case"pending":return n.jsx(rr,{className:"h-4 w-4"});case"processing":return n.jsx(Hn,{className:"h-4 w-4"});case"ready":return n.jsx(Ai,{className:"h-4 w-4"});case"delivered":return n.jsx(Oi,{className:"h-4 w-4"});default:return n.jsx(GS,{className:"h-4 w-4"})}},D=V=>V?new Date(V).toLocaleDateString("es-SV",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"-",F=V=>V?new Date(V).toLocaleDateString("es-SV",{day:"numeric",month:"short"}):"-",Y=V=>V==null?"$0.00":`$${V.toFixed(2)}`,re=V=>!V||V.length===0?"-":V.length===1?V[0].serviceName:`${V[0].serviceName} +${V.length-1}`,le=V=>{f(V),v(!0)},Q=()=>{v(!1),f(null),j("")},q=()=>{w.trim()&&(console.log("Adding note:",w,"to order:",d?.id),j(""))},ne=()=>{console.log("Marking complete:",d?.id)},de=()=>{console.log("Sending reminder:",d?.id)},H=()=>{console.log("Reporting issue:",d?.id)},W=()=>{console.log("Printing order:",d?.id)},M=N.filter(V=>V.status==="pending").length,P=N.filter(V=>V.status==="processing").length,K=N.filter(V=>V.status==="ready").length,we=N.filter(V=>V.status==="delivered"&&V.createdAt&&new Date(V.createdAt).toDateString()===new Date().toDateString()).reduce((V,_e)=>V+(_e.totalAmount||0),0);return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"orders-page",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:e("orders.title")||"Pedidos"}),n.jsx("p",{className:"text-muted-foreground",children:e("orders.subtitle")||"Gestiona pedidos y entregas"})]}),n.jsxs(oe,{className:"gold-gradient","data-testid":"button-new-order",children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Nuevo Pedido"]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(We,{title:"Pedidos Pendientes",value:M.toString(),icon:rr,variant:"warning"}),n.jsx(We,{title:"En Proceso",value:P.toString(),icon:Hn,variant:"primary"}),n.jsx(We,{title:"Listos para Entrega",value:K.toString(),icon:Ai,variant:"accent"}),n.jsx(We,{title:"Ingresos Hoy",value:Y(we),icon:Ar,trend:{value:8,isPositive:!0}})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{placeholder:"Buscar por cliente, telfono o # pedido...",className:"pl-9",value:t,onChange:V=>r(V.target.value),"data-testid":"input-search-orders"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(Ot,{value:l,onValueChange:u,children:[n.jsx(_t,{className:"w-[180px]","data-testid":"select-branch",children:n.jsx(It,{placeholder:"Todas las sucursales"})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"all",children:"Todas las sucursales"}),E.map(V=>n.jsx(Ae,{value:V.id,children:V.name},V.id))]})]})})]}),n.jsx(co,{value:i,onValueChange:o,children:n.jsx(Fa,{className:"flex-wrap h-auto",children:k.map(V=>n.jsx(mt,{value:V.id,"data-testid":`tab-${V.id}`,children:V.name},V.id))})}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(un,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Lista de Pedidos"})]}),n.jsxs(ye,{variant:"secondary",children:[T.length," pedidos"]})]})}),n.jsx(ve,{className:"p-0",children:C?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:e("common.loading")}):T.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(un,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:"No hay pedidos"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Los pedidos aparecern aqu"})]}):n.jsxs(n.Fragment,{children:[n.jsxs(hn,{children:[n.jsx(Kn,{children:n.jsxs(Dt,{children:[n.jsx(Fe,{className:"w-[120px]",children:"Pedido #"}),n.jsx(Fe,{children:"Cliente"}),n.jsx(Fe,{children:"Sucursal"}),n.jsx(Fe,{children:"Servicios"}),n.jsx(Fe,{className:"text-right",children:"Total"}),n.jsx(Fe,{children:"Estado"}),n.jsx(Fe,{children:"Fecha"}),n.jsx(Fe,{className:"w-[80px]"})]})}),n.jsx(fn,{children:O.map(V=>n.jsxs(Dt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>le(V),"data-testid":`order-row-${V.id}`,children:[n.jsx(De,{className:"font-mono text-sm",children:V.orderNumber||`#${V.id.slice(0,8)}`}),n.jsx(De,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Dr,{className:"h-8 w-8",children:n.jsx(Mr,{className:"bg-primary/10 text-primary text-xs",children:V.customerName?.split(" ").map(_e=>_e[0]).join("").slice(0,2)||"??"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:V.customerName}),n.jsx("div",{className:"text-xs text-muted-foreground",children:V.customerPhone})]})]})}),n.jsx(De,{className:"text-sm",children:V.locationName}),n.jsx(De,{className:"text-sm",children:re(V.items)}),n.jsx(De,{className:"text-right font-bold text-primary",children:Y(V.totalAmount)}),n.jsx(De,{children:L(V.status)}),n.jsx(De,{className:"text-sm text-muted-foreground",children:F(V.createdAt)}),n.jsx(De,{children:n.jsx(oe,{variant:"ghost",size:"sm",onClick:_e=>{_e.stopPropagation(),le(V)},children:"Ver"})})]},V.id))})]}),n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(b-1)*y+1," a ",Math.min(b*y,T.length)," de ",T.length]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>S(V=>Math.max(1,V-1)),disabled:b===1,children:[n.jsx(ty,{className:"h-4 w-4"}),"Anterior"]}),n.jsxs("span",{className:"text-sm text-muted-foreground px-2",children:["Pgina ",b," de ",$||1]}),n.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>S(V=>Math.min($,V+1)),disabled:b>=$,children:["Siguiente",n.jsx(mc,{className:"h-4 w-4"})]})]})]})]})})]}),n.jsx(bs,{open:m,onOpenChange:v,children:n.jsxs(qn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Gn,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Qn,{className:"flex items-center gap-2",children:[n.jsx(un,{className:"h-5 w-5 text-primary"}),"Pedido ",d?.orderNumber||`#${d?.id?.slice(0,8)}`]}),n.jsx(oe,{variant:"ghost",size:"icon",onClick:Q,children:n.jsx(Yn,{className:"h-4 w-4"})})]})}),d&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(Dr,{className:"h-8 w-8",children:n.jsx(Mr,{className:"bg-primary/10 text-primary",children:d.customerName?.split(" ").map(V=>V[0]).join("").slice(0,2)})}),"Informacin del Cliente"]})}),n.jsxs(ve,{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center gap-2 text-sm",children:n.jsx("span",{className:"font-medium",children:d.customerName})}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(pn,{className:"h-4 w-4"}),d.customerPhone]}),d.customerEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(pt,{className:"h-4 w-4"}),d.customerEmail]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(mr,{className:"h-4 w-4"}),d.locationName]}),d.isDelivery&&d.deliveryAddress&&n.jsxs("div",{className:"p-2 bg-muted/50 rounded text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-accent font-medium mb-1",children:[n.jsx(Oi,{className:"h-3 w-3"}),"Delivery"]}),d.deliveryAddress]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(Vl,{className:"h-4 w-4"}),"Detalles del Pedido"]})}),n.jsxs(ve,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Estado:"}),L(d.status)]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Fecha de Creacin:"}),n.jsx("span",{children:D(d.createdAt)})]}),d.estimatedReady&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Entrega Estimada:"}),n.jsx("span",{children:D(d.estimatedReady)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Pago:"}),n.jsx(ye,{variant:d.paymentStatus==="paid"?"default":"outline",children:d.paymentStatus==="paid"?"Pagado":"Pendiente"})]}),d.paymentMethod&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Mtodo:"}),n.jsx("span",{className:"capitalize",children:d.paymentMethod})]})]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsx(Ne,{className:"text-sm",children:"Servicios"})}),n.jsxs(ve,{className:"p-0",children:[n.jsxs(hn,{children:[n.jsx(Kn,{children:n.jsxs(Dt,{children:[n.jsx(Fe,{children:"Servicio"}),n.jsx(Fe,{className:"text-center",children:"Cantidad"}),n.jsx(Fe,{className:"text-right",children:"Precio Unit."}),n.jsx(Fe,{className:"text-right",children:"Total"})]})}),n.jsx(fn,{children:d.items?.map(V=>n.jsxs(Dt,{children:[n.jsx(De,{children:V.serviceName}),n.jsx(De,{className:"text-center",children:V.quantity}),n.jsx(De,{className:"text-right",children:Y(V.unitPrice)}),n.jsx(De,{className:"text-right font-medium",children:Y(V.total)})]},V.id))})]}),n.jsxs("div",{className:"p-4 border-t space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Subtotal"}),n.jsx("span",{children:Y(d.subtotal)})]}),d.deliveryFee>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Delivery"}),n.jsx("span",{children:Y(d.deliveryFee)})]}),d.discount>0&&n.jsxs("div",{className:"flex justify-between text-sm text-accent",children:[n.jsx("span",{children:"Descuento"}),n.jsxs("span",{children:["-",Y(d.discount)]})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Total"}),n.jsx("span",{className:"text-primary",children:Y(d.totalAmount)})]})]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),"Historial del Pedido"]})}),n.jsx(ve,{children:n.jsx("div",{className:"relative",children:d.timeline?.map((V,_e)=>n.jsxs("div",{className:"flex gap-4 pb-4 last:pb-0",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${_e===0?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:G(V.status)}),_e<d.timeline.length-1&&n.jsx("div",{className:"w-0.5 h-full bg-border mt-2"})]}),n.jsxs("div",{className:"flex-1 pb-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-sm",children:V.label}),n.jsx("span",{className:"text-xs text-muted-foreground",children:D(V.timestamp)})]}),V.note&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:V.note})]})]},V.id))})})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ne,{className:"text-sm flex items-center gap-2",children:[n.jsx(of,{className:"h-4 w-4"}),"Notas"]})}),n.jsxs(ve,{className:"space-y-4",children:[d.notes&&n.jsx("div",{className:"p-3 bg-muted/50 rounded text-sm",children:d.notes}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(mn,{placeholder:"Agregar una nota...",value:w,onChange:V=>j(V.target.value),className:"flex-1",rows:2}),n.jsx(oe,{onClick:q,disabled:!w.trim(),children:"Agregar"})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 justify-end pt-2 border-t",children:[n.jsxs(oe,{variant:"outline",onClick:W,children:[n.jsx(c_,{className:"h-4 w-4 mr-2"}),"Imprimir"]}),n.jsxs(oe,{variant:"outline",onClick:de,children:[n.jsx(_a,{className:"h-4 w-4 mr-2"}),"Enviar Recordatorio"]}),n.jsxs(oe,{variant:"outline",className:"text-destructive",onClick:H,children:[n.jsx(pc,{className:"h-4 w-4 mr-2"}),"Reportar Problema"]}),d.status!=="delivered"&&d.status!=="cancelled"&&n.jsxs(oe,{className:"gold-gradient",onClick:ne,children:[n.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Marcar Completado"]})]})]})]})})]})}function OI(){const{t:e}=ar(),[t,r]=g.useState("week"),[i,o]=g.useState("all"),{data:l,isLoading:u}=kt({queryKey:["/api/analytics/summary",t,i],queryFn:async()=>{const y=await fetch(`/api/analytics/summary?range=${t}&locationId=${i}`);if(!y.ok)throw new Error("Failed to fetch analytics");return y.json()}}),{data:d=[]}=kt({queryKey:["/api/locations"]}),{data:f=[]}=kt({queryKey:["/api/analytics/daily",t],queryFn:async()=>{const y=await fetch(`/api/analytics/daily?range=${t}`);if(!y.ok)throw new Error("Failed to fetch daily data");return y.json()}}),m=y=>y>=1e3?`$${(y/1e3).toFixed(1)}k`:`$${y.toFixed(2)}`,v=y=>{const N=y>=0;return n.jsxs("span",{className:`flex items-center gap-1 text-xs ${N?"text-accent":"text-destructive"}`,children:[N?n.jsx(ia,{className:"h-3 w-3"}):n.jsx(pv,{className:"h-3 w-3"}),Math.abs(y),"%"]})},w=()=>{console.log("Exporting analytics report...")},j=[{value:"today",label:"Hoy"},{value:"week",label:"Esta Semana"},{value:"month",label:"Este Mes"},{value:"quarter",label:"Este Trimestre"}],b=[{topic:"Precios de servicios",count:312,percentage:45,trend:8},{topic:"Horarios y sucursales",count:198,percentage:29,trend:-3},{topic:"Estado de pedidos",count:156,percentage:23,trend:12},{topic:"Servicio delivery",count:134,percentage:19,trend:15},{topic:"Lavado de zapatos (DRIP)",count:89,percentage:13,trend:22}],S=[{name:"WhatsApp",percentage:94,color:"bg-accent"},{name:"Sitio Web",percentage:4,color:"bg-primary"},{name:"Telfono",percentage:2,color:"bg-muted-foreground"}];return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"analytics-page",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:e("analytics.title")||"Analticas"}),n.jsx("p",{className:"text-muted-foreground",children:e("analytics.subtitle")||"Mtricas y rendimiento del sistema"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Ot,{value:i,onValueChange:o,children:[n.jsxs(_t,{className:"w-[180px]",children:[n.jsx(mr,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx(It,{placeholder:"Todas las sucursales"})]}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"all",children:"Todas las sucursales"}),d.map(y=>n.jsx(Ae,{value:y.id,children:y.name},y.id))]})]}),n.jsxs(Ot,{value:t,onValueChange:r,children:[n.jsxs(_t,{className:"w-[160px]",children:[n.jsx(Vl,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx(It,{})]}),n.jsx(Ct,{children:j.map(y=>n.jsx(Ae,{value:y.value,children:y.label},y.value))})]}),n.jsxs(oe,{variant:"outline",onClick:w,children:[n.jsx(Ml,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u?[...Array(4)].map((y,N)=>n.jsxs(ie,{className:"p-4",children:[n.jsx(yt,{className:"h-4 w-24 mb-2"}),n.jsx(yt,{className:"h-8 w-16"})]},N)):n.jsxs(n.Fragment,{children:[n.jsx(We,{title:"Conversaciones",value:l?.conversations.total.toLocaleString()||"0",icon:pt,trend:{value:l?.conversations.trend||0,isPositive:(l?.conversations.trend||0)>=0}}),n.jsx(We,{title:"Resolucin IA",value:`${l?.conversations.aiResolutionRate||0}%`,icon:Dl,variant:"primary",trend:{value:5,isPositive:!0}}),n.jsx(We,{title:"Ingresos",value:m(l?.orders.totalRevenue||0),icon:Ar,variant:"accent",trend:{value:l?.orders.trend||0,isPositive:(l?.orders.trend||0)>=0}}),n.jsx(We,{title:"Satisfaccin",value:`${l?.performance.customerSatisfaction||0}%`,icon:Ir,trend:{value:2,isPositive:!0}})]})}),n.jsxs(co,{defaultValue:"overview",children:[n.jsxs(Fa,{children:[n.jsx(mt,{value:"overview",children:"Resumen"}),n.jsx(mt,{value:"conversations",children:"Conversaciones"}),n.jsx(mt,{value:"revenue",children:"Ingresos"}),n.jsx(mt,{value:"customers",children:"Clientes"}),n.jsx(mt,{value:"ai",children:"Rendimiento IA"})]}),n.jsxs(Zt,{value:"overview",className:"mt-6 space-y-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hc,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Tendencia Diaria"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),"Conversaciones"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-accent"}),"Pedidos"]})]})]})}),n.jsx(ve,{children:n.jsx("div",{className:"flex items-end justify-between h-48 gap-2",children:(f.length>0?f:l?.dailyData||[]).map((y,N)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[n.jsxs("div",{className:"w-full flex gap-1 items-end h-36",children:[n.jsx("div",{className:"flex-1 bg-primary/80 rounded-t",style:{height:`${Math.min(100,y.conversations/200*100)}%`}}),n.jsx("div",{className:"flex-1 bg-accent/80 rounded-t",style:{height:`${Math.min(100,y.orders/80*100)}%`}})]}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(y.date).toLocaleDateString("es-SV",{weekday:"short"})})]},N))})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Resolucin: IA vs Humano"})]})}),n.jsxs(ve,{children:[n.jsxs("div",{className:"flex items-center justify-center gap-8 py-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"relative w-28 h-28",children:[n.jsxs("svg",{className:"w-28 h-28 transform -rotate-90",children:[n.jsx("circle",{cx:"56",cy:"56",r:"48",fill:"none",stroke:"currentColor",className:"text-muted",strokeWidth:"8"}),n.jsx("circle",{cx:"56",cy:"56",r:"48",fill:"none",stroke:"currentColor",className:"text-primary",strokeWidth:"8",strokeDasharray:`${(l?.conversations.aiResolutionRate||94)*3.02} 302`})]}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("span",{className:"text-2xl font-bold",children:[l?.conversations.aiResolutionRate||94,"%"]})})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-sm text-muted-foreground",children:[n.jsx(Dl,{className:"h-4 w-4"}),"IA"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"relative w-28 h-28",children:[n.jsxs("svg",{className:"w-28 h-28 transform -rotate-90",children:[n.jsx("circle",{cx:"56",cy:"56",r:"48",fill:"none",stroke:"currentColor",className:"text-muted",strokeWidth:"8"}),n.jsx("circle",{cx:"56",cy:"56",r:"48",fill:"none",stroke:"currentColor",className:"text-accent",strokeWidth:"8",strokeDasharray:`${(100-(l?.conversations.aiResolutionRate||94))*3.02} 302`})]}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("span",{className:"text-2xl font-bold",children:[100-(l?.conversations.aiResolutionRate||94),"%"]})})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-sm text-muted-foreground",children:[n.jsx(Kl,{className:"h-4 w-4"}),"Humano"]})]})]}),n.jsxs("div",{className:"text-center text-sm text-muted-foreground mt-2",children:[l?.conversations.resolved||1172," resueltas por IA  ",l?.conversations.escalated||75," por agentes"]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rr,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Horas Pico"})]})}),n.jsxs(ve,{children:[n.jsx("div",{className:"flex items-end justify-between h-40 gap-1",children:[{hour:"7",volume:15},{hour:"8",volume:28},{hour:"9",volume:45},{hour:"10",volume:52},{hour:"11",volume:48},{hour:"12",volume:38},{hour:"13",volume:25},{hour:"14",volume:42},{hour:"15",volume:55},{hour:"16",volume:48},{hour:"17",volume:62},{hour:"18",volume:35}].map((y,N)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[n.jsx("div",{className:`w-full rounded-t transition-all ${y.volume>50?"bg-primary":"bg-primary/60"}`,style:{height:`${y.volume/70*100}%`}}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:y.hour})]},N))}),n.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Hora pico: ",n.jsx("strong",{className:"text-foreground",children:"5:00 PM"})]}),n.jsxs("span",{children:["Promedio: ",n.jsx("strong",{className:"text-foreground",children:"41 msgs/hora"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Rendimiento por Sucursal"})]})}),n.jsx(ve,{children:n.jsx("div",{className:"space-y-3",children:(l?.locationPerformance||[{name:"San Miguel - Casa Matriz",orders:156,revenue:1023.5},{name:"Lourdes Coln",orders:98,revenue:687.3},{name:"Santa Ana",orders:87,revenue:598.2},{name:"San Miguel - Col. Gavidia",orders:52,revenue:345},{name:"Usulutn",orders:30,revenue:193.5}]).map((y,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs flex items-center justify-center font-medium",children:N+1}),n.jsx("span",{className:"font-medium text-sm",children:y.name})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:[y.orders," pedidos"]}),n.jsx("span",{className:"font-medium text-accent",children:m(y.revenue)})]})]},N))})})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(un,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Servicios Ms Populares"})]})}),n.jsx(ve,{children:n.jsx("div",{className:"space-y-3",children:(l?.topServices||[{name:"Carga Normal - L+S",count:187,revenue:1028.5},{name:"DRIP Bsico",count:89,revenue:881.1},{name:"Carga Pesada - L+S",count:67,revenue:435.5},{name:"DRIP Especial",count:45,revenue:580.5},{name:"Delivery",count:156,revenue:312}]).map((y,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`w-3 h-3 rounded-full ${N===0?"bg-primary":N===1?"bg-accent":N===2?"bg-chart-3":"bg-chart-4"}`}),n.jsx("span",{className:"font-medium text-sm",children:y.name})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:y.count}),n.jsx("span",{className:"font-medium",children:m(y.revenue)})]})]},N))})})]})]})]}),n.jsxs(Zt,{value:"conversations",className:"mt-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(pt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Total Mensajes"})]}),n.jsx("div",{className:"text-2xl font-bold",children:l?.messages.total.toLocaleString()||"8,934"}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[l?.messages.avgPerConversation||7.2," promedio por conversacin"]})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(rr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Tiempo Respuesta"})]}),n.jsx("div",{className:"text-2xl font-bold",children:l?.performance.avgResponseTime||"2.3s"}),n.jsx("div",{className:"text-xs text-accent mt-1",children:"-0.5s vs perodo anterior"})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(iy,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Primera Resolucin"})]}),n.jsxs("div",{className:"text-2xl font-bold",children:[l?.performance.firstContactResolution||87,"%"]}),n.jsx("div",{className:"text-xs text-accent mt-1",children:"+3% vs perodo anterior"})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(Ns,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Escalaciones"})]}),n.jsx("div",{className:"text-2xl font-bold",children:l?.conversations.escalated||58}),n.jsx("div",{className:"text-xs text-destructive mt-1",children:"+5 vs perodo anterior"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ns,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Temas Frecuentes"})]})}),n.jsx(ve,{className:"space-y-3",children:b.map((y,N)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:y.topic}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:y.count}),v(y.trend)]})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-primary/80 rounded-full transition-all",style:{width:`${y.percentage*2}%`}})})]},N))})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Canales de Contacto"})]})}),n.jsxs(ve,{children:[n.jsx("div",{className:"space-y-4",children:S.map((y,N)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-24 text-sm font-medium",children:y.name}),n.jsx("div",{className:"flex-1 h-8 bg-muted rounded-lg overflow-hidden",children:n.jsx("div",{className:`h-full ${y.color} transition-all flex items-center justify-end pr-2`,style:{width:`${y.percentage}%`},children:n.jsxs("span",{className:"text-xs font-medium text-white",children:[y.percentage,"%"]})})})]},N))}),n.jsx("div",{className:"mt-4 p-3 bg-accent/10 rounded-lg border border-accent/20",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(gr,{className:"h-4 w-4 text-accent"}),n.jsxs("span",{children:[n.jsx("strong",{children:"WhatsApp"})," genera el 94% del volumen de conversaciones"]})]})})]})]})]})]}),n.jsxs(Zt,{value:"revenue",className:"mt-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ie,{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Ingresos del Perodo"}),n.jsx("div",{className:"text-2xl font-bold text-accent",children:m(l?.orders.totalRevenue||2847.5)}),n.jsxs("div",{className:"text-xs text-accent mt-1 flex items-center gap-1",children:[n.jsx(ia,{className:"h-3 w-3"}),"+",l?.orders.trend||12,"% vs perodo anterior"]})]}),n.jsxs(ie,{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Pedidos Completados"}),n.jsx("div",{className:"text-2xl font-bold",children:l?.orders.completed||398}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[l?.orders.pending||13," pendientes"]})]}),n.jsxs(ie,{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Ticket Promedio"}),n.jsxs("div",{className:"text-2xl font-bold",children:["$",((l?.orders.totalRevenue||2847.5)/(l?.orders.completed||398)).toFixed(2)]}),n.jsxs("div",{className:"text-xs text-primary mt-1 flex items-center gap-1",children:[n.jsx(ia,{className:"h-3 w-3"}),"+5% vs perodo anterior"]})]}),n.jsxs(ie,{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Tasa de Cancelacin"}),n.jsxs("div",{className:"text-2xl font-bold",children:[((l?.orders.cancelled||12)/(l?.orders.total||423)*100).toFixed(1),"%"]}),n.jsxs("div",{className:"text-xs text-accent mt-1 flex items-center gap-1",children:[n.jsx(pv,{className:"h-3 w-3"}),"-2% vs perodo anterior"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Ingresos por Servicio"})]})}),n.jsx(ve,{className:"space-y-3",children:[{service:"Lavado + Secado",revenue:8250,orders:1250,color:"bg-primary",percent:53},{service:"Edredones",revenue:2890,orders:385,color:"bg-accent",percent:19},{service:"DRIP Zapatos",revenue:2150,orders:165,color:"bg-chart-3",percent:14},{service:"Solo Lavado",revenue:1450,orders:483,color:"bg-chart-4",percent:9},{service:"Delivery",revenue:730,orders:365,color:"bg-chart-5",percent:5}].map((y,N)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${y.color}`}),n.jsx("span",{className:"font-medium",children:y.service})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-muted-foreground text-xs",children:[y.orders," pedidos"]}),n.jsx("span",{className:"font-medium",children:m(y.revenue)})]})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${y.color} rounded-full`,style:{width:`${y.percent}%`}})})]},N))})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mr,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:"Ingresos por Sucursal"})]})}),n.jsx(ve,{className:"space-y-3",children:(l?.locationPerformance||[{name:"San Miguel - Casa Matriz",orders:156,revenue:4250},{name:"Lourdes Coln",orders:98,revenue:2780},{name:"Santa Ana",orders:87,revenue:3890},{name:"San Miguel - Col. Gavidia",orders:52,revenue:2450},{name:"Usulutn",orders:30,revenue:2100}]).map((y,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/20 text-primary text-xs flex items-center justify-center font-medium",children:N+1}),n.jsx("span",{className:"font-medium text-sm",children:y.name})]}),n.jsx("span",{className:"font-bold text-accent",children:m(y.revenue)})]},N))})]})]})]}),n.jsxs(Zt,{value:"customers",className:"mt-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(qr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Total Clientes"})]}),n.jsx("div",{className:"text-2xl font-bold",children:l?.customers.total||856}),n.jsxs("div",{className:"text-xs text-accent mt-1 flex items-center gap-1",children:[n.jsx(ia,{className:"h-3 w-3"}),"+",l?.customers.new||47," nuevos"]})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(Kl,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Clientes Recurrentes"})]}),n.jsx("div",{className:"text-2xl font-bold",children:l?.customers.returning||809}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[((l?.customers.returning||809)/(l?.customers.total||856)*100).toFixed(0),"% del total"]})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(Ir,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Clientes VIP"})]}),n.jsx("div",{className:"text-2xl font-bold",children:l?.customers.vip||23}),n.jsx("div",{className:"text-xs text-primary mt-1",children:"Alto valor de vida"})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(l_,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Tasa de Retencin"})]}),n.jsx("div",{className:"text-2xl font-bold",children:"94.5%"}),n.jsxs("div",{className:"text-xs text-accent mt-1 flex items-center gap-1",children:[n.jsx(ia,{className:"h-3 w-3"}),"+2.3% vs perodo anterior"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsx(Ne,{className:"text-base",children:"Segmentacin de Clientes"})}),n.jsx(ve,{children:n.jsx("div",{className:"space-y-4",children:[{segment:"Clientes Nuevos",count:47,percent:5,color:"bg-chart-3"},{segment:"Ocasionales (1-3 pedidos)",count:312,percent:36,color:"bg-chart-4"},{segment:"Regulares (4-10 pedidos)",count:389,percent:45,color:"bg-primary"},{segment:"Frecuentes (11+ pedidos)",count:85,percent:10,color:"bg-accent"},{segment:"VIP (alto valor)",count:23,percent:3,color:"bg-chart-5"}].map((y,N)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${y.color}`}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[n.jsx("span",{children:y.segment}),n.jsx("span",{className:"font-medium",children:y.count})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${y.color} rounded-full`,style:{width:`${y.percent*2}%`}})})]})]},N))})})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsx(Ne,{className:"text-base",children:"Valor de Vida del Cliente"})}),n.jsx(ve,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-primary",children:"$45.80"}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"LTV Promedio"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-accent",children:"$285.50"}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"LTV VIP Promedio"})]})]}),n.jsx("div",{className:"p-4 bg-accent/10 rounded-lg border border-accent/20",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("strong",{children:"Insight:"})," Los clientes VIP generan 6x ms ingresos que el cliente promedio. Considera programas de lealtad para aumentar la conversin a VIP."]})})]})})]})]})]}),n.jsxs(Zt,{value:"ai",className:"mt-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(Dl,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Tasa de Resolucin"})]}),n.jsxs("div",{className:"text-2xl font-bold text-primary",children:[l?.conversations.aiResolutionRate||94,"%"]}),n.jsxs("div",{className:"text-xs text-accent mt-1 flex items-center gap-1",children:[n.jsx(ia,{className:"h-3 w-3"}),"+5% vs mes anterior"]})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(rr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Tiempo Respuesta"})]}),n.jsx("div",{className:"text-2xl font-bold",children:"2.3s"}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Promedio"})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(Ar,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Ahorro Mensual"})]}),n.jsx("div",{className:"text-2xl font-bold text-accent",children:"$2,400"}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"vs agentes humanos"})]}),n.jsxs(ie,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[n.jsx(Ir,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Satisfaccin IA"})]}),n.jsx("div",{className:"text-2xl font-bold",children:"4.7/5.0"}),n.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Calificacin promedio"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsx(Ne,{className:"text-base",children:"Intenciones Detectadas"})}),n.jsx(ve,{className:"space-y-3",children:[{intent:"Consulta de precios",count:523,accuracy:98},{intent:"Informacin de sucursales",count:312,accuracy:97},{intent:"Estado de pedido",count:198,accuracy:95},{intent:"Agendar recogida",count:156,accuracy:92},{intent:"Reclamo/Queja",count:45,accuracy:88}].map((y,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("span",{className:"font-medium text-sm",children:y.intent})}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:y.count}),n.jsxs(ye,{variant:y.accuracy>=95?"default":y.accuracy>=90?"secondary":"outline",children:[y.accuracy,"% precisin"]})]})]},N))})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsx(Ne,{className:"text-base",children:"Razones de Escalacin"})}),n.jsx(ve,{className:"space-y-3",children:[{reason:"Solicitud explcita de agente",count:28,percent:48},{reason:"Reclamo o queja",count:15,percent:26},{reason:"Consulta compleja",count:8,percent:14},{reason:"Baja confianza IA",count:5,percent:9},{reason:"Error tcnico",count:2,percent:3}].map((y,N)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:y.reason}),n.jsxs("span",{className:"text-muted-foreground",children:[y.count," casos"]})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-destructive/60 rounded-full",style:{width:`${y.percent}%`}})})]},N))})]})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsx(Ne,{className:"text-base",children:"Clculo de Ahorro"})}),n.jsxs(ve,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold",children:l?.conversations.resolved||1085}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Conversaciones resueltas por IA"})]}),n.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold",children:"$2.21"}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Ahorro por conversacin"})]}),n.jsxs("div",{className:"text-center p-4 bg-accent/20 rounded-lg",children:[n.jsx("div",{className:"text-3xl font-bold text-accent",children:"$2,397.85"}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Ahorro total este mes"})]})]}),n.jsxs("div",{className:"mt-4 p-3 bg-primary/10 rounded-lg border border-primary/20 text-sm",children:[n.jsx("strong",{children:"Metodologa:"})," Costo promedio de un agente humano ($15/hora)  tiempo promedio por conversacin (8.5 min) = $2.21 por conversacin."]})]})]})]})]})]})}const II=[{id:"1",type:"escalation",title:"Nueva escalacin",message:"Jos Lpez solicita atencin urgente sobre ropa daada",timestamp:new Date(Date.now()-5*6e4),read:!1},{id:"2",type:"resolved",title:"Conversacin resuelta",message:"La consulta de Mara Garca fue resuelta por IA",timestamp:new Date(Date.now()-15*6e4),read:!1},{id:"3",type:"customer",title:"Nuevo cliente",message:"Ana Martnez se ha registrado desde WhatsApp",timestamp:new Date(Date.now()-30*6e4),read:!1},{id:"4",type:"system",title:"Actualizacin del sistema",message:"El modelo de IA ha sido actualizado a la versin 2.5",timestamp:new Date(Date.now()-2*36e5),read:!0},{id:"5",type:"escalation",title:"Escalacin pendiente",message:"Miguel Torres espera respuesta sobre pedido retrasado",timestamp:new Date(Date.now()-3*36e5),read:!0},{id:"6",type:"resolved",title:"Conversacin resuelta",message:"Consulta de Carlos Hernndez sobre horarios resuelta",timestamp:new Date(Date.now()-5*36e5),read:!0},{id:"7",type:"customer",title:"Cliente VIP",message:"Rosa Meja ha alcanzado el estado VIP con 50 pedidos",timestamp:new Date(Date.now()-24*36e5),read:!0}];function DI(){const{t:e}=ar(),[t,r]=g.useState(II),i=t.filter(v=>!v.read).length,o=()=>{r(t.map(v=>({...v,read:!0})))},l=v=>{switch(v){case"escalation":return n.jsx(dn,{className:"h-5 w-5 text-destructive"});case"resolved":return n.jsx(Ai,{className:"h-5 w-5 text-accent"});case"customer":return n.jsx(f_,{className:"h-5 w-5 text-primary"});case"system":return n.jsx(pc,{className:"h-5 w-5 text-muted-foreground"})}},u=v=>{const j=new Date().getTime()-v.getTime(),b=Math.floor(j/6e4);if(b<1)return e("activity.justNow");if(b<60)return e("activity.minAgo").replace("{min}",String(b));const S=Math.floor(b/60);return S<24?e("activity.hoursAgo").replace("{hours}",String(S)):v.toLocaleDateString("es-SV")},f=(()=>{const v=[],w=[],j=[],b=new Date,S=new Date(b.getFullYear(),b.getMonth(),b.getDate()),y=new Date(S.getTime()-24*36e5);return t.forEach(N=>{const C=new Date(N.timestamp);C>=S?v.push(N):C>=y?w.push(N):j.push(N)}),{today:v,yesterday:w,earlier:j}})(),m=(v,w)=>w.length===0?null:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-sm font-medium text-muted-foreground px-1",children:v}),w.map(j=>n.jsx("div",{className:`p-4 rounded-lg border ${j.read?"bg-background":"bg-primary/5 border-primary/20"} hover-elevate`,"data-testid":`notification-item-${j.id}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"shrink-0 mt-0.5",children:l(j.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[n.jsx("span",{className:"font-medium text-sm",children:j.title}),n.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:u(j.timestamp)})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.message})]}),!j.read&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-2"})]})},j.id))]});return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"notifications-page",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:e("notifications.title")}),n.jsx("p",{className:"text-muted-foreground",children:e("notifications.subtitle")})]}),i>0&&n.jsxs(oe,{variant:"outline",onClick:o,"data-testid":"button-mark-all-read",children:[n.jsx(fc,{className:"h-4 w-4 mr-2"}),e("notifications.markAllRead")]})]}),n.jsxs(ie,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_a,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:e("notifications.title")})]}),i>0&&n.jsxs(ye,{variant:"destructive",children:[i," sin leer"]})]})}),n.jsx(ve,{children:t.length===0?n.jsxs("div",{className:"py-12 text-center",children:[n.jsx(_a,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:e("notifications.noNotifications")}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e("notifications.allCaughtUp")})]}):n.jsx(Qr,{className:"h-[calc(100vh-300px)]",children:n.jsxs("div",{className:"space-y-6",children:[m(e("notifications.today"),f.today),m(e("notifications.yesterday"),f.yesterday),m(e("notifications.earlier"),f.earlier)]})})})]})]})}const MI=[{id:"1",name:"Fabricio Estrada",email:"fabricio@lavanderiaoriental.com.sv",role:"admin",status:"active",lastLogin:new Date},{id:"2",name:"Mara Lpez",email:"maria@lavanderiaoriental.com.sv",role:"manager",status:"active",lastLogin:new Date(Date.now()-864e5)},{id:"3",name:"Carlos Meja",email:"carlos@lavanderiaoriental.com.sv",role:"agent",status:"active",lastLogin:new Date(Date.now()-1728e5)},{id:"4",name:"Ana Garca",email:"ana@lavanderiaoriental.com.sv",role:"agent",status:"inactive"}],LI=[{id:"1",question:"Cunto cuesta el lavado de ropa?",answer:"Carga Normal: $3.00 solo lavado, $5.50 lavado + secado. Carga Pesada: $3.50 solo lavado, $6.50 lavado + secado.",category:"precios",isActive:!0},{id:"2",question:"Tienen servicio de delivery?",answer:"S, ofrecemos delivery por $2.00 (recogida y entrega). Disponible en San Miguel y alrededores.",category:"servicios",isActive:!0},{id:"3",question:"Cul es el horario de atencin?",answer:"Lunes a Sbado: 7:00am - 6:00pm. Domingos: 7:00am - 5:00pm.",category:"horarios",isActive:!0},{id:"4",question:"Qu incluye el servicio DRIP?",answer:"DRIP es nuestro servicio especializado de limpieza de zapatos. DRIP Bsico ($9.90), Especial ($12.90), Premium ($16.90), Nios ($5.90).",category:"servicios",isActive:!0}],$I=[{id:"1",keyword:"queja",priority:"high"},{id:"2",keyword:"reclamo",priority:"high"},{id:"3",keyword:"dao",priority:"high"},{id:"4",keyword:"gerente",priority:"high"},{id:"5",keyword:"devolucin",priority:"medium"},{id:"6",keyword:"urgente",priority:"medium"},{id:"7",keyword:"problema",priority:"low"}];function FI(){const{t:e,language:t,setLanguage:r}=ar(),[i,o]=g.useState("general"),[l,u]=g.useState(MI),[d,f]=g.useState(LI),[m,v]=g.useState($I),[w,j]=g.useState(!1),[b,S]=g.useState(!1),[y,N]=g.useState(!1),[C,E]=g.useState(null),[k,T]=g.useState({name:"",email:"",role:"agent"}),[$,O]=g.useState({question:"",answer:"",category:"general"}),[L,G]=g.useState({keyword:"",priority:"medium"}),[D,F]=g.useState({name:"Lavandera Oriental",phone:"+503 2222-3333",whatsapp:"+503 7947-5950",email:"info@lavanderiaoriental.com.sv",website:"lavanderiaoriental.com.sv",address:"San Miguel, El Salvador"}),[Y,re]=g.useState({greeting:"Hola!  Bienvenido a Lavandera Oriental. En qu podemos ayudarte hoy?",away:"Gracias por contactarnos. En este momento estamos fuera de horario. Te responderemos pronto. Horario: L-S 7am-6pm, D 7am-5pm",autoReplyEnabled:!0,autoReplyStart:"07:00",autoReplyEnd:"18:00"}),[le,Q]=g.useState({model:"claude-sonnet-4",confidenceThreshold:.7,maxResponseLength:500,temperature:.7,autoEscalate:!0,escalateOnLowConfidence:!0,escalateAfterAttempts:3}),q=()=>{const M={id:Date.now().toString(),name:k.name,email:k.email,role:k.role,status:"active"};u([...l,M]),T({name:"",email:"",role:"agent"}),j(!1)},ne=()=>{const M={id:Date.now().toString(),question:$.question,answer:$.answer,category:$.category,isActive:!0};f([...d,M]),O({question:"",answer:"",category:"general"}),S(!1)},de=()=>{const M={id:Date.now().toString(),keyword:L.keyword,priority:L.priority};v([...m,M]),G({keyword:"",priority:"medium"}),N(!1)},H=M=>{switch(M){case"admin":return n.jsx(ye,{className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:"Admin"});case"manager":return n.jsx(ye,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Manager"});case"agent":return n.jsx(ye,{variant:"outline",children:"Agente"})}},W=M=>{switch(M){case"high":return n.jsx(ye,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:"Alta"});case"medium":return n.jsx(ye,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Media"});case"low":return n.jsx(ye,{variant:"outline",children:"Baja"})}};return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"settings-page",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:e("settings.title")}),n.jsx("p",{className:"text-muted-foreground",children:e("settings.subtitle")})]}),n.jsxs(oe,{className:"gold-gradient","data-testid":"button-save",children:[n.jsx(fc,{className:"h-4 w-4 mr-2"}),e("settings.saveChanges")]})]}),n.jsxs(co,{value:i,onValueChange:o,className:"space-y-6",children:[n.jsxs(Fa,{className:"grid grid-cols-7 w-full max-w-4xl",children:[n.jsxs(mt,{value:"general",className:"flex items-center gap-2",children:[n.jsx(xv,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"General"})]}),n.jsxs(mt,{value:"business",className:"flex items-center gap-2",children:[n.jsx(gv,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Negocio"})]}),n.jsxs(mt,{value:"whatsapp",className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"})]}),n.jsxs(mt,{value:"ai",className:"flex items-center gap-2",children:[n.jsx(QS,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"IA"})]}),n.jsxs(mt,{value:"knowledge",className:"flex items-center gap-2",children:[n.jsx(yh,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Conocimiento"})]}),n.jsxs(mt,{value:"team",className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Equipo"})]}),n.jsxs(mt,{value:"system",className:"flex items-center gap-2",children:[n.jsx(vv,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]}),n.jsx(Zt,{value:"general",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xv,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Preferencias Regionales"}),n.jsx(qt,{children:"Idioma, zona horaria y formato"})]})]})}),n.jsxs(ve,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:e("settings.language")}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Idioma de la interfaz"})]}),n.jsxs(Ot,{value:t,onValueChange:M=>r(M),children:[n.jsx(_t,{className:"w-40",children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"es",children:"Espaol"}),n.jsx(Ae,{value:"en",children:"English"})]})]})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:e("settings.timezone")}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Zona horaria"})]}),n.jsxs(Ot,{defaultValue:"america_el_salvador",children:[n.jsx(_t,{className:"w-48",children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"america_el_salvador",children:"America/El_Salvador"}),n.jsx(Ae,{value:"america_guatemala",children:"America/Guatemala"}),n.jsx(Ae,{value:"america_mexico_city",children:"America/Mexico_City"})]})]})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Formato de fecha"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cmo mostrar fechas"})]}),n.jsxs(Ot,{defaultValue:"dd_mm_yyyy",children:[n.jsx(_t,{className:"w-40",children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"dd_mm_yyyy",children:"DD/MM/YYYY"}),n.jsx(Ae,{value:"mm_dd_yyyy",children:"MM/DD/YYYY"}),n.jsx(Ae,{value:"yyyy_mm_dd",children:"YYYY-MM-DD"})]})]})]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_a,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:e("settings.notifications")}),n.jsx(qt,{children:"Alertas y notificaciones"})]})]})}),n.jsxs(ve,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Escalaciones"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertas de escalacin"})]}),n.jsx(fr,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Resumen diario"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email con resumen"})]}),n.jsx(fr,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Nuevos clientes"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificar registros"})]}),n.jsx(fr,{})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Sonidos"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertas sonoras"})]}),n.jsx(fr,{defaultChecked:!0})]})]})]})]})}),n.jsx(Zt,{value:"business",className:"space-y-6",children:n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gv,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Informacin del Negocio"}),n.jsx(qt,{children:"Datos de contacto y perfil de la empresa"})]})]})}),n.jsx(ve,{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Nombre del negocio"}),n.jsx(Ue,{value:D.name,onChange:M=>F({...D,name:M.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Telfono principal"}),n.jsx(Ue,{value:D.phone,onChange:M=>F({...D,phone:M.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"WhatsApp Business"}),n.jsx(Ue,{value:D.whatsapp,onChange:M=>F({...D,whatsapp:M.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Email"}),n.jsx(Ue,{type:"email",value:D.email,onChange:M=>F({...D,email:M.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Sitio web"}),n.jsx(Ue,{value:D.website,onChange:M=>F({...D,website:M.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Direccin principal"}),n.jsx(Ue,{value:D.address,onChange:M=>F({...D,address:M.target.value})})]})]})})]})}),n.jsx(Zt,{value:"whatsapp",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Mensajes Automticos"}),n.jsx(qt,{children:"Saludo y mensaje de ausencia"})]})]})}),n.jsxs(ve,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Mensaje de bienvenida"}),n.jsx(mn,{rows:3,value:Y.greeting,onChange:M=>re({...Y,greeting:M.target.value})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Se enva al iniciar conversacin"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Mensaje fuera de horario"}),n.jsx(mn,{rows:3,value:Y.away,onChange:M=>re({...Y,away:M.target.value})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Se enva fuera del horario de atencin"})]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rr,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Horario de Respuesta"}),n.jsx(qt,{children:"Configura horario de respuestas automticas"})]})]})}),n.jsxs(ve,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Respuestas automticas"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Activar IA en horario"})]}),n.jsx(fr,{checked:Y.autoReplyEnabled,onCheckedChange:M=>re({...Y,autoReplyEnabled:M})})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Hora inicio"}),n.jsx(Ue,{type:"time",value:Y.autoReplyStart,onChange:M=>re({...Y,autoReplyStart:M.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Hora fin"}),n.jsx(Ue,{type:"time",value:Y.autoReplyEnd,onChange:M=>re({...Y,autoReplyEnd:M.target.value})})]})]}),n.jsxs("div",{className:"p-3 rounded-lg bg-accent/10 border border-accent/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(yv,{className:"h-4 w-4 text-accent"}),n.jsx("span",{className:"font-medium text-sm",children:"Conexin Twilio"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",n.jsx("span",{className:"text-accent",children:"Conectado"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Nmero: ",D.whatsapp]})]})]})]})]})}),n.jsx(Zt,{value:"ai",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Configuracin del Modelo"}),n.jsx(qt,{children:"Parmetros de Claude AI"})]})]})}),n.jsxs(ve,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Modelo"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin de Claude"})]}),n.jsxs(Ot,{value:le.model,onValueChange:M=>Q({...le,model:M}),children:[n.jsx(_t,{className:"w-48",children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"claude-sonnet-4",children:"Claude Sonnet 4"}),n.jsx(Ae,{value:"claude-haiku-4",children:"Claude Haiku 4"}),n.jsx(Ae,{value:"claude-opus-4",children:"Claude Opus 4"})]})]})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Se,{children:"Umbral de confianza"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(le.confidenceThreshold*100),"%"]})]}),n.jsx("input",{type:"range",min:"0.5",max:"0.95",step:"0.05",value:le.confidenceThreshold,onChange:M=>Q({...le,confidenceThreshold:parseFloat(M.target.value)}),className:"w-full"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Escalar si la confianza es menor"})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Se,{children:"Longitud mxima"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[le.maxResponseLength," chars"]})]}),n.jsx("input",{type:"range",min:"200",max:"1000",step:"50",value:le.maxResponseLength,onChange:M=>Q({...le,maxResponseLength:parseInt(M.target.value)}),className:"w-full"})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Tono"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Estilo de respuestas"})]}),n.jsxs(Ot,{defaultValue:"professional",children:[n.jsx(_t,{className:"w-40",children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"professional",children:"Profesional"}),n.jsx(Ae,{value:"friendly",children:"Amigable"}),n.jsx(Ae,{value:"formal",children:"Formal"})]})]})]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dn,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Escalacin Automtica"}),n.jsx(qt,{children:"Cundo transferir a humano"})]})]})}),n.jsxs(ve,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Escalacin automtica"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Activar deteccin"})]}),n.jsx(fr,{checked:le.autoEscalate,onCheckedChange:M=>Q({...le,autoEscalate:M})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Escalar por confianza baja"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Si IA no est segura"})]}),n.jsx(fr,{checked:le.escalateOnLowConfidence,onCheckedChange:M=>Q({...le,escalateOnLowConfidence:M})})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Se,{children:"Intentos antes de escalar"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Despus de X intentos"})]}),n.jsxs(Ot,{value:le.escalateAfterAttempts.toString(),onValueChange:M=>Q({...le,escalateAfterAttempts:parseInt(M)}),children:[n.jsx(_t,{className:"w-20",children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"2",children:"2"}),n.jsx(Ae,{value:"3",children:"3"}),n.jsx(Ae,{value:"5",children:"5"})]})]})]}),n.jsx(Ze,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Se,{children:"Palabras clave de escalacin"}),n.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>N(!0),children:[n.jsx(Wn,{className:"h-3 w-3 mr-1"}),"Agregar"]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(M=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded bg-muted",children:[n.jsx("span",{className:"text-sm",children:M.keyword}),W(M.priority),n.jsx("button",{onClick:()=>v(m.filter(P=>P.id!==M.id)),className:"ml-1 text-muted-foreground hover:text-destructive",children:n.jsx(Yn,{className:"h-3 w-3"})})]},M.id))})]})]})]})]})}),n.jsx(Zt,{value:"knowledge",className:"space-y-6",children:n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yh,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Base de Conocimiento"}),n.jsx(qt,{children:"Preguntas frecuentes para la IA"})]})]}),n.jsxs(oe,{onClick:()=>S(!0),children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Agregar entrada"]})]})}),n.jsx(ve,{children:n.jsx("div",{className:"space-y-4",children:d.map(M=>n.jsx("div",{className:"p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ye,{variant:"outline",children:M.category}),!M.isActive&&n.jsx(ye,{variant:"secondary",children:"Inactivo"})]}),n.jsx("p",{className:"font-medium mb-2",children:M.question}),n.jsx("p",{className:"text-sm text-muted-foreground",children:M.answer})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{checked:M.isActive,onCheckedChange:P=>{f(d.map(K=>K.id===M.id?{...K,isActive:P}:K))}}),n.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>E(M),children:n.jsx(Wl,{className:"h-4 w-4"})}),n.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>f(d.filter(P=>P.id!==M.id)),children:n.jsx(jh,{className:"h-4 w-4 text-destructive"})})]})]})},M.id))})})]})}),n.jsx(Zt,{value:"team",className:"space-y-6",children:n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Equipo"}),n.jsx(qt,{children:"Administrar usuarios y permisos"})]})]}),n.jsxs(oe,{onClick:()=>j(!0),children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Agregar usuario"]})]})}),n.jsx(ve,{children:n.jsx("div",{className:"space-y-4",children:l.map(M=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/20 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium",children:M.name.split(" ").map(P=>P[0]).join("")})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:M.name}),H(M.role),M.status==="inactive"&&n.jsx(ye,{variant:"secondary",children:"Inactivo"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:M.email}),M.lastLogin&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltimo acceso: ",M.lastLogin.toLocaleDateString("es-SV")]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oe,{variant:"ghost",size:"icon",children:n.jsx(Wl,{className:"h-4 w-4"})}),M.role!=="admin"&&n.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>u(l.filter(P=>P.id!==M.id)),children:n.jsx(jh,{className:"h-4 w-4 text-destructive"})})]})]},M.id))})})]})}),n.jsx(Zt,{value:"system",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vv,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:"Datos y Respaldo"}),n.jsx(qt,{children:"Exportar e importar datos"})]})]})}),n.jsxs(ve,{className:"space-y-4",children:[n.jsxs(oe,{variant:"outline",className:"w-full justify-start",children:[n.jsx(Ml,{className:"h-4 w-4 mr-2"}),"Exportar conversaciones"]}),n.jsxs(oe,{variant:"outline",className:"w-full justify-start",children:[n.jsx(Ml,{className:"h-4 w-4 mr-2"}),"Exportar clientes"]}),n.jsxs(oe,{variant:"outline",className:"w-full justify-start",children:[n.jsx(Ml,{className:"h-4 w-4 mr-2"}),"Exportar rdenes"]}),n.jsx(Ze,{}),n.jsxs(oe,{variant:"outline",className:"w-full justify-start",children:[n.jsx(h_,{className:"h-4 w-4 mr-2"}),"Importar base de conocimiento"]})]})]}),n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wv,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:e("settings.security")}),n.jsx(qt,{children:"Seguridad y acceso"})]})]})}),n.jsxs(ve,{className:"space-y-4",children:[n.jsxs(oe,{variant:"outline",className:"w-full justify-start",children:[n.jsx(e_,{className:"h-4 w-4 mr-2"}),"Cambiar contrasea"]}),n.jsxs(oe,{variant:"outline",className:"w-full justify-start",children:[n.jsx(wv,{className:"h-4 w-4 mr-2"}),"Configurar 2FA"]}),n.jsxs(oe,{variant:"outline",className:"w-full justify-start text-destructive",children:[n.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Cerrar otras sesiones"]}),n.jsx(Ze,{}),n.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[n.jsx("p",{className:"text-sm font-medium",children:"Claves API"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Anthropic: 4a3b"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Twilio: 8f2c"})]})]})]}),n.jsxs(ie,{className:"lg:col-span-2",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yv,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx(Ne,{className:"text-base",children:e("settings.integrations")}),n.jsx(qt,{children:"Servicios conectados"})]})]})}),n.jsx(ve,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-lg border bg-accent/5 border-accent/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:"WhatsApp Business"}),n.jsx(ye,{className:"bg-accent/20 text-accent border-accent/30",children:"Conectado"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"+503 7947-5950"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Twilio API"})]}),n.jsxs("div",{className:"p-4 rounded-lg border bg-accent/5 border-accent/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:"Claude AI"}),n.jsx(ye,{className:"bg-accent/20 text-accent border-accent/30",children:"Activo"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"claude-sonnet-4"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Anthropic API"})]}),n.jsxs("div",{className:"p-4 rounded-lg border bg-accent/5 border-accent/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:"Supabase"}),n.jsx(ye,{className:"bg-accent/20 text-accent border-accent/30",children:"Conectado"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"PostgreSQL"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"us-east-1"})]})]})})]})]})})]}),n.jsx(bs,{open:w,onOpenChange:j,children:n.jsxs(qn,{children:[n.jsx(Gn,{children:n.jsx(Qn,{children:"Agregar Usuario"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Nombre completo"}),n.jsx(Ue,{value:k.name,onChange:M=>T({...k,name:M.target.value}),placeholder:"Juan Prez"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Email"}),n.jsx(Ue,{type:"email",value:k.email,onChange:M=>T({...k,email:M.target.value}),placeholder:"juan@lavanderiaoriental.com.sv"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Rol"}),n.jsxs(Ot,{value:k.role,onValueChange:M=>T({...k,role:M}),children:[n.jsx(_t,{children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"admin",children:"Admin"}),n.jsx(Ae,{value:"manager",children:"Manager"}),n.jsx(Ae,{value:"agent",children:"Agente"})]})]})]})]}),n.jsxs(Bl,{children:[n.jsx(oe,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),n.jsx(oe,{onClick:q,children:"Agregar"})]})]})}),n.jsx(bs,{open:b,onOpenChange:S,children:n.jsxs(qn,{children:[n.jsx(Gn,{children:n.jsx(Qn,{children:"Agregar Entrada"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Pregunta"}),n.jsx(Ue,{value:$.question,onChange:M=>O({...$,question:M.target.value}),placeholder:"Cunto cuesta...?"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Respuesta"}),n.jsx(mn,{rows:3,value:$.answer,onChange:M=>O({...$,answer:M.target.value}),placeholder:"El precio es..."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Categora"}),n.jsxs(Ot,{value:$.category,onValueChange:M=>O({...$,category:M}),children:[n.jsx(_t,{children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"precios",children:"Precios"}),n.jsx(Ae,{value:"servicios",children:"Servicios"}),n.jsx(Ae,{value:"horarios",children:"Horarios"}),n.jsx(Ae,{value:"ubicaciones",children:"Ubicaciones"}),n.jsx(Ae,{value:"general",children:"General"})]})]})]})]}),n.jsxs(Bl,{children:[n.jsx(oe,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),n.jsx(oe,{onClick:ne,children:"Agregar"})]})]})}),n.jsx(bs,{open:y,onOpenChange:N,children:n.jsxs(qn,{children:[n.jsx(Gn,{children:n.jsx(Qn,{children:"Agregar Palabra Clave"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Palabra clave"}),n.jsx(Ue,{value:L.keyword,onChange:M=>G({...L,keyword:M.target.value}),placeholder:"queja, reclamo, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Se,{children:"Prioridad"}),n.jsxs(Ot,{value:L.priority,onValueChange:M=>G({...L,priority:M}),children:[n.jsx(_t,{children:n.jsx(It,{})}),n.jsxs(Ct,{children:[n.jsx(Ae,{value:"high",children:"Alta - Escalacin inmediata"}),n.jsx(Ae,{value:"medium",children:"Media - Revisar contexto"}),n.jsx(Ae,{value:"low",children:"Baja - Monitorear"})]})]})]})]}),n.jsxs(Bl,{children:[n.jsx(oe,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),n.jsx(oe,{onClick:de,children:"Agregar"})]})]})})]})}var lm="Collapsible",[UI,vN]=Ft(lm),[zI,cm]=UI(lm),xN=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:i,defaultOpen:o,disabled:l,onOpenChange:u,...d}=e,[f=!1,m]=vr({prop:i,defaultProp:o,onChange:u});return n.jsx(zI,{scope:r,disabled:l,contentId:nr(),open:f,onOpenToggle:g.useCallback(()=>m(v=>!v),[m]),children:n.jsx(pe.div,{"data-state":dm(f),"data-disabled":l?"":void 0,...d,ref:t})})});xN.displayName=lm;var yN="CollapsibleTrigger",wN=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,...i}=e,o=cm(yN,r);return n.jsx(pe.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":dm(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...i,ref:t,onClick:se(e.onClick,o.onOpenToggle)})});wN.displayName=yN;var um="CollapsibleContent",jN=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=cm(um,e.__scopeCollapsible);return n.jsx(Mt,{present:r||o.open,children:({present:l})=>n.jsx(BI,{...i,ref:t,present:l})})});jN.displayName=um;var BI=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:i,children:o,...l}=e,u=cm(um,r),[d,f]=g.useState(i),m=g.useRef(null),v=Me(t,m),w=g.useRef(0),j=w.current,b=g.useRef(0),S=b.current,y=u.open||d,N=g.useRef(y),C=g.useRef(void 0);return g.useEffect(()=>{const E=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(E)},[]),lt(()=>{const E=m.current;if(E){C.current=C.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const k=E.getBoundingClientRect();w.current=k.height,b.current=k.width,N.current||(E.style.transitionDuration=C.current.transitionDuration,E.style.animationName=C.current.animationName),f(i)}},[u.open,i]),n.jsx(pe.div,{"data-state":dm(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!y,...l,ref:v,style:{"--radix-collapsible-content-height":j?`${j}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:y&&o})});function dm(e){return e?"open":"closed"}var VI=xN,HI=wN,WI=jN,yn="Accordion",KI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[hm,qI,GI]=Zi(yn),[Yc]=Ft(yn,[GI,vN]),fm=vN(),bN=Ke.forwardRef((e,t)=>{const{type:r,...i}=e,o=i,l=i;return n.jsx(hm.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(XI,{...l,ref:t}):n.jsx(JI,{...o,ref:t})})});bN.displayName=yn;var[NN,QI]=Yc(yn),[SN,YI]=Yc(yn,{collapsible:!1}),JI=Ke.forwardRef((e,t)=>{const{value:r,defaultValue:i,onValueChange:o=()=>{},collapsible:l=!1,...u}=e,[d,f]=vr({prop:r,defaultProp:i,onChange:o});return n.jsx(NN,{scope:e.__scopeAccordion,value:d?[d]:[],onItemOpen:f,onItemClose:Ke.useCallback(()=>l&&f(""),[l,f]),children:n.jsx(SN,{scope:e.__scopeAccordion,collapsible:l,children:n.jsx(_N,{...u,ref:t})})})}),XI=Ke.forwardRef((e,t)=>{const{value:r,defaultValue:i,onValueChange:o=()=>{},...l}=e,[u=[],d]=vr({prop:r,defaultProp:i,onChange:o}),f=Ke.useCallback(v=>d((w=[])=>[...w,v]),[d]),m=Ke.useCallback(v=>d((w=[])=>w.filter(j=>j!==v)),[d]);return n.jsx(NN,{scope:e.__scopeAccordion,value:u,onItemOpen:f,onItemClose:m,children:n.jsx(SN,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(_N,{...l,ref:t})})})}),[ZI,Jc]=Yc(yn),_N=Ke.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:i,dir:o,orientation:l="vertical",...u}=e,d=Ke.useRef(null),f=Me(d,t),m=qI(r),w=La(o)==="ltr",j=se(e.onKeyDown,b=>{if(!KI.includes(b.key))return;const S=b.target,y=m().filter(G=>!G.ref.current?.disabled),N=y.findIndex(G=>G.ref.current===S),C=y.length;if(N===-1)return;b.preventDefault();let E=N;const k=0,T=C-1,$=()=>{E=N+1,E>T&&(E=k)},O=()=>{E=N-1,E<k&&(E=T)};switch(b.key){case"Home":E=k;break;case"End":E=T;break;case"ArrowRight":l==="horizontal"&&(w?$():O());break;case"ArrowDown":l==="vertical"&&$();break;case"ArrowLeft":l==="horizontal"&&(w?O():$());break;case"ArrowUp":l==="vertical"&&O();break}const L=E%C;y[L].ref.current?.focus()});return n.jsx(ZI,{scope:r,disabled:i,direction:o,orientation:l,children:n.jsx(hm.Slot,{scope:r,children:n.jsx(pe.div,{...u,"data-orientation":l,ref:f,onKeyDown:i?void 0:j})})})}),uc="AccordionItem",[eD,mm]=Yc(uc),CN=Ke.forwardRef((e,t)=>{const{__scopeAccordion:r,value:i,...o}=e,l=Jc(uc,r),u=QI(uc,r),d=fm(r),f=nr(),m=i&&u.value.includes(i)||!1,v=l.disabled||e.disabled;return n.jsx(eD,{scope:r,open:m,disabled:v,triggerId:f,children:n.jsx(VI,{"data-orientation":l.orientation,"data-state":AN(m),...d,...o,ref:t,disabled:v,open:m,onOpenChange:w=>{w?u.onItemOpen(i):u.onItemClose(i)}})})});CN.displayName=uc;var EN="AccordionHeader",kN=Ke.forwardRef((e,t)=>{const{__scopeAccordion:r,...i}=e,o=Jc(yn,r),l=mm(EN,r);return n.jsx(pe.h3,{"data-orientation":o.orientation,"data-state":AN(l.open),"data-disabled":l.disabled?"":void 0,...i,ref:t})});kN.displayName=EN;var sf="AccordionTrigger",RN=Ke.forwardRef((e,t)=>{const{__scopeAccordion:r,...i}=e,o=Jc(yn,r),l=mm(sf,r),u=YI(sf,r),d=fm(r);return n.jsx(hm.ItemSlot,{scope:r,children:n.jsx(HI,{"aria-disabled":l.open&&!u.collapsible||void 0,"data-orientation":o.orientation,id:l.triggerId,...d,...i,ref:t})})});RN.displayName=sf;var TN="AccordionContent",PN=Ke.forwardRef((e,t)=>{const{__scopeAccordion:r,...i}=e,o=Jc(yn,r),l=mm(TN,r),u=fm(r);return n.jsx(WI,{role:"region","aria-labelledby":l.triggerId,"data-orientation":o.orientation,...u,...i,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});PN.displayName=TN;function AN(e){return e?"open":"closed"}var tD=bN,rD=CN,nD=kN,ON=RN,IN=PN;const sD=tD,DN=g.forwardRef(({className:e,...t},r)=>n.jsx(rD,{ref:r,className:ae("border-b",e),...t}));DN.displayName="AccordionItem";const MN=g.forwardRef(({className:e,children:t,...r},i)=>n.jsx(nD,{className:"flex",children:n.jsxs(ON,{ref:i,className:ae("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(af,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));MN.displayName=ON.displayName;const LN=g.forwardRef(({className:e,children:t,...r},i)=>n.jsx(IN,{ref:i,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:ae("pb-4 pt-0",e),children:t})}));LN.displayName=IN.displayName;function aD(){const{t:e}=ar(),t=[{icon:yh,titleKey:"help.gettingStarted",descKey:"help.gettingStartedDesc",color:"text-primary"},{icon:ks,titleKey:"help.whatsappIntegration",descKey:"help.whatsappIntegrationDesc",color:"text-green-500"},{icon:gr,titleKey:"help.aiConfiguration",descKey:"help.aiConfigurationDesc",color:"text-primary"},{icon:hc,titleKey:"help.reportsAnalytics",descKey:"help.reportsAnalyticsDesc",color:"text-accent"}],r=[{question:"Cmo configuro el bot de WhatsApp?",answer:"Para configurar el bot de WhatsApp, ve a Configuracin > Integraciones y sigue las instrucciones para conectar tu cuenta de WhatsApp Business. Necesitars tener una cuenta de Meta Business verificada."},{question:"Cmo personalizo las respuestas automticas de la IA?",answer:"En Configuracin > Configuracin de IA puedes ajustar el tono de voz, agregar respuestas personalizadas para preguntas frecuentes, y definir cundo el sistema debe escalar a un agente humano."},{question:"Cmo agrego una nueva sucursal?",answer:"Ve a Sucursales y haz clic en 'Agregar Sucursal'. Ingresa la informacin de la ubicacin incluyendo direccin, telfono y horarios de operacin. La nueva sucursal aparecer inmediatamente en el sistema."},{question:"Cmo exporto los reportes de actividad?",answer:"En la seccin de Analticas, encontrars un botn de exportar en la esquina superior derecha. Puedes exportar los datos en formato CSV o PDF para cualquier rango de fechas."},{question:"Qu hago si un cliente solicita hablar con un humano?",answer:"El sistema detecta automticamente cuando un cliente quiere hablar con una persona y crea una escalacin. Vers estas en el panel de Escalaciones donde puedes tomar el control de la conversacin."},{question:"Cmo actualizo los precios de los servicios?",answer:"Los precios se pueden actualizar en Configuracin > Servicios. Los cambios se reflejan inmediatamente en las respuestas del bot de IA cuando los clientes preguntan por precios."}];return n.jsxs("div",{className:"p-6 space-y-6","data-testid":"help-page",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:e("help.title")}),n.jsx("p",{className:"text-muted-foreground",children:e("help.subtitle")})]}),n.jsxs("div",{className:"relative max-w-xl",children:[n.jsx(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(Ue,{placeholder:e("help.search"),className:"pl-9","data-testid":"input-search-help"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((i,o)=>n.jsx(ie,{className:"hover-elevate cursor-pointer","data-testid":`help-topic-${o}`,children:n.jsxs(ve,{className:"p-4",children:[n.jsx(i.icon,{className:`h-8 w-8 mb-3 ${i.color}`}),n.jsx("h3",{className:"font-semibold mb-1",children:e(i.titleKey)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e(i.descKey)})]})},o))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ry,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:e("help.faq")})]})}),n.jsx(ve,{children:n.jsx(sD,{type:"single",collapsible:!0,className:"w-full",children:r.map((i,o)=>n.jsxs(DN,{value:`faq-${o}`,children:[n.jsx(MN,{className:"text-left","data-testid":`faq-trigger-${o}`,children:i.question}),n.jsx(LN,{className:"text-muted-foreground",children:i.answer})]},o))})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ie,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pt,{className:"h-5 w-5 text-primary"}),n.jsx(Ne,{className:"text-base",children:e("help.contactSupport")})]})}),n.jsxs(ve,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ay,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:e("help.email")}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"soporte@lavanderia.sv"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(pn,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:e("help.phone")}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"+503 2222-3333"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(rr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Horario"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e("help.hours")})]})]}),n.jsxs(oe,{className:"w-full gold-gradient","data-testid":"button-contact-support",children:[n.jsx(pt,{className:"h-4 w-4 mr-2"}),"Iniciar Chat de Soporte"]})]})]}),n.jsx(ie,{children:n.jsxs(ve,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-accent/10",children:n.jsx(ZS,{className:"h-4 w-4 text-accent"})}),n.jsx("span",{className:"font-medium",children:"Recursos Adicionales"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-foreground",children:"Documentacin completa"}),n.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-foreground",children:"Videos tutoriales"}),n.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-foreground",children:"Comunidad de usuarios"}),n.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-foreground",children:"Estado del sistema"})]})]})})]})]})]})}function iD(){return n.jsxs(jC,{children:[n.jsx(Er,{path:"/",component:pI}),n.jsx(Er,{path:"/conversations",component:yI}),n.jsx(Er,{path:"/customers",component:SI}),n.jsx(Er,{path:"/locations",component:TI}),n.jsx(Er,{path:"/services",component:PI}),n.jsx(Er,{path:"/orders",component:AI}),n.jsx(Er,{path:"/analytics",component:OI}),n.jsx(Er,{path:"/notifications",component:DI}),n.jsx(Er,{path:"/settings",component:FI}),n.jsx(Er,{path:"/help",component:aD}),n.jsx(Er,{component:v4})]})}function oD(){const{user:e,signOut:t,isDemoMode:r}=so();if(!e)return null;const i=e.name.split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2),o={owner:"Propietario",admin:"Administrador",manager:"Gerente",staff:"Personal"};return n.jsxs(Bc,{children:[n.jsx(Vc,{asChild:!0,children:n.jsx(oe,{variant:"ghost",size:"icon",className:"relative",children:n.jsx(Dr,{className:"h-8 w-8",children:n.jsx(Mr,{className:"bg-primary text-primary-foreground text-xs",children:i})})})}),n.jsxs(oo,{align:"end",className:"w-56",children:[n.jsx(Zf,{className:"font-normal",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:e.name}),r&&n.jsxs(ye,{variant:"secondary",className:"text-xs h-5 px-1.5",children:[n.jsx(gr,{className:"h-3 w-3 mr-1"}),"Demo"]})]}),n.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o[e.role]||e.role})]})}),n.jsx(Hc,{}),n.jsxs(Kr,{onClick:()=>t(),children:[n.jsx(s_,{className:"mr-2 h-4 w-4"}),"Cerrar Sesin"]})]})]})}function lD(){const{t:e}=ar(),{isDemoMode:t}=so(),r={"--sidebar-width":"16rem","--sidebar-width-icon":"3.5rem"};return n.jsx(BR,{style:r,children:n.jsxs("div",{className:"flex h-screen w-full overflow-hidden",children:[n.jsx(HA,{}),n.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[n.jsxs("header",{className:"flex items-center justify-between gap-2 px-4 py-2 border-b border-border bg-card shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(HR,{"data-testid":"button-sidebar-toggle"}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsx(ye,{variant:"outline",className:"text-xs border-accent/30 text-accent",children:e("common.elSalvador")}),t&&n.jsxs(ye,{variant:"secondary",className:"text-xs",children:[n.jsx(gr,{className:"h-3 w-3 mr-1"}),"Modo Demo"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ql,{href:"/notifications",children:n.jsxs(oe,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[n.jsx(_a,{className:"h-5 w-5"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 rounded-full bg-destructive"})]})}),n.jsx(g4,{}),n.jsx(WA,{}),n.jsx(oD,{})]})]}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx(iD,{})})]})]})})}function cD(){const{isAuthenticated:e,isLoading:t}=so();return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg gold-gradient flex items-center justify-center mx-auto mb-4 animate-pulse",children:n.jsx("span",{className:"text-xl font-bold text-primary-foreground",children:"LO"})}),n.jsx("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):e?n.jsx(lD,{}):n.jsx(b4,{})}function uD(){return n.jsx(BC,{client:n2,children:n.jsx(Fw,{children:n.jsx(dT,{children:n.jsxs(VA,{children:[n.jsx(cD,{}),n.jsx(J2,{})]})})})})}BS.createRoot(document.getElementById("root")).render(n.jsx(g.StrictMode,{children:n.jsx(X_,{children:n.jsx(uD,{})})}));
